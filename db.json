{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","path":"fancybox/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","path":"fancybox/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","path":"js/jquery-3.6.4.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/butterfly-icon.png","path":"img/butterfly-icon.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/error-page.png","path":"img/error-page.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1740133494657},{"_id":"node_modules/hexo-theme-landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1740134371897},{"_id":"node_modules/hexo-theme-landscape/README.md","hash":"6497b70356271fd6f9f1dc862353be844c457a53","modified":1740134372624},{"_id":"node_modules/hexo-theme-landscape/_config.yml","hash":"a93d7b3990e45bc7247eecf01888f71674887a63","modified":1740134372642},{"_id":"node_modules/hexo-theme-landscape/package.json","hash":"06889bee30e4c39479467021da434d3a6a0990fc","modified":1740134372623},{"_id":"node_modules/hexo-theme-landscape/languages/en-GB.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1740134372644},{"_id":"node_modules/hexo-theme-landscape/languages/de-DE.yml","hash":"d29d1c4256b7ed9df42f511c2ff0a23ad5fd6c1f","modified":1740134372642},{"_id":"node_modules/hexo-theme-landscape/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1740134372643},{"_id":"node_modules/hexo-theme-landscape/languages/es-ES.yml","hash":"7008a8fc91f18d2a735864817b8ebda30c7a2c66","modified":1740134372646},{"_id":"node_modules/hexo-theme-landscape/languages/en.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1740134372646},{"_id":"node_modules/hexo-theme-landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1740134372648},{"_id":"node_modules/hexo-theme-landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1740134372643},{"_id":"node_modules/hexo-theme-landscape/languages/fr-FR.yml","hash":"8d09dbdab00a30a2870b56f7c0a7ca7deafa7b88","modified":1740134372648},{"_id":"node_modules/hexo-theme-landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1740134372649},{"_id":"node_modules/hexo-theme-landscape/languages/en-US.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1740134372644},{"_id":"node_modules/hexo-theme-landscape/languages/hu-HU.yml","hash":"712d18664898fa21ba38d4973e90ef41a324ea25","modified":1740134372649},{"_id":"node_modules/hexo-theme-landscape/languages/hu.yml","hash":"284d557130bf54a74e7dcef9d42096130e4d9550","modified":1740134372650},{"_id":"node_modules/hexo-theme-landscape/languages/it.yml","hash":"89b7d91306b2c1a0f3ac023b657bf974f798a1e8","modified":1740134372652},{"_id":"node_modules/hexo-theme-landscape/languages/it-IT.yml","hash":"2cb6dc2fab9bd2dbe1c8bb869a9e8bf85a564fdd","modified":1740134372651},{"_id":"node_modules/hexo-theme-landscape/languages/ja-JP.yml","hash":"08481267e0c112e1f6855620f2837ec4c4a98bbd","modified":1740134372652},{"_id":"node_modules/hexo-theme-landscape/languages/ko-KR.yml","hash":"19209ad8f9d4057e8df808937f950eb265e1db69","modified":1740134372653},{"_id":"node_modules/hexo-theme-landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1740134372653},{"_id":"node_modules/hexo-theme-landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1740134372654},{"_id":"node_modules/hexo-theme-landscape/languages/mn-MN.yml","hash":"b9e5f3e7c0c2f779cf2cfded6db847b5941637ca","modified":1740134372654},{"_id":"node_modules/hexo-theme-landscape/languages/nl-NL.yml","hash":"5ebbc30021f05d99938f96dfff280392df7f91f0","modified":1740134372655},{"_id":"node_modules/hexo-theme-landscape/languages/mn.yml","hash":"2e7523951072a9403ead3840ad823edd1084c116","modified":1740134372655},{"_id":"node_modules/hexo-theme-landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1740134372656},{"_id":"node_modules/hexo-theme-landscape/languages/pt-PT.yml","hash":"0f852b6b228e6ea59aa3540574bb89b233f2a098","modified":1740134372657},{"_id":"node_modules/hexo-theme-landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1740134372657},{"_id":"node_modules/hexo-theme-landscape/languages/ru-RU.yml","hash":"360d11a28bb768afb1dd15f63fa7fd3a8cc547ee","modified":1740134372658},{"_id":"node_modules/hexo-theme-landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1740134372658},{"_id":"node_modules/hexo-theme-landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1740134372656},{"_id":"node_modules/hexo-theme-landscape/languages/th-TH.yml","hash":"ebfdba9bc4842c829473c1e6e4544344f182724d","modified":1740134372659},{"_id":"node_modules/hexo-theme-landscape/languages/th.yml","hash":"84a55b00aa01f03982be294e43c33a20e6d32862","modified":1740134372659},{"_id":"node_modules/hexo-theme-landscape/languages/tr.yml","hash":"a1cdbfa17682d7a971de8ab8588bf57c74224b5b","modified":1740134372660},{"_id":"node_modules/hexo-theme-landscape/languages/zh-CN.yml","hash":"1efd95774f401c80193eac6ee3f1794bfe93dc5a","modified":1740134372661},{"_id":"node_modules/hexo-theme-landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1740134372662},{"_id":"node_modules/hexo-theme-landscape/layout/archive.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1740134371905},{"_id":"node_modules/hexo-theme-landscape/layout/category.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1740134371910},{"_id":"node_modules/hexo-theme-landscape/layout/index.ejs","hash":"57281fc3812c877ec2d8e89ec87ede57b9789d4c","modified":1740134371917},{"_id":"node_modules/hexo-theme-landscape/layout/layout.ejs","hash":"0d1765036e4874500e68256fedb7470e96eeb6ee","modified":1740134371917},{"_id":"node_modules/hexo-theme-landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1740134371920},{"_id":"node_modules/hexo-theme-landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1740134371921},{"_id":"node_modules/hexo-theme-landscape/layout/tag.ejs","hash":"97160b8111dd0283f8231408bcab4c87d31c1646","modified":1740134371926},{"_id":"node_modules/hexo-theme-landscape/scripts/fancybox.js","hash":"c857d7a5e4a5d71c743a009c5932bf84229db428","modified":1740134372404},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/after-footer.ejs","hash":"1b89d0caba03a66a43d9c290a5e94fa438a89210","modified":1740134371901},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1740134371902},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive.ejs","hash":"0039146b8ccbdf9b9f8bee58fc6c238f0e9921fc","modified":1740134371903},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/article.ejs","hash":"e9d4678e14be5e3cd5e34d783e5af6d6626092f5","modified":1740134371907},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/gauges-analytics.ejs","hash":"21a1e2a3907d1a3dad1cd0ab855fe6735f233c74","modified":1740134371913},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/footer.ejs","hash":"3656eb692254346671abc03cb3ba1459829e0dce","modified":1740134371912},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/google-analytics.ejs","hash":"2ea7442ea1e1a8ab4e41e26c563f58413b59a3d0","modified":1740134371914},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/head.ejs","hash":"0e94f5722d4c44d3cc91be2f4fd30b9ab503b868","modified":1740134371915},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/header.ejs","hash":"6a5033d189554c9a6d42e2ef7952ae5c9742648e","modified":1740134371916},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1740134371918},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1740134371923},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1740134371904},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1740134371909},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/recent_posts.ejs","hash":"60c4b012dcc656438ff59997e60367e5a21ab746","modified":1740134371922},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1740134371925},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1740134371927},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1740134371900},{"_id":"node_modules/hexo-theme-landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1740134372626},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","hash":"e55a1d92954ed20f6887f92dc727bb995a010a43","modified":1740134372642},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1740134372621},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1740134371908},{"_id":"node_modules/hexo-theme-landscape/source/css/_variables.styl","hash":"ca28281423ae57d76b6c1eb91cd845fd4e518bd6","modified":1740134372627},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/date.ejs","hash":"f1458584b679545830b75bef2526e2f3eb931045","modified":1740134371911},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1740134371912},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1740134371919},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1740134371924},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/title.ejs","hash":"4d7e62574ddf46de9b41605fe3140d77b5ddb26d","modified":1740134371930},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1740134372635},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1740134372638},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1740134372629},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/article.styl","hash":"f608400a08cf137ab15ec1f44bac551950afe879","modified":1740134372630},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1740134372631},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1740134372632},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1740134372638},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/header.styl","hash":"268d2989acb06e2ddd06cc36a6918c6cd865476b","modified":1740134372636},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1740134372639},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/highlight.styl","hash":"9cc3b2927d814f2f6e8e188f9d3657b94f4c6ef3","modified":1740134372637},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1740134372639},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1740134372640},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1740134372619},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1740134372609},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1740134372398},{"_id":"public/2025/02/21/hello-world/index.html","hash":"6a752bef1a9cbc1eb3919a75ae5c802e6998f208","modified":1740134913767},{"_id":"public/archives/index.html","hash":"9058bd2c0de8ca9b294a599b4555b79c20289249","modified":1742200647506},{"_id":"public/archives/2025/index.html","hash":"fce0ff1fccb097a3907f4bb72fe2a93ddcacba0a","modified":1740134913767},{"_id":"public/archives/2025/02/index.html","hash":"3c32ed3a19d619e208ab8709046450078f4dea30","modified":1740134913767},{"_id":"public/index.html","hash":"eebb9aa38c46067cab549438aa57e223b68cd1b2","modified":1742200647506},{"_id":"public/css/style.css","hash":"ecc329be740a220cc188ff49b02da4847cb7ee5e","modified":1740134615348},{"_id":"public/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1740134615348},{"_id":"public/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1740134615348},{"_id":"public/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1740134615348},{"_id":"public/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1740134615348},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1740134615348},{"_id":"node_modules/hexo-theme-butterfly/LICENSE","hash":"c8bc7df08db9dd3b39c2c2259a163a36cf2f6808","modified":1740134550234},{"_id":"node_modules/hexo-theme-butterfly/README.md","hash":"e1b9096ae0c4e5ef0a911aec05dbad4a3aae3173","modified":1740134550301},{"_id":"node_modules/hexo-theme-butterfly/_config.yml","hash":"97cafd081ecdbf95389add9ca6b21fca4dd619a0","modified":1740134550511},{"_id":"node_modules/hexo-theme-butterfly/README_CN.md","hash":"92e45255b8725f0a00450c88fcfd51ec61e1db67","modified":1740134550300},{"_id":"node_modules/hexo-theme-butterfly/package.json","hash":"9d19fd4579698570cf794204252ee16f255adb4d","modified":1740134550299},{"_id":"node_modules/hexo-theme-butterfly/plugins.yml","hash":"772322fd6b31cc785b3d376f44e9e953f501cc32","modified":1740134550520},{"_id":"node_modules/hexo-theme-butterfly/.github/FUNDING.yml","hash":"da5e77f5e0cdb7e11b36546fb6796d10e3dfbe5d","modified":1740134550517},{"_id":"node_modules/hexo-theme-butterfly/languages/default.yml","hash":"a2c938b1ef69195aec10c90dc7d1871953548e01","modified":1740134550514},{"_id":"node_modules/hexo-theme-butterfly/languages/en.yml","hash":"a2c938b1ef69195aec10c90dc7d1871953548e01","modified":1740134550514},{"_id":"node_modules/hexo-theme-butterfly/languages/ja.yml","hash":"a281d3cc3e117e90597b783dc5569dba3976d2eb","modified":1740134550518},{"_id":"node_modules/hexo-theme-butterfly/languages/ko.yml","hash":"c7d861c58f204f47a5b4d6e118e1f1e8fb8a852f","modified":1740134550519},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-CN.yml","hash":"e0bf36edf18cf3380b900be7528b536252990c26","modified":1740134550523},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-HK.yml","hash":"bac3063ad2892be232f7d91361c28585a3cc7eb5","modified":1740134550523},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-TW.yml","hash":"bd7ee35aa30964493d2729ef105bb86331b096c3","modified":1740134550524},{"_id":"node_modules/hexo-theme-butterfly/layout/category.pug","hash":"a7e9805a781e34e38d27462e6ce2a5821c34bb9f","modified":1740134550371},{"_id":"node_modules/hexo-theme-butterfly/layout/archive.pug","hash":"bc77220dfc269b8faad0930e1a4142ebf68165e5","modified":1740134550347},{"_id":"node_modules/hexo-theme-butterfly/layout/index.pug","hash":"a93004cc8ec8050df603d32a6e6e02cd96fd9875","modified":1740134550403},{"_id":"node_modules/hexo-theme-butterfly/layout/page.pug","hash":"7ce2a49c6c41847de4ccea377ade116339984434","modified":1740134550418},{"_id":"node_modules/hexo-theme-butterfly/layout/post.pug","hash":"65c4a49c65c3fc4d9dc88b9791a75710c698c3a1","modified":1740134550421},{"_id":"node_modules/hexo-theme-butterfly/layout/tag.pug","hash":"ca5333bd262cb58c195c844b593a0eed0c721766","modified":1740134550436},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"63ad2249ad09fb3fe21bd5ff9adefb304a7ab24a","modified":1740134550513},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"10ce05c8dbde09f53bdabe40b5388de9ccc71a31","modified":1740134550512},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"6e0f9470b18bd37d4891282ac73d61676b040e8c","modified":1740134550516},{"_id":"node_modules/hexo-theme-butterfly/.github/workflows/publish.yml","hash":"e320b40c051bae1549156cd5ea4a51383cf78598","modified":1740134550520},{"_id":"node_modules/hexo-theme-butterfly/.github/workflows/stale.yml","hash":"4040c76547e270aaf184e9b219a44ca41bbb1b9f","modified":1740134550521},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/footer.pug","hash":"6bd41add3a45e55d5e51eab5285a2d1a909d37f3","modified":1740134550387},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/additional-js.pug","hash":"f9b02aac0dbbb2b71c037dd215e70c8b7ec7741c","modified":1740134550341},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head.pug","hash":"1d11e334b22dbbedcb0f751f9ee9789d4416605e","modified":1740134550392},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/layout.pug","hash":"e5e6c05a621483b3542f2884e8ba45e84b1e973a","modified":1740134550407},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/pagination.pug","hash":"bd45e6fa935ace9cb54499b0491dacfb78ccc354","modified":1740134550418},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/rightside.pug","hash":"43f951b639038f3bc01deea03368d8dcf492cbb0","modified":1740134550428},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/sidebar.pug","hash":"3e65b7bf6bccccbba7e15349f0a44f15c64c5b5e","modified":1740134550431},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/404.js","hash":"039fc75f363d79669b0b2177d929cdff6f2ef7a4","modified":1740134550253},{"_id":"node_modules/hexo-theme-butterfly/scripts/common/postDesc.js","hash":"272613a71d16f0de6dac883be4839259f774be76","modified":1740134550288},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/cdn.js","hash":"7864ba45716c51aef8d8b04fd4bc212e0008ce3b","modified":1740134550263},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/init.js","hash":"ce68e84a9ccfcf91100befbaa9afc392a0cd93bb","modified":1740134550271},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/comment.js","hash":"7b1b16e1e8e08245a345764616956be50487eb53","modified":1740134550266},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/merge_config.js","hash":"10ffed853a935498f1f5da2c5b57200c957874a7","modified":1740134550282},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/stylus.js","hash":"bac639c404588ea62e601ef0bcd368c3bd0119af","modified":1740134550293},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/welcome.js","hash":"f59e10305fef59ea3e62a7395106c0927582879d","modified":1740134550298},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/post_lazyload.js","hash":"b23108d29fff3e32384d8689c8bcd2ab306a1ae7","modified":1740134550287},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/random_cover.js","hash":"20a6ebf63439501a4b3fc81e7a2a2ea5d103bace","modified":1740134550289},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_archives.js","hash":"3eb0bbb1288dc7b0ff82cc46ceb53bd666893416","modified":1740134550260},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_categories.js","hash":"0cdf781a8c14d7b50d309e69f282ec7b178804bb","modified":1740134550261},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/getArchiveLength.js","hash":"bf77635e920eaf52bceebc95f87c7c87a7ca8038","modified":1740134550269},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/inject_head_js.js","hash":"088493dca2a157b49d232db482ef916207240b46","modified":1740134550272},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/page.js","hash":"a07b586b510aa2df953102d998e84207acc34f9b","modified":1740134550285},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/related_post.js","hash":"950b7d0966429bf0f9e6c5e1161e50e545e320b4","modified":1740134550290},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/series.js","hash":"45367c4ce827329867dbcc750ec125da9ccb2cfd","modified":1740134550291},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/button.js","hash":"2f44e1b3ccd170b256eae178299d6fa933a8d490","modified":1740134550262},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/chartjs.js","hash":"195ba802d7e8406c155124a9c939a2318f82938b","modified":1740134550264},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/flink.js","hash":"25eefe10189caf3910a0e5d5b2f2043ae9255531","modified":1740134550267},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/gallery.js","hash":"fa3d0a64f7fce4aff7928d4ddd95548978ba001c","modified":1740134550268},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/hide.js","hash":"f02fb085a88a2c0c82aeffacc24e1b71c74bd7c0","modified":1740134550271},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/inlineImg.js","hash":"89c6c78d2db43b190055d5690741a79bab4f3e7e","modified":1740134550274},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/label.js","hash":"cf0bc17d0180231167cc6aa8a00fc64f198cb9f9","modified":1740134550274},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/note.js","hash":"e68d8d21f3a86e3646907a3685550ee20e8d4a9f","modified":1740134550284},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/mermaid.js","hash":"50d8d8fac5c5b6e26317028895d7d82a2cf46606","modified":1740134550283},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/score.js","hash":"35d54adc92e717cc32e13515122b025fd1a98ea2","modified":1740134550290},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/series.js","hash":"40bc9a065e3a1423e0e66f4911e00713ca9f5e9e","modified":1740134550292},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/tabs.js","hash":"3c486b149e28edd1a06843f05a5c355000991b82","modified":1740134550294},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/timeline.js","hash":"176804f07567aa80f1ed95897a968a996b155dec","modified":1740134550295},{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","hash":"b13d96924a5534bff91d75566b196ac87b4fac22","modified":1740134550489},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","hash":"7dd98b0491ae97b1bf2b4c6b025c04a9eca35e5f","modified":1740134550509},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1740134550251},{"_id":"node_modules/hexo-theme-butterfly/source/img/error-page.png","hash":"d2519710498a871ca3e913c57e2ba20a805b6430","modified":1740134550336},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.ico","hash":"455ac256580bf31a45813dbbdb87219bfc8bfb04","modified":1740134550245},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1740134550243},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","hash":"5a52047b8520f79864d5a4ee2379a29751aead23","modified":1740134550279},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","hash":"fdb5482d04a75bd79946ad1ed291d281d0e9362d","modified":1740134550297},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","hash":"48637ad8e405306772b93837f33400bde1055819","modified":1740134550298},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/Open_Graph.pug","hash":"e93a36d3c29b5a02c7f26a23f96e1f84b063cbe8","modified":1740134550413},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/analytics.pug","hash":"e792a435afee1f9491095084a00dc77e3522c1fd","modified":1740134550345},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config.pug","hash":"9ea75b06f19bf356f340f4a3fc1bdc0713cfe445","modified":1740134550376},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config_site.pug","hash":"56a3c32de1a15627ff38c67f1131cdd6ec5ac924","modified":1740134550374},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/google_adsense.pug","hash":"f29123e603cbbcc6ce277d4e8f600ba67498077c","modified":1740134550391},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/preconnect.pug","hash":"1e1a69aa2cbda2e621c741b3802093244b3cc04e","modified":1740134550421},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/pwa.pug","hash":"83ed05ef1e39f2ee70c3fba2cf96e488d8ffec66","modified":1740134550424},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/site_verification.pug","hash":"5168caadc4cf541f5d6676a9c5e8ae47a948f9ad","modified":1740134550432},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/structured_data.pug","hash":"1b83ae33961528f128596753fd05067c672d6bff","modified":1740134550434},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/index.pug","hash":"44331c9db74b281b5c5c41439d3407a9076df1a1","modified":1740134550393},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/menu_item.pug","hash":"733184f88e3a586a5fcc9d193ad500556b6c8eed","modified":1740134550411},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/nav.pug","hash":"18b984ce184ea53d2dff5a03cc2d0d39d2ec3406","modified":1740134550413},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/social.pug","hash":"e2d31e0f450ad42c47f7ee96375799342bf2f19b","modified":1740134550433},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/post-info.pug","hash":"7d799c4694adb6e265e3f4b975d7f7f6a7021a17","modified":1740134550420},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/fullpage-loading.pug","hash":"a2f7d69ca7ec58f24fe7d4e04ae21d5b62b01567","modified":1740134550388},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/index.pug","hash":"d76ce71ba106e350670c021a3dcae57547d01830","modified":1740134550393},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/pace.pug","hash":"9d2d539555bab495959b9df734ed5c43a9f9e5a9","modified":1740134550415},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/404.pug","hash":"15d32c511e4875066fcbe9cb84c3ada07b5a7c41","modified":1740134550338},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1740134550369},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/default-page.pug","hash":"efb40388e37cca0b5e7c3c66e811a42f8d32c910","modified":1740134550378},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/flink.pug","hash":"6b0fa5f048aca8e9cbe56978301af918cf7ac34a","modified":1740134550386},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/shuoshuo.pug","hash":"b2423cfc57a5e3a0e1112ff7c18d5c5c720d89d5","modified":1740134550430},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/tags.pug","hash":"79ad31eb72a9e14007770b18a426406a25315b38","modified":1740134550437},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/article-sort.pug","hash":"ef7afe0df7a3746744ac8185da7163b7406120ca","modified":1740134550354},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/indexPostUI.pug","hash":"f3389fa9ae4fa32e3c16573286583bc3023e57ad","modified":1740134550404},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/outdate-notice.pug","hash":"b7ce9484bc5c97ea6154f0b78fb9b8951fafedbd","modified":1740134550415},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/post-copyright.pug","hash":"b96c232e5178d927987791d9ae386dd83679535a","modified":1740134550419},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/reward.pug","hash":"db92f25ff3fd061882f81bf74ca560ff66983a0c","modified":1740134550427},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/aplayer.pug","hash":"ed79fef5b5025415ea12eaed970f3fe7f6ef9596","modified":1740134550346},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/effect.pug","hash":"43014bfc63583d3ee8808d526dd165848c0ed52f","modified":1740134550384},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/pjax.pug","hash":"e9b3d4d20e69e5051dded50c803c212946d443c0","modified":1740134550419},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/prismjs.pug","hash":"88f979a0b1a19eeb0db229247833bf9c6865c3b9","modified":1740134550423},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/subtitle.pug","hash":"a11455e294d32d2795eb1ee9d54a2906f064a1cb","modified":1740134550435},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/umami_analytics.pug","hash":"bc35a1552d26ecdeeadbf06300078dbb5128a6e5","modified":1740134550443},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_ad.pug","hash":"a8312b527493dabbadbb1280760168d3bc909a3b","modified":1740134550355},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_announcement.pug","hash":"21e019bdc3b1e796bb00976bb29af2d51f873624","modified":1740134550355},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_archives.pug","hash":"73d33b6930e7944187a4b3403daf25d27077a2dd","modified":1740134550356},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_author.pug","hash":"1aba8aa7cd767dc96879d13a13b4c8ceb9023233","modified":1740134550357},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_categories.pug","hash":"66e383b4ef374951eb87dd1bf4cdb7a667193fb5","modified":1740134550358},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_newest_comment.pug","hash":"d8753772889b5d0f4d15639ed6af5e91e53b1d03","modified":1740134550358},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_bottom_self.pug","hash":"1dba77d250eeebfb6e293d504352c7e9ea31980b","modified":1740134550357},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_post_series.pug","hash":"e0bb72fa0ce15964b11b8fe421cae3432394e35f","modified":1740134550359},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_post_toc.pug","hash":"1dd19a564320d248dbcee7f118a5b96c6466da65","modified":1740134550362},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_top_self.pug","hash":"7b5ae404a1205546b7de4be42291315cf918f2b3","modified":1740134550365},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_recent_post.pug","hash":"bb842d2aa6469d65bf06af1372f0a19a9e4ef44c","modified":1740134550363},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_webinfo.pug","hash":"fcddd80cdeb6aa81f342cd9f0102302f6ba087a8","modified":1740134550368},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_tags.pug","hash":"842b772a387b576550fa127030e1c2e9bf65716d","modified":1740134550364},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/index.pug","hash":"45f620cd87b9ef2aa9d1e024e697ed6b4eecff34","modified":1740134550402},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/function.styl","hash":"d12340a7df4601b9a23f070e16645861aeb3bb0a","modified":1740134550475},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/index.styl","hash":"814053dd7499284a5c185382eb43c8f8db25baf2","modified":1740134550485},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight.styl","hash":"67062d597408068e4a59e95851e98fed34b745da","modified":1740134550483},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/theme.styl","hash":"a51edfd3e499e7d38c32241c40e8e4d371efca73","modified":1740134550506},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/aside.styl","hash":"ba174889e770ae9f6683379b9eae9d8c94253080","modified":1740134550456},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/chat.styl","hash":"4cc02bcbaa4a1933a82a9ea57a603fe2d059fc77","modified":1740134550460},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/footer.styl","hash":"d7b988d8588207086670f39aa49fce442c429f7a","modified":1740134550474},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/comments.styl","hash":"fbfce4d67cacd1df22fb73d89d008693f59d9d91","modified":1740134550461},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/head.styl","hash":"094108f2a4e351a2fa496d6bd3e2388151416b3f","modified":1740134550479},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/loading.styl","hash":"f0b01bbf321c2c24fdccaee367dd9fd448031a72","modified":1740134550494},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/pagination.styl","hash":"7d7554573c005399bc8c2264a85896d2d51be1e1","modified":1740134550497},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/post.styl","hash":"543eaf9c7df7e0db841e5946ee5f9082c3c46290","modified":1740134550498},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/relatedposts.styl","hash":"ef8e8549fe7ad4b99793844a93b4a89f77f417d5","modified":1740134550500},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/reward.styl","hash":"d9cdf564a822a585e67fd5bac8573ba87eeb3743","modified":1740134550500},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/rightside.styl","hash":"a0f5835f04358122e8b1d38dd3e8da09a1b5b431","modified":1740134550502},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/sidebar.styl","hash":"084dc4dfb41f55e237a9d6cf8c2f5dba729b83be","modified":1740134550504},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/third-party.styl","hash":"0af7c8754f04bdd9a02a14d880774753bd2e35ee","modified":1740134550506},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/darkmode.styl","hash":"93fe5a7ed83ceb11b888f946be94cf1ee7648f8c","modified":1740134550465},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/404.styl","hash":"205ccc7d0ec6ce1193b46bc0c9ce0385594581fb","modified":1740134550452},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/categories.styl","hash":"c4cda7b0c99015df29ce00fdfddd2f7679653754","modified":1740134550459},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/archives.styl","hash":"5abe5480d83ff8b452a780a484d50a44091475bf","modified":1740134550455},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/common.styl","hash":"dcff804c4c237e1e908481b44c1ac4e39ac0da34","modified":1740134550462},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/flink.styl","hash":"1f8d715faf3b91b53426e38195c0920afb3bfa1c","modified":1740134550473},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/readmode.styl","hash":"ad66212554468b7067590308ed4cf40524fea662","modified":1740134550499},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/homepage.styl","hash":"992d192db7d1c96e995b85ed11c20c571d33fbad","modified":1740134550485},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/shuoshuo.styl","hash":"79bb1d9a27822ed5675d1e52f5dbd0e2f5d5010a","modified":1740134550503},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/tags.styl","hash":"7543bb688876a946538d66b991c71b94b5216277","modified":1740134550505},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/button.styl","hash":"de8437a058a315d14d7e7034066f095b7b3ed4b4","modified":1740134550459},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/gallery.styl","hash":"30d1f809efd252ed0233d96d4374efd2b01d2292","modified":1740134550477},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hide.styl","hash":"d27dbccaf3de1c9158d19e4fd49a25953cb5778d","modified":1740134550481},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hexo.styl","hash":"985b183db7b7bfd8f9bdb60494549fb7f850348b","modified":1740134550480},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/inlineImg.styl","hash":"3be8d0a75e7cc96548667cae0cb6a474279bd0b5","modified":1740134550490},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/label.styl","hash":"216f52fefc2274b542b549d8470503e6f1a308fb","modified":1740134550490},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/note.styl","hash":"4929382bd60788d34752a66e2fe764ef797a72a0","modified":1740134550496},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/series.styl","hash":"0657169849bc4bf4d93b5492ade040c8f58c1901","modified":1740134550502},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/tabs.styl","hash":"dfbce718d528dd241664ff8fd28b37da92c29cef","modified":1740134550504},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/timeline.styl","hash":"e846ddaef494d46cdfa2379deacfe74fa1cc5264","modified":1740134550507},{"_id":"node_modules/hexo-theme-butterfly/source/css/_third-party/normalize.min.css","hash":"8549829fb7d3c21cd9e119884962e8c463a4a267","modified":1740134550237},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/algolia.styl","hash":"d8a8275a68a1421c4c09b604cf78bea16c1d0463","modified":1740134550454},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/index.styl","hash":"6c4cbdadd9a49029fe0c59e29808d873e5b6b6ee","modified":1740134550488},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/local-search.styl","hash":"1f2b86df86df81c3a59377b29102314ffc73dfa6","modified":1740134550495},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","hash":"7119f2f2943de71999d3dd6ba5c60cde846f114b","modified":1740134550257},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","hash":"a2b783230a9143de69004cfc914d9f55e6fc1660","modified":1740134550278},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"00b4073dbe0687a80e6d58c104c6f59ec01a84fd","modified":1740134550339},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"cbfbcf34a24d21ba2b21cf9eedb76f4c3c563c5a","modified":1740134550385},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"846cabae287ae31b3bbfac3da022475713dd5ecc","modified":1740134550394},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f0a90d8e39915a74b16ef22e851f179415cd7eaa","modified":1740134550394},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"716dc463fe4ef5112e7018ed60804125fdfa5cad","modified":1740134550424},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d6fff5a7f84c8b09f282f9ddc0020a68a8aac9ea","modified":1740134550380},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"b03ee8625149191f9d5d057bbc9824b68d8dd0c4","modified":1740134550348},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"b5db4203a1392385838c73549ddeae0a4be67eba","modified":1740134550441},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"7884883ec15792f7e54daacb3c62b851dde2b66a","modified":1740134550445},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"fd2320ee25507bb8ef49f932c2d170586b44ea4d","modified":1740134550447},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/chatra.pug","hash":"5b29badecbbe828112c001156023fc0566045cf6","modified":1740134550373},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/crisp.pug","hash":"24d094fd917947c0ca7492fa094328b1a183b873","modified":1740134550377},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/index.pug","hash":"e8438941085def0591a72fc9b0d705dbf107f54f","modified":1740134550395},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/tidio.pug","hash":"62466b251052cae609b6369d4cb4b6a85320757d","modified":1740134550438},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/artalk.pug","hash":"89c63a5f0c0ab6314de7158fbc8fcbc84997fc55","modified":1740134550350},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"c81fa7d8a5cb96d1ae07bfa8c46b84a58161add1","modified":1740134550382},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqus.pug","hash":"f2ea5249b3e6670f6c8c77868f4f42c502e43830","modified":1740134550381},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"8af585e6d6f73ee57114eefad574dc6e8ea9f570","modified":1740134550385},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/giscus.pug","hash":"592b2251db6c1abeb8b0eebe3b2e6d9aa0dec445","modified":1740134550389},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"58914c58a190e3bc0aa37cb581e77e442b563501","modified":1740134550390},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/index.pug","hash":"db6713d2b90eb8183f86ac92c26761a8501c0ddb","modified":1740134550396},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/js.pug","hash":"3abbaaa4ea575c45b3cebffd40bad1acc6ffce84","modified":1740134550405},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/livere.pug","hash":"7a80231fc71822e503879383a2d9611edf1d72dd","modified":1740134550410},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/remark42.pug","hash":"84f7cfde00f929fa3dc40349bcab060ec68f1b9f","modified":1740134550425},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"53d99831f29aeb2e336ed1407d79590041f77002","modified":1740134550442},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/utterances.pug","hash":"30a7d157890de69deab28baa47fb7bb28b040efd","modified":1740134550444},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/valine.pug","hash":"24f18b0c67803210d53abbf9c1d454c000b06eee","modified":1740134550446},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/waline.pug","hash":"e2bf15357485cd502414b3b20f5b1f762a2fd014","modified":1740134550448},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/chartjs.pug","hash":"732eb1118ea1a73aa5c164d639097c614f8e9953","modified":1740134550372},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mathjax.pug","hash":"db2f4fff80a1166476ea76ae004aa186df11bad3","modified":1740134550410},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/index.pug","hash":"af66d13204030d47537b9e31a6173e63589ce7ff","modified":1740134550397},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mermaid.pug","hash":"ca2fc5928ca292f29fd8333c73733344994096fb","modified":1740134550412},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/katex.pug","hash":"b83db9fa64d42a0bfd97efb660e09be3f166a144","modified":1740134550406},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/common.pug","hash":"27fa75affebc6e84a487c62bceff783bde595256","modified":1740134550374},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"187302dbc916852ff2fdf47061e272c061611dda","modified":1740134550352},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"fa4b4194749d05f7249f365f2b89c0281057ce54","modified":1740134550379},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"72e2970b23570e308f8af5d8ba8e5e3321d01bbf","modified":1740134550390},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"a7c07dbc1e970a5b247091458e1ee9b144a3366d","modified":1740134550397},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"34edfebf0cace0852806be774910ccb0e0914650","modified":1740134550426},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"d2e12a9fc302a4efe52c90d44896fbd73e193a1f","modified":1740134550440},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"d376ec17fb19fcdcf0d2ad71330190146d3af879","modified":1740134550446},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/algolia.pug","hash":"7f0ede1cd3fed2669c94a8e1b21bc0b183f310b8","modified":1740134550343},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"ec6c685080634ac46ffbea1b8f10313388888f43","modified":1740134550450},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/docsearch.pug","hash":"013756ff3363344987cc00fc9bd833baf193c341","modified":1740134550383},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/index.pug","hash":"f8557548d2ad8dd149c562193991c6c6cda02415","modified":1740134550398},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/local-search.pug","hash":"2622b4cf9189fa23e4a422aaf9ef272e4f2c6137","modified":1740134550410},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/addtoany.pug","hash":"f5ee1c9c8ffa4bca972d30f4de69268b8d47f052","modified":1740134550342},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/index.pug","hash":"e51e896ccb13900de38dc81cf44dc789e2418a12","modified":1740134550401},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/share-js.pug","hash":"efef352c1d122409575386bf3894dce8e87032e2","modified":1740134550428},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/index.styl","hash":"ef52ebf1e8e751a412f9456fdaeee7d88afd9a72","modified":1740134550487},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/diff.styl","hash":"9f02598b5e4296aec6470639d4bac4c9ac46392e","modified":1740134550469},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/diff.styl","hash":"077ec530831be1d80e93da380406b9f5abd0918a","modified":1740134550472},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"de4bb5fc2dfca368b35e4c1109c92f7abc9e2245","modified":1740134550491},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/index.styl","hash":"1883c91d43bff10aae55122a21e0b064b6f5c9dd","modified":1740134550487},{"_id":"node_modules/hexo-theme-butterfly/source/img/butterfly-icon.png","hash":"f5dd732fed5c3bcd4aa76bac3441bac8485fb432","modified":1740134550331},{"_id":"public/img/error-page.png","hash":"d2519710498a871ca3e913c57e2ba20a805b6430","modified":1740134913767},{"_id":"public/img/favicon.ico","hash":"455ac256580bf31a45813dbbdb87219bfc8bfb04","modified":1740134913767},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1740134913767},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1740134913767},{"_id":"public/css/index.css","hash":"4dd6ea8fa61e937b9a7ea757917d6fab106483b9","modified":1740134913767},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1740134913767},{"_id":"public/js/tw_cn.js","hash":"7ef59df188ea523da89f4caf69c5c0f14e78da69","modified":1740134913767},{"_id":"public/js/utils.js","hash":"fd3c26366c78dd82bc87d4ddebe76c582122e1b7","modified":1740134913767},{"_id":"public/js/main.js","hash":"fb746a3e67d0373deea8481110dd436fea4ca38c","modified":1740134913767},{"_id":"public/js/search/algolia.js","hash":"e5821f78381af9f0f646952a7dd118daab2a79a6","modified":1740134913767},{"_id":"public/js/search/local-search.js","hash":"4e11d033fb58563f5e1b497f1a6f1c62d3501ee6","modified":1740134913767},{"_id":"public/img/butterfly-icon.png","hash":"f5dd732fed5c3bcd4aa76bac3441bac8485fb432","modified":1740134913767},{"_id":"source/_posts/关于本人发布的uwp的隐私策略.md","hash":"19f7d92e651f6f64f0a87fb14e7186e88d9e77f1","modified":1740135294011},{"_id":"source/_posts/ASP.NET/asp-net-core-connect-passowrd-mongodb.md","hash":"22a139490c15bc15a93995dfe5a2c2c35e65f54e","modified":1740135293986},{"_id":"source/_posts/ASP.NET/centos-mongodb-scheduled-backup.md","hash":"6c134e071da1c1cc10d0018e171cc7d47ec894e0","modified":1740135293987},{"_id":"source/_posts/ASP.NET/centos-build-react-project.md","hash":"3fb0063d1d075ea1274c139e966667fe5ecfffcf","modified":1740135293986},{"_id":"source/_posts/ASP.NET/centos-nginx-file-sercer.md","hash":"363196c637739e6a0ff567909d1a5f2b10a31c1a","modified":1740135293987},{"_id":"source/_posts/ASP.NET/host-asp-net-core-on-linux-with-nginx.md","hash":"9ffecc774648342fec0f139d4f20774e7b5fd412","modified":1740135293988},{"_id":"source/_posts/ASP.NET/install-mongodb-in-centos7.md","hash":"b808fc91c8031dc5984d23d9449904fdb4e42e5f","modified":1740135293988},{"_id":"source/_posts/ASP.NET/mongodb-common-operations.md","hash":"5f0ea9208f01011c1db90fbfc879100d59ac8170","modified":1740135293989},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2.md","hash":"e991bbe73564b876cc93b062f02f9768e5f3bc90","modified":1740135293989},{"_id":"source/_posts/UWP/align-pivot-header-items-in-center-of-the-page.md","hash":"26913dd05065fbf3771076dfb4460815285a8519","modified":1740135293997},{"_id":"source/_posts/UWP/deserialize-json-file-with-multiple-datatypes-for-a-key.md","hash":"8771d86ef869b25432c78b0afcbfda07fe4b9957","modified":1740135293997},{"_id":"source/_posts/UWP/how-to-install-uwp-application-offline.md","hash":"4c18462b45cc63ac4e8705ec81e35179cc2c684e","modified":1740135293998},{"_id":"source/_posts/UWP/how-to-change-pivotitem-header-fontsize.md","hash":"db1010370bea2cc632ba59f904366a2f00563004","modified":1740135293997},{"_id":"source/_posts/UWP/how-to-prevent-screen-locks-in-your-uwp-apps.md","hash":"66bc85fae7aa92c6a23f59d45615d473dbe8cd0a","modified":1740135293998},{"_id":"source/_posts/UWP/microsoft-services-store-engagement-crash.md","hash":"36e42b8aa24f28b27c34603f246439a99ad75f15","modified":1740135293999},{"_id":"source/_posts/UWP/newtonsoft用法.md","hash":"3b353794a103b09095a4fa5e11d74343a2cb6853","modified":1740135293999},{"_id":"source/_posts/UWP/uwp-set-file-default-save-path.md","hash":"469970f396695cf8ea170ec1ef1e6e5d07c79720","modified":1740135293999},{"_id":"source/_posts/UWP/uwp-use-windowstemplatestudio-problem-toast.md","hash":"58f289d2d20b133c1363abd413c91f1594388857","modified":1740135294000},{"_id":"source/_posts/UWP/uwp-use-pictureslibrary-savefile-everywhere.md","hash":"9a2cf37a2831f2081b4bdca2d2266fbc9008cdbf","modified":1740135294000},{"_id":"source/_posts/UWP/uwp-webview-edit-user-agent.md","hash":"5da3ad202dcc209f91bf3a7ed35914fd59a1ce53","modified":1740135294000},{"_id":"source/_posts/UWP/uwp-webview-injection-js.md","hash":"473338b0368a7a3fe066ebdedffb8d7d7de8fe7a","modified":1740135294001},{"_id":"source/_posts/UWP/uwp初始屏幕设计.md","hash":"f1cd91a6750b04952bda8c494866b35019b91dd5","modified":1740135294001},{"_id":"source/_posts/UWP/uwp手机启动屏幕控件位置计算.md","hash":"bf71d3e9fda614338b281b31818a9f271c5c66b4","modified":1740135294002},{"_id":"source/_posts/UWP/visual-studio-2019-download-and-key.md","hash":"1f967bd38967e24a03f24b1f69ad4cfd7f040020","modified":1740135294002},{"_id":"source/_posts/UWP/visual-studio一直提示刷新凭据.md","hash":"9b07aab0709c24df54b068acd5c3e12a7a8d1604","modified":1740135294002},{"_id":"source/_posts/UWP/win10-uwp-get-screem-resolution.md","hash":"8b755a5ab824f6e63f4e9a62eaea2685b3fc1acb","modified":1740135294004},{"_id":"source/_posts/UWP/win10-uwp-graph-onedrive.md","hash":"97a6ef9fea463e78c311b39fb003c070f246f97e","modified":1740135294004},{"_id":"source/_posts/UWP/win10-uwp-gridview和listview实现虚拟化技术.md","hash":"d1388c142c96d8591c9c81e775e7d5b616d944c1","modified":1740135294009},{"_id":"source/_posts/UWP/win10-uwp-timetrigger-backgroundtask.md","hash":"dd1000071cfb7c1ea7a6b7133a37497da316470b","modified":1740135294009},{"_id":"source/_posts/UWP/win10-uwp-use-flipview-make-top-carousel.md","hash":"28a50761811ed863a3a2d56a966081468b8e770c","modified":1740135294010},{"_id":"source/_posts/UWP/win10-uwp-windows-hello.md","hash":"5a2f7ba1172c42a12abf36eaaf5bf256dfa95ca0","modified":1740135294010},{"_id":"source/_posts/UWP/win10-uwp使用des加密解密字符串.md","hash":"e9a65dd2d92dba58f572a2d5e61af91549771243","modified":1740135294011},{"_id":"source/_posts/Tool/decompile-android-apk-file.md","hash":"884ec3054e4bea720ff08436eaa337eed078c624","modified":1740135293994},{"_id":"source/_posts/Tool/aliyun-smtp-send-email-failed.md","hash":"329ab7d8bd620075d32036ba7d1f70e42393430a","modified":1740135293993},{"_id":"source/_posts/Tool/how-to-use-multilingual-app-toolkit.md","hash":"e4d309ce86bd40f54513ca9923de8d4ce36edf58","modified":1740135293995},{"_id":"source/_posts/Tool/nas-ssh-edit-sn-mac.md","hash":"9f5bff695dcd33108f3010bd8a2f2b1f5e35a14a","modified":1740135293995},{"_id":"source/_posts/Tool/github-desktop-ssl-erro.md","hash":"541355d38528270194e9bc7c84564732db0cf6b7","modified":1740135293994},{"_id":"source/_posts/Tool/photoshop-download-url.md","hash":"ff867f6e3198bdfb89324bc514295b6cb47bab30","modified":1740135293995},{"_id":"source/_posts/Tool/u-pan-install-exsi6-7-install-dsm-6-2-3-ds918.md","hash":"e057d262b4e78e25374beabdbadbdb14ef7a34e4","modified":1740135293996},{"_id":"source/_posts/Tool/开启代理后如何使用github-desktop.md","hash":"802d23e14a21a47a7bb2ef2f75bd15f16e0b789a","modified":1740135293996},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/BJZ.png","hash":"a09f73ae1885c9d1dd846b2afa13fc24704794de","modified":1740135293990},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/GLCS.png","hash":"97121eaafbc50a16e49b16895cc6194528deb072","modified":1740135293991},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/GLCS1.png","hash":"9ccb52acec5258e1de32c765ab52327c6fdb1199","modified":1740135293991},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/GWL.png","hash":"c93e585ec069439374d8a81bbbca02890eb91c27","modified":1740135293992},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/GWLTD.png","hash":"ac21367839aa14d7abc351f9c20b8f7d5ef108ee","modified":1740135293992},{"_id":"source/_posts/Revit/revit-array-must-biggger-than-2/JJBKEGS.png","hash":"aa97334c22244efbe7d30c36d10c1e6ac1b9a913","modified":1740135293993},{"_id":"source/_posts/UWP/win10-uwp-custom-mediatransportcontrol-binding.md","hash":"ece3e01fd062fd1702768597abbd9064a73c5e84","modified":1740135294003},{"_id":"source/_posts/UWP/win10-uwp-graph-onedrive/Demo.gif","hash":"a4398f2398d3a5d100e60759fed5edb74aa1a84e","modified":1740135294008},{"_id":"public/2017/09/02/UWP/uwp初始屏幕设计/index.html","hash":"fadf7346ade6797851dacb1ae0de8ae241b0ebf5","modified":1742200647506},{"_id":"public/2017/09/08/UWP/uwp手机启动屏幕控件位置计算/index.html","hash":"1bbc873f141e939bc06c3c9ea53d923a2c144d28","modified":1742200647506},{"_id":"public/2017/12/17/UWP/win10-uwp使用des加密解密字符串/index.html","hash":"4181d74423e68d1e78e2760e54f3238e68313cf7","modified":1742200647506},{"_id":"public/2017/12/17/关于本人发布的uwp的隐私策略/index.html","hash":"fb0472cee5dc1020db729ba7fb38fc8ee6bd2331","modified":1742200647506},{"_id":"public/2018/04/10/UWP/win10-uwp-windows-hello/index.html","hash":"b3a324c24ff21fcb80bca85e6d22b5a21698e5db","modified":1742200647506},{"_id":"public/2018/05/28/UWP/win10-uwp-graph-onedrive/index.html","hash":"92381c7dccc67b704c13339a02d53bf825beaa34","modified":1742200647506},{"_id":"public/2018/10/23/Tool/how-to-use-multilingual-app-toolkit/index.html","hash":"a52af907c79a2e8d17ed0d5101f332f3e08d8d04","modified":1742200647506},{"_id":"public/2018/11/07/UWP/win10-uwp-gridview和listview实现虚拟化技术/index.html","hash":"935d888fc108eaf326fc674324fca9bd3a2a793f","modified":1742200647506},{"_id":"public/2019/01/04/UWP/win10-uwp-timetrigger-backgroundtask/index.html","hash":"9d98ea1de81763f73e95370501840ad828f4cf84","modified":1742200647506},{"_id":"public/2019/01/25/UWP/how-to-prevent-screen-locks-in-your-uwp-apps/index.html","hash":"900086220e04761a2f15082b6111ca4e0f3131cd","modified":1742200647506},{"_id":"public/2019/02/14/UWP/win10-uwp-custom-mediatransportcontrol-binding/index.html","hash":"b88522204722041f7152c13709c9fa0ef733b6e1","modified":1742200647506},{"_id":"public/2019/03/15/UWP/how-to-install-uwp-application-offline/index.html","hash":"fbc6b7df14835a45d46bd04d5f5d899d6cb85f11","modified":1742200647506},{"_id":"public/2019/03/19/UWP/how-to-change-pivotitem-header-fontsize/index.html","hash":"2fb8ce2f787d2988846ad32fa157f88cfee02223","modified":1742200647506},{"_id":"public/2019/03/28/Tool/photoshop-download-url/index.html","hash":"fe5d2a09fe43f71a0e30cd82f01de4c769d1b174","modified":1742200647506},{"_id":"public/2019/04/07/UWP/visual-studio-2019-download-and-key/index.html","hash":"3010bc8c3cd6859cc25ed94fc203dfd991bece19","modified":1742200647506},{"_id":"public/2019/04/16/UWP/win10-uwp-use-flipview-make-top-carousel/index.html","hash":"74a94d0144d5a3e84c466361cc2dffa6b84343c8","modified":1742200647506},{"_id":"public/2019/04/16/Tool/github-desktop-ssl-erro/index.html","hash":"33a016a42f39f3e8dea13e39dfcd19358fe1fc2b","modified":1742200647506},{"_id":"public/2019/05/07/UWP/visual-studio一直提示刷新凭据/index.html","hash":"671bc6468e0a8970b48ae744f12b842301f896de","modified":1742200647506},{"_id":"public/2019/06/13/UWP/win10-uwp-get-screem-resolution/index.html","hash":"128c17af51b8adcb4b93b619138e68a4a1acbaca","modified":1742200647506},{"_id":"public/2019/07/11/Tool/aliyun-smtp-send-email-failed/index.html","hash":"115c8d228d2b692d1827d866b27ff697633f6af0","modified":1742200647506},{"_id":"public/2019/08/12/ASP.NET/install-mongodb-in-centos7/index.html","hash":"d888ab46c896de58ae62c5fbfde613c6ffefaaa3","modified":1742200647506},{"_id":"public/2019/08/12/ASP.NET/host-asp-net-core-on-linux-with-nginx/index.html","hash":"a20d7a743fdf4682776f8773c2eb23725b6bb2b7","modified":1742200647506},{"_id":"public/2019/08/12/UWP/uwp-use-pictureslibrary-savefile-everywhere/index.html","hash":"a4a0758581542b8d7becbcccd49f89364815476c","modified":1742200647506},{"_id":"public/2019/09/28/Tool/nas-ssh-edit-sn-mac/index.html","hash":"67c8895f07494813ab8a0e99e484908e23c8d980","modified":1742200647506},{"_id":"public/2019/11/08/UWP/newtonsoft用法/index.html","hash":"f8d28001b26fd6175edcf6c26c88853c2bb7fa6c","modified":1742200647506},{"_id":"public/2019/11/08/UWP/uwp-use-windowstemplatestudio-problem-toast/index.html","hash":"944f1aa8f5df28e29201feed9fd4b4fbb03b41b5","modified":1742200647506},{"_id":"public/2019/12/31/UWP/microsoft-services-store-engagement-crash/index.html","hash":"ca3a49262e6537fca10174931d70ffec217327b7","modified":1742200647506},{"_id":"public/2020/01/01/UWP/uwp-webview-edit-user-agent/index.html","hash":"6d287a88eb4ff1cdfdc0057065d38b5461bc5d28","modified":1742200647506},{"_id":"public/2020/01/01/UWP/uwp-webview-injection-js/index.html","hash":"e3a34c8055caa749eff0f4baa841dd0d3349b495","modified":1742200647506},{"_id":"public/2020/01/12/Tool/decompile-android-apk-file/index.html","hash":"07dcfbac077a8318ed3b1226205969499b9d6029","modified":1742200647506},{"_id":"public/2020/01/03/UWP/align-pivot-header-items-in-center-of-the-page/index.html","hash":"a25624d14eb0ab4445855496222ef7f8b4f3d0c6","modified":1742200647506},{"_id":"public/2020/03/04/ASP.NET/asp-net-core-connect-passowrd-mongodb/index.html","hash":"abea66a7fdc6b7645831380ad49f097015d22e00","modified":1742200647506},{"_id":"public/2020/03/03/ASP.NET/mongodb-common-operations/index.html","hash":"503b81474ab3da395978abb825c56a45b2c4337a","modified":1742200647506},{"_id":"public/2020/03/07/UWP/deserialize-json-file-with-multiple-datatypes-for-a-key/index.html","hash":"09aa19069dd949158c334e76895b535842021974","modified":1742200647506},{"_id":"public/2020/03/13/UWP/uwp-set-file-default-save-path/index.html","hash":"443e04e625cf7b2f11f890f91f3844eba63dcd8c","modified":1742200647506},{"_id":"public/2020/03/19/ASP.NET/centos-mongodb-scheduled-backup/index.html","hash":"19b2606c4cda8f05f4ae0c4d6bba3eb47df0413a","modified":1742200647506},{"_id":"public/2020/04/02/ASP.NET/centos-nginx-file-sercer/index.html","hash":"5d13b431c9e1ea7ab4d55dcabf18d285c3421c46","modified":1742200647506},{"_id":"public/2020/04/14/ASP.NET/centos-build-react-project/index.html","hash":"76ba0dd15ff4261053349e5c64e4e67e456ddc59","modified":1742200647506},{"_id":"public/2020/09/23/Tool/开启代理后如何使用github-desktop/index.html","hash":"1646812b1acb038cfd55a87d8a4b4d1a00f634dd","modified":1742200647506},{"_id":"public/2020/12/19/Tool/u-pan-install-exsi6-7-install-dsm-6-2-3-ds918/index.html","hash":"9517ec9c956b3ebb1f507798ea1317a98f0e0ffb","modified":1742200647506},{"_id":"public/2021/04/01/Revit/revit-array-must-biggger-than-2/index.html","hash":"fa42b05440afb6fc3b5290884ed99af232f0e85f","modified":1742200647506},{"_id":"public/page/3/index.html","hash":"626ed2dd835fcd8ca420e5ef6bc73f848b5d038e","modified":1742200647506},{"_id":"public/page/2/index.html","hash":"d1ab4f4b1631d96340b4bc39919e88ce86d36ea8","modified":1742200647506},{"_id":"public/page/4/index.html","hash":"bdf19a74e153b3c3e5cbd04088013a94a6930208","modified":1742200647506},{"_id":"public/page/5/index.html","hash":"63fdf07fc54bece4aa9f3374d040eb94ea425aaa","modified":1742200647506},{"_id":"public/archives/page/4/index.html","hash":"136624347fb6363936004e08fd3bf3b0e6ff694a","modified":1742200647506},{"_id":"public/archives/page/3/index.html","hash":"cf21169b3a01f3be0bdbc04d2e0f4b216bd0026b","modified":1742200647506},{"_id":"public/archives/2017/index.html","hash":"716c66d0d54c807e9cf8574da59081b9f34cb864","modified":1742200647506},{"_id":"public/archives/page/2/index.html","hash":"a585a8263d306f1012d3cf7a7b6c163a3c45ec5c","modified":1742200647506},{"_id":"public/archives/2017/09/index.html","hash":"23c795bc5a2d4feafc45e4d1c6ef558932161787","modified":1742200647506},{"_id":"public/archives/page/5/index.html","hash":"3ce11e53d7077dc8a35c501618f4a88784deea06","modified":1742200647506},{"_id":"public/archives/2017/12/index.html","hash":"8b02f158ec37c20fdcb4674223de6b2928a16784","modified":1742200647506},{"_id":"public/archives/2018/index.html","hash":"55eb03c43abd52771268a98677417fb534d074ab","modified":1742200647506},{"_id":"public/archives/2018/04/index.html","hash":"cf8f71312efa19c1d33a5951f2f68ae7a31a405e","modified":1742200647506},{"_id":"public/archives/2018/05/index.html","hash":"9dbb490db1273811f4f7f2772ba83abd464ed63e","modified":1742200647506},{"_id":"public/archives/2018/10/index.html","hash":"0cdf225f516c3aa25c251060eec2a806d56a85c4","modified":1742200647506},{"_id":"public/archives/2018/11/index.html","hash":"5c0421222a578d40000df2946c08d8d19f1477ba","modified":1742200647506},{"_id":"public/archives/2019/index.html","hash":"6338be2cbefe4500f684527ba00a91015c8c95f5","modified":1742200647506},{"_id":"public/archives/2019/page/2/index.html","hash":"412bbbcb7a53d31be13d5386b9bb086878a0545e","modified":1742200647506},{"_id":"public/archives/2019/01/index.html","hash":"c54dbe93ce34c3e2d6a383c40ddceb597e5dce55","modified":1742200647506},{"_id":"public/archives/2019/02/index.html","hash":"5544a488071b74f5fba0380f9adb518f74f70e58","modified":1742200647506},{"_id":"public/archives/2019/03/index.html","hash":"a1f1b79b5c01b6be6cad79f944cbb6bb21399407","modified":1742200647506},{"_id":"public/archives/2019/04/index.html","hash":"b36ec1fa234028e116a12d6a86ac1f66e0436b38","modified":1742200647506},{"_id":"public/archives/2019/05/index.html","hash":"589355eecd87df06ede8531159ce0c8aaba7696c","modified":1742200647506},{"_id":"public/archives/2019/06/index.html","hash":"52eab7a0933ca270c519ca7643e4fc67c651b6bf","modified":1742200647506},{"_id":"public/archives/2019/07/index.html","hash":"cd08e76ea97303a9139b89c3d01965bc738cb4cd","modified":1742200647506},{"_id":"public/archives/2019/08/index.html","hash":"4c94585d4d8ff7b586ebbe0ac72030b96b52452a","modified":1742200647506},{"_id":"public/archives/2019/09/index.html","hash":"86fd2f72a81bb3a7b737ee6fe1f304077b59e117","modified":1742200647506},{"_id":"public/archives/2019/11/index.html","hash":"11a66f448326b2898e841023f443cbc567c9fd0e","modified":1742200647506},{"_id":"public/archives/2019/12/index.html","hash":"81ea27df37f4d03a10e5fe29e18c182bbbb82e65","modified":1742200647506},{"_id":"public/archives/2020/index.html","hash":"b12556e13aacde99adf83c9a25c0bacf4239e2a6","modified":1742200647506},{"_id":"public/archives/2020/page/2/index.html","hash":"99f01ffc5f75bd11e06bdcd9ce88c993285811af","modified":1742200647506},{"_id":"public/archives/2020/01/index.html","hash":"2eaa061857a70e29f5c736fb70456c30558c936f","modified":1742200647506},{"_id":"public/archives/2020/03/index.html","hash":"17690cd8aac8dea3b29dca72047d42e26bfe1650","modified":1742200647506},{"_id":"public/archives/2020/04/index.html","hash":"fb4590f030bb51a7ec7038cb6997e74dedeb8b8a","modified":1742200647506},{"_id":"public/archives/2020/09/index.html","hash":"40fbdc0b9b71c644aa8b1edddc52dcc852fb0bb4","modified":1742200647506},{"_id":"public/categories/开发笔记/index.html","hash":"91b47842cbf551866a83634aeb872dc510bd230d","modified":1742200647506},{"_id":"public/archives/2020/12/index.html","hash":"c089fcfda2f09d5f54e13bf07029ece916b6b468","modified":1742200647506},{"_id":"public/categories/开发笔记/page/2/index.html","hash":"68bbef922b191009e8e555caee625b539783c42a","modified":1742200647506},{"_id":"public/archives/2021/index.html","hash":"ac642e76ca0da1af7d8ddfcb056c66b3662e3157","modified":1742200647506},{"_id":"public/categories/开发笔记/page/3/index.html","hash":"5d1333a5dc49f369d35a87b7684b3431558cddbf","modified":1742200647506},{"_id":"public/categories/开发笔记/page/4/index.html","hash":"0fa4216fbc7162f7aaeec583a8749e4f5f73c6ef","modified":1742200647506},{"_id":"public/archives/2021/04/index.html","hash":"7dbeb1c74a604be3758b02763853433cbf2da688","modified":1742200647506},{"_id":"public/categories/Revit学习笔记/index.html","hash":"7fa4afa7af436b08c3eefd0affe33f70c892ec28","modified":1742200647506},{"_id":"public/categories/服务器/index.html","hash":"1f6fde20cbbb2d13a70974be608366b77b447d8f","modified":1742200647506},{"_id":"public/categories/随笔/index.html","hash":"99b9ce01f39580ffeee1ebb853cf7e0be0cc679b","modified":1742200647506},{"_id":"public/tags/隐私策略/index.html","hash":"df125419c5762af7788ba25e082fff17d0078a11","modified":1742200647506},{"_id":"public/tags/ASP-NET-Core/index.html","hash":"b445966ea506557822b2ec729df19438e0052b89","modified":1742200647506},{"_id":"public/tags/MongoDB/index.html","hash":"729858ca126659a96d0cc04315464031657f4be0","modified":1742200647506},{"_id":"public/tags/CentOS/index.html","hash":"ea5c5a56363ee6b647a7f6ffeffdc15c5d44e94d","modified":1742200647506},{"_id":"public/tags/React/index.html","hash":"b35dd3dcacc779c0dcd6207668858a06f9fda605","modified":1742200647506},{"_id":"public/tags/Nginx/index.html","hash":"dbd510b3e0dfc61cbd4115225d4b7b1f9a128108","modified":1742200647506},{"_id":"public/tags/Revit/index.html","hash":"db429908f3a997e9e30ced0e5f69217555d36277","modified":1742200647506},{"_id":"public/tags/UWP/index.html","hash":"b94174a899b3907c638db8fded9797a1eebed4c7","modified":1742200647506},{"_id":"public/tags/UWP/page/2/index.html","hash":"8b3b59a4678bf3c82f6ceba27b96ce2f91e8c742","modified":1742200647506},{"_id":"public/tags/UWP/page/3/index.html","hash":"81f14dfcab24b4df382b8c927dde405db3fb2d9c","modified":1742200647506},{"_id":"public/tags/Json/index.html","hash":"f250868c541c457e1f79a6cdd6d88febf429e799","modified":1742200647506},{"_id":"public/tags/Newtonsoft/index.html","hash":"bb6ab28edc7f9a2aa8615edc56d8af3f837735c5","modified":1742200647506},{"_id":"public/tags/PowerShell/index.html","hash":"36dc626133fdf72b7f110b0ca5afdac10785ca35","modified":1742200647506},{"_id":"public/tags/Win10/index.html","hash":"538e515fced407e3ba5f88b943c7c4f808207511","modified":1742200647506},{"_id":"public/tags/WebView/index.html","hash":"369b100d8f1f41d5123772993c5f67877cee4bb9","modified":1742200647506},{"_id":"public/tags/WTS/index.html","hash":"468bd493654478ef59d533981cfbbde4c27ac8e4","modified":1742200647506},{"_id":"public/tags/Windows-10/index.html","hash":"f55e53e1cc95a5d66e9eaf840d01c6389a5c8ffd","modified":1742200647506},{"_id":"public/tags/Visual-Studio/index.html","hash":"49a83fbae63d9e7e41d7cb93605780999074558b","modified":1742200647506},{"_id":"public/tags/GridView/index.html","hash":"f4ba929eee26563868216d3390913230a4cf086a","modified":1742200647506},{"_id":"public/tags/ListView/index.html","hash":"d4716cb809462add5a93276cbc5be657288a6b5c","modified":1742200647506},{"_id":"public/tags/虚拟化/index.html","hash":"98f2e9c322aa53a0f73bcfeb4936d0b7f53c21f5","modified":1742200647506},{"_id":"public/tags/FlipView/index.html","hash":"69d86a75296fbf82ddcbe0f94c8d8bac4cf51a11","modified":1742200647506},{"_id":"public/tags/Smtp/index.html","hash":"5f4a8690a98681f0093a3fcbb5895e43dd26ec3d","modified":1742200647506},{"_id":"public/tags/阿里云/index.html","hash":"59ede92777aa3e0049da9cfd78b957e6f91066d7","modified":1742200647506},{"_id":"public/tags/wordpress/index.html","hash":"b013c7202553578f0a2dc39a5ebc4fa34dd38141","modified":1742200647506},{"_id":"public/tags/安卓/index.html","hash":"c4ebfc22e262413318f32bf99819fbca681a1b2b","modified":1742200647506},{"_id":"public/tags/Git/index.html","hash":"a65492aff513e211a041035c35bc29f79cc46163","modified":1742200647506},{"_id":"public/tags/Github-Desktop/index.html","hash":"30180dedb9fc70da7e7ca1d9caa2c2182036d178","modified":1742200647506},{"_id":"public/tags/Nas/index.html","hash":"f58a118e790d3207ee09a1312df3595401c3a514","modified":1742200647506},{"_id":"public/tags/Photoshop/index.html","hash":"1c2cf30a7f46dc31a3d8ea9e08b8c00eee8aa827","modified":1742200647506},{"_id":"public/tags/NAS/index.html","hash":"b83545517a957a46880896fb1f03822c8cf2f1c3","modified":1742200647506},{"_id":"public/tags/EXSI/index.html","hash":"cc3a4f2071480b07d8a19f5c2e784d85f3529c1b","modified":1742200647506}],"Category":[{"name":"开发笔记","_id":"cm7enwl1h0004ews77f8x4byj"},{"name":"Revit学习笔记","_id":"cm7enwl1o000pews71htffowj"},{"name":"随笔","_id":"cm7enwl1w001yews7ev9z0m5u"},{"name":"服务器","_id":"cm7enwl22002wews771aafqbj"}],"Data":[],"Page":[],"Post":[{"title":"关于本人发布的UWP的隐私策略","comments":0,"date":"2017-12-16T18:55:53.000Z","_content":"\n# 隐私策略\n\n1、我们不会从您哪里收集任何的个人信息，包括您应用程序的数据或您在应用中共享的信息。 2、第三方比如微软会收集一些应用的使用次数、奔溃等遥测数据，但都不会收集您的个人信息。 3、使用本APP，代表您已同意我们的隐私策略。 4、我们有权随时更改隐私策略，会在本页面更新。最近一次的更新是2018年3月3日。 5、如果您有任何有关此隐私策略 的问题，您可以使用下面的信息与我们联系。 [yzj0308@hotmail.com](mailto:yzj0308@hotmail.com)  \n\n# Privacy policy\n\n1, We don't collect any personal information from you, including the data of your application or the information that you share in the application. 2, third parties such as Microsoft will collect some of the number of applications, such as crashing telemetry data, but will not collect your personal information. 3, using this APP, on behalf of you have agreed with our privacy policy. 4, We reserve the right to change the privacy policy at any time and will be updated on this page. The most recent update was March 3, 2018. 5, If you have any questions about this privacy policy, you can use the information below to contact us. [yzj0308@hotmail.com](mailto:yzj0308@hotmail.com)","source":"_posts/关于本人发布的uwp的隐私策略.md","raw":"---\ntitle: 关于本人发布的UWP的隐私策略\ntags:\n  - 隐私策略\ncategories:\n  - - 开发笔记\ncomments: false\ndate: 2017-12-17 02:55:53\n---\n\n# 隐私策略\n\n1、我们不会从您哪里收集任何的个人信息，包括您应用程序的数据或您在应用中共享的信息。 2、第三方比如微软会收集一些应用的使用次数、奔溃等遥测数据，但都不会收集您的个人信息。 3、使用本APP，代表您已同意我们的隐私策略。 4、我们有权随时更改隐私策略，会在本页面更新。最近一次的更新是2018年3月3日。 5、如果您有任何有关此隐私策略 的问题，您可以使用下面的信息与我们联系。 [yzj0308@hotmail.com](mailto:yzj0308@hotmail.com)  \n\n# Privacy policy\n\n1, We don't collect any personal information from you, including the data of your application or the information that you share in the application. 2, third parties such as Microsoft will collect some of the number of applications, such as crashing telemetry data, but will not collect your personal information. 3, using this APP, on behalf of you have agreed with our privacy policy. 4, We reserve the right to change the privacy policy at any time and will be updated on this page. The most recent update was March 3, 2018. 5, If you have any questions about this privacy policy, you can use the information below to contact us. [yzj0308@hotmail.com](mailto:yzj0308@hotmail.com)","slug":"关于本人发布的uwp的隐私策略","published":1,"updated":"2025-02-21T10:54:54.011Z","layout":"post","photos":[],"_id":"cm7enwl1b0000ews74krq4zv1","content":"<h1 id=\"隐私策略\"><a href=\"#隐私策略\" class=\"headerlink\" title=\"隐私策略\"></a>隐私策略</h1><p>1、我们不会从您哪里收集任何的个人信息，包括您应用程序的数据或您在应用中共享的信息。 2、第三方比如微软会收集一些应用的使用次数、奔溃等遥测数据，但都不会收集您的个人信息。 3、使用本APP，代表您已同意我们的隐私策略。 4、我们有权随时更改隐私策略，会在本页面更新。最近一次的更新是2018年3月3日。 5、如果您有任何有关此隐私策略 的问题，您可以使用下面的信息与我们联系。 <a href=\"mailto:yzj0308@hotmail.com\">yzj0308@hotmail.com</a>  </p>\n<h1 id=\"Privacy-policy\"><a href=\"#Privacy-policy\" class=\"headerlink\" title=\"Privacy policy\"></a>Privacy policy</h1><p>1, We don’t collect any personal information from you, including the data of your application or the information that you share in the application. 2, third parties such as Microsoft will collect some of the number of applications, such as crashing telemetry data, but will not collect your personal information. 3, using this APP, on behalf of you have agreed with our privacy policy. 4, We reserve the right to change the privacy policy at any time and will be updated on this page. The most recent update was March 3, 2018. 5, If you have any questions about this privacy policy, you can use the information below to contact us. <a href=\"mailto:yzj0308@hotmail.com\">yzj0308@hotmail.com</a></p>\n","excerpt":"","more":"<h1 id=\"隐私策略\"><a href=\"#隐私策略\" class=\"headerlink\" title=\"隐私策略\"></a>隐私策略</h1><p>1、我们不会从您哪里收集任何的个人信息，包括您应用程序的数据或您在应用中共享的信息。 2、第三方比如微软会收集一些应用的使用次数、奔溃等遥测数据，但都不会收集您的个人信息。 3、使用本APP，代表您已同意我们的隐私策略。 4、我们有权随时更改隐私策略，会在本页面更新。最近一次的更新是2018年3月3日。 5、如果您有任何有关此隐私策略 的问题，您可以使用下面的信息与我们联系。 <a href=\"mailto:yzj0308@hotmail.com\">yzj0308@hotmail.com</a>  </p>\n<h1 id=\"Privacy-policy\"><a href=\"#Privacy-policy\" class=\"headerlink\" title=\"Privacy policy\"></a>Privacy policy</h1><p>1, We don’t collect any personal information from you, including the data of your application or the information that you share in the application. 2, third parties such as Microsoft will collect some of the number of applications, such as crashing telemetry data, but will not collect your personal information. 3, using this APP, on behalf of you have agreed with our privacy policy. 4, We reserve the right to change the privacy policy at any time and will be updated on this page. The most recent update was March 3, 2018. 5, If you have any questions about this privacy policy, you can use the information below to contact us. <a href=\"mailto:yzj0308@hotmail.com\">yzj0308@hotmail.com</a></p>\n"},{"title":"ASP.NET Core连接带密码的MongoDb","date":"2020-03-03T16:27:55.000Z","_content":"\nmongodb密码和传统数据如mysql等有些区别：\n\nmongodb的用户名和密码是基于特定数据库的，而不是基于整个系统的。所有所有数据库db都需要设置密码\n\n## mongodb设置管理用户和密码\n\n1、`show dbs`  \n在mongodb新版本里并没有admin数据库，但是并不妨碍第2步操作。\n\n2、`use admin` 进入admin数据库\n\n3、创建管理员账户  \n`db.createUser({ user: \"useradmin\", pwd: \"adminpassword\", roles: [{ role: \"userAdminAnyDatabase\", db: \"admin\" }] })`  \nmongodb中的用户是基于身份role的，该管理员账户的 role是 userAdminAnyDatabase。 ‘userAdmin’代表用户管理身份，’AnyDatabase’ 代表可以管理任何数据库。\n\n4、验证第3步用户添加是否成功  \n`db.auth(\"useradmin\", \"adminpassword\")` 如果返回1，则表示成功。  \n`exit`退出系统  \n`db.auth()`方法理解为 用户的验证功能\n\n5、修改配置  \n修改mongodb.conf文件中的noauth=false，如下图\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030316373741.png)\n\n6、重启mongodb `sudo service mongod restart`\n\n7、进入mongodb,用第3步的 管理员账户登录，用该账户创建其他数据库管理员账号  \n`use admin`  \n`db.auth(\"useradmin\", \"adminpassword\")`\n\n8、新建你需要管理的mongodb 数据的账号密码。  \n`use yourdatabase`  \n`db.createUser({ user: \"youruser\", pwd: \"yourpassword\", roles: [{ role: \"dbOwner\", db:\"yourdatabase\" }] })`rote:dbOwner 代表数据库所有者角色，拥有最高该数据库最高权限。比如新建索引等\n\n9、新建数据库读写账户  \n`use yourdatabase`  \n`db.createUser({ user: \"youruser2\", pwd: \"yourpassword2\", roles: [{ role: \"readWrite\",db: \"yourdatabase\" }] })`该用户用于该数据的读写，只拥有读写权限。\n\n10、现在数据的用户名和密码就建好了。  \n可以使用：`mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase`来链接\n\n## ASP.NET Core里appsettings.json的设置\n\n\"WallhavenUpdateLogDatabaseSettings\": {\n    \"WallhavenUpdateLogCollectionName\": \"youcollectio\",\n    \"ConnectionString\": \"mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase\",\n    \"DatabaseName\": \"yourdatabase\"\n\n参考文章：[mongodb设置密码](https://juejin.im/post/5b0519cf518825426539d05e)","source":"_posts/ASP.NET/asp-net-core-connect-passowrd-mongodb.md","raw":"---\ntitle: ASP.NET Core连接带密码的MongoDb\ntags:\n  - ASP.NET Core\n  - MongoDB\ncategories:\n  - - 开发笔记\ndate: 2020-03-04 00:27:55\n---\n\nmongodb密码和传统数据如mysql等有些区别：\n\nmongodb的用户名和密码是基于特定数据库的，而不是基于整个系统的。所有所有数据库db都需要设置密码\n\n## mongodb设置管理用户和密码\n\n1、`show dbs`  \n在mongodb新版本里并没有admin数据库，但是并不妨碍第2步操作。\n\n2、`use admin` 进入admin数据库\n\n3、创建管理员账户  \n`db.createUser({ user: \"useradmin\", pwd: \"adminpassword\", roles: [{ role: \"userAdminAnyDatabase\", db: \"admin\" }] })`  \nmongodb中的用户是基于身份role的，该管理员账户的 role是 userAdminAnyDatabase。 ‘userAdmin’代表用户管理身份，’AnyDatabase’ 代表可以管理任何数据库。\n\n4、验证第3步用户添加是否成功  \n`db.auth(\"useradmin\", \"adminpassword\")` 如果返回1，则表示成功。  \n`exit`退出系统  \n`db.auth()`方法理解为 用户的验证功能\n\n5、修改配置  \n修改mongodb.conf文件中的noauth=false，如下图\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030316373741.png)\n\n6、重启mongodb `sudo service mongod restart`\n\n7、进入mongodb,用第3步的 管理员账户登录，用该账户创建其他数据库管理员账号  \n`use admin`  \n`db.auth(\"useradmin\", \"adminpassword\")`\n\n8、新建你需要管理的mongodb 数据的账号密码。  \n`use yourdatabase`  \n`db.createUser({ user: \"youruser\", pwd: \"yourpassword\", roles: [{ role: \"dbOwner\", db:\"yourdatabase\" }] })`rote:dbOwner 代表数据库所有者角色，拥有最高该数据库最高权限。比如新建索引等\n\n9、新建数据库读写账户  \n`use yourdatabase`  \n`db.createUser({ user: \"youruser2\", pwd: \"yourpassword2\", roles: [{ role: \"readWrite\",db: \"yourdatabase\" }] })`该用户用于该数据的读写，只拥有读写权限。\n\n10、现在数据的用户名和密码就建好了。  \n可以使用：`mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase`来链接\n\n## ASP.NET Core里appsettings.json的设置\n\n\"WallhavenUpdateLogDatabaseSettings\": {\n    \"WallhavenUpdateLogCollectionName\": \"youcollectio\",\n    \"ConnectionString\": \"mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase\",\n    \"DatabaseName\": \"yourdatabase\"\n\n参考文章：[mongodb设置密码](https://juejin.im/post/5b0519cf518825426539d05e)","slug":"ASP.NET/asp-net-core-connect-passowrd-mongodb","published":1,"updated":"2025-02-21T10:54:53.986Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1e0001ews70dn846rq","content":"<p>mongodb密码和传统数据如mysql等有些区别：</p>\n<p>mongodb的用户名和密码是基于特定数据库的，而不是基于整个系统的。所有所有数据库db都需要设置密码</p>\n<h2 id=\"mongodb设置管理用户和密码\"><a href=\"#mongodb设置管理用户和密码\" class=\"headerlink\" title=\"mongodb设置管理用户和密码\"></a>mongodb设置管理用户和密码</h2><p>1、<code>show dbs</code><br>在mongodb新版本里并没有admin数据库，但是并不妨碍第2步操作。</p>\n<p>2、<code>use admin</code> 进入admin数据库</p>\n<p>3、创建管理员账户<br><code>db.createUser(&#123; user: &quot;useradmin&quot;, pwd: &quot;adminpassword&quot;, roles: [&#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;] &#125;)</code><br>mongodb中的用户是基于身份role的，该管理员账户的 role是 userAdminAnyDatabase。 ‘userAdmin’代表用户管理身份，’AnyDatabase’ 代表可以管理任何数据库。</p>\n<p>4、验证第3步用户添加是否成功<br><code>db.auth(&quot;useradmin&quot;, &quot;adminpassword&quot;)</code> 如果返回1，则表示成功。<br><code>exit</code>退出系统<br><code>db.auth()</code>方法理解为 用户的验证功能</p>\n<p>5、修改配置<br>修改mongodb.conf文件中的noauth&#x3D;false，如下图</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030316373741.png\"></p>\n<p>6、重启mongodb <code>sudo service mongod restart</code></p>\n<p>7、进入mongodb,用第3步的 管理员账户登录，用该账户创建其他数据库管理员账号<br><code>use admin</code><br><code>db.auth(&quot;useradmin&quot;, &quot;adminpassword&quot;)</code></p>\n<p>8、新建你需要管理的mongodb 数据的账号密码。<br><code>use yourdatabase</code><br><code>db.createUser(&#123; user: &quot;youruser&quot;, pwd: &quot;yourpassword&quot;, roles: [&#123; role: &quot;dbOwner&quot;, db:&quot;yourdatabase&quot; &#125;] &#125;)</code>rote:dbOwner 代表数据库所有者角色，拥有最高该数据库最高权限。比如新建索引等</p>\n<p>9、新建数据库读写账户<br><code>use yourdatabase</code><br><code>db.createUser(&#123; user: &quot;youruser2&quot;, pwd: &quot;yourpassword2&quot;, roles: [&#123; role: &quot;readWrite&quot;,db: &quot;yourdatabase&quot; &#125;] &#125;)</code>该用户用于该数据的读写，只拥有读写权限。</p>\n<p>10、现在数据的用户名和密码就建好了。<br>可以使用：<code>mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase</code>来链接</p>\n<h2 id=\"ASP-NET-Core里appsettings-json的设置\"><a href=\"#ASP-NET-Core里appsettings-json的设置\" class=\"headerlink\" title=\"ASP.NET Core里appsettings.json的设置\"></a>ASP.NET Core里appsettings.json的设置</h2><p>“WallhavenUpdateLogDatabaseSettings”: {<br>    “WallhavenUpdateLogCollectionName”: “youcollectio”,<br>    “ConnectionString”: “mongodb:&#x2F;&#x2F;youruser2:yourpassword2@localhost:27017&#x2F;yourdatabase”,<br>    “DatabaseName”: “yourdatabase”</p>\n<p>参考文章：<a href=\"https://juejin.im/post/5b0519cf518825426539d05e\">mongodb设置密码</a></p>\n","excerpt":"","more":"<p>mongodb密码和传统数据如mysql等有些区别：</p>\n<p>mongodb的用户名和密码是基于特定数据库的，而不是基于整个系统的。所有所有数据库db都需要设置密码</p>\n<h2 id=\"mongodb设置管理用户和密码\"><a href=\"#mongodb设置管理用户和密码\" class=\"headerlink\" title=\"mongodb设置管理用户和密码\"></a>mongodb设置管理用户和密码</h2><p>1、<code>show dbs</code><br>在mongodb新版本里并没有admin数据库，但是并不妨碍第2步操作。</p>\n<p>2、<code>use admin</code> 进入admin数据库</p>\n<p>3、创建管理员账户<br><code>db.createUser(&#123; user: &quot;useradmin&quot;, pwd: &quot;adminpassword&quot;, roles: [&#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;] &#125;)</code><br>mongodb中的用户是基于身份role的，该管理员账户的 role是 userAdminAnyDatabase。 ‘userAdmin’代表用户管理身份，’AnyDatabase’ 代表可以管理任何数据库。</p>\n<p>4、验证第3步用户添加是否成功<br><code>db.auth(&quot;useradmin&quot;, &quot;adminpassword&quot;)</code> 如果返回1，则表示成功。<br><code>exit</code>退出系统<br><code>db.auth()</code>方法理解为 用户的验证功能</p>\n<p>5、修改配置<br>修改mongodb.conf文件中的noauth&#x3D;false，如下图</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030316373741.png\"></p>\n<p>6、重启mongodb <code>sudo service mongod restart</code></p>\n<p>7、进入mongodb,用第3步的 管理员账户登录，用该账户创建其他数据库管理员账号<br><code>use admin</code><br><code>db.auth(&quot;useradmin&quot;, &quot;adminpassword&quot;)</code></p>\n<p>8、新建你需要管理的mongodb 数据的账号密码。<br><code>use yourdatabase</code><br><code>db.createUser(&#123; user: &quot;youruser&quot;, pwd: &quot;yourpassword&quot;, roles: [&#123; role: &quot;dbOwner&quot;, db:&quot;yourdatabase&quot; &#125;] &#125;)</code>rote:dbOwner 代表数据库所有者角色，拥有最高该数据库最高权限。比如新建索引等</p>\n<p>9、新建数据库读写账户<br><code>use yourdatabase</code><br><code>db.createUser(&#123; user: &quot;youruser2&quot;, pwd: &quot;yourpassword2&quot;, roles: [&#123; role: &quot;readWrite&quot;,db: &quot;yourdatabase&quot; &#125;] &#125;)</code>该用户用于该数据的读写，只拥有读写权限。</p>\n<p>10、现在数据的用户名和密码就建好了。<br>可以使用：<code>mongodb://youruser2:yourpassword2@localhost:27017/yourdatabase</code>来链接</p>\n<h2 id=\"ASP-NET-Core里appsettings-json的设置\"><a href=\"#ASP-NET-Core里appsettings-json的设置\" class=\"headerlink\" title=\"ASP.NET Core里appsettings.json的设置\"></a>ASP.NET Core里appsettings.json的设置</h2><p>“WallhavenUpdateLogDatabaseSettings”: {<br>    “WallhavenUpdateLogCollectionName”: “youcollectio”,<br>    “ConnectionString”: “mongodb:&#x2F;&#x2F;youruser2:yourpassword2@localhost:27017&#x2F;yourdatabase”,<br>    “DatabaseName”: “yourdatabase”</p>\n<p>参考文章：<a href=\"https://juejin.im/post/5b0519cf518825426539d05e\">mongodb设置密码</a></p>\n"},{"title":"CentOS MongoDb定时备份","date":"2020-03-18T18:36:25.000Z","_content":"\n本文参照[这篇文章](https://www.cnblogs.com/mengfangui/p/12162337.html)，并修改了部分内容，使其能按预想的运行。\n\n## **1、简述**\n\n通过centos 脚步来执行备份操作，使用crontab实现定时功能，并删除指定天数前的备份。\n\n## **2、创建Mongodb数据库备份目录**\n```\nmkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_now\nmkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_list\n```\n## **3、新建Mongodb数据库备份脚本**\n\n`vi /home/crontab/mongod.sh` #新建文件，输入以下代码\n\n```\n#!/bin/bash\nMONGODB\\_DIR=/usr/local/mongodb/bin  #mongodb安装的bin目录地址\nOUT\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_now #临时备份目录\nTAR\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_list #备份存放路径\nDATE=\\`date +%Y\\_%m\\_%d\\` #获取当前系统时间\nDAYS=7 #DAYS=7代表删除7天前的备份，即只保留最近7天的备份\nTAR\\_BAK=\"mongod\\_bak\\_$DATE.tar.gz\" #最终保存的数据库备份文件名\ncd $OUT\\_DIR\nrm -rf $OUT\\_DIR/\\*\nmkdir -p $OUT\\_DIR/$DATE\ncd $MONGODB\\_DIR \n#下一行的“-d 数据库 -u 用户名 -p 密码”，请更换为自己数据库的信息\n./mongodump -h 127.0.0.1:2017 -d 数据库 -u 用户名 -p 密码 -o $OUT\\_DIR/$DATE #备份数据库\ntar -zcvf $TAR\\_DIR/$TAR\\_BAK $OUT\\_DIR/$DATE #压缩为.tar.gz格式\nfind $TAR\\_DIR/ -mtime +$DAYS -delete #删除7天前的备份文件\n```\n\n**注意**：  \n1、`MONGODB_DIR=/usr/local/mongodb/bin` 一定要修改为你安装MongoDb的bin目录。  \n2、上面的`./mongodump -h 127.0.0.1:27017 -d 数据库 -u 用户名 -p 密码 -o $OUT_DIR/$DATE` 一定要替换成自己的信息。 `127.0.0.1:27017`数据库端口默认为27017，如果你修改过，请修改为正确的值。\n\n## **4、修改文件属性，使其可执行**\n\n`chmod +x /home/crontab/mongod.sh`\n\n## **5、添加定时运行任务**\n\n`vim /etc/crontab`\n\n最下面输入：\n\n`1  1  \\*  \\*  \\* root   cd /home/crontab && ./mongod.sh`\n\n**6、重新启动crond使设置生效**\n```\n/sbin/service crond reload #重新载入配置\nchkconfig --level 35 crond on  #加入开机自动启动:\n/sbin/service crond start   #启动服务\n```\n每天在/home/backup/mongod\\_bak/mongod\\_bak\\_list目录下面可以看到mongod\\_bak\\_xxxx\\_xx\\_xx.tar.gz这样的压缩文件。","source":"_posts/ASP.NET/centos-mongodb-scheduled-backup.md","raw":"---\ntitle: CentOS MongoDb定时备份\ntags:\n  - CentOS\n  - MongoDB\ncategories:\n  - - 开发笔记\ndate: 2020-03-19 02:36:25\n---\n\n本文参照[这篇文章](https://www.cnblogs.com/mengfangui/p/12162337.html)，并修改了部分内容，使其能按预想的运行。\n\n## **1、简述**\n\n通过centos 脚步来执行备份操作，使用crontab实现定时功能，并删除指定天数前的备份。\n\n## **2、创建Mongodb数据库备份目录**\n```\nmkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_now\nmkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_list\n```\n## **3、新建Mongodb数据库备份脚本**\n\n`vi /home/crontab/mongod.sh` #新建文件，输入以下代码\n\n```\n#!/bin/bash\nMONGODB\\_DIR=/usr/local/mongodb/bin  #mongodb安装的bin目录地址\nOUT\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_now #临时备份目录\nTAR\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_list #备份存放路径\nDATE=\\`date +%Y\\_%m\\_%d\\` #获取当前系统时间\nDAYS=7 #DAYS=7代表删除7天前的备份，即只保留最近7天的备份\nTAR\\_BAK=\"mongod\\_bak\\_$DATE.tar.gz\" #最终保存的数据库备份文件名\ncd $OUT\\_DIR\nrm -rf $OUT\\_DIR/\\*\nmkdir -p $OUT\\_DIR/$DATE\ncd $MONGODB\\_DIR \n#下一行的“-d 数据库 -u 用户名 -p 密码”，请更换为自己数据库的信息\n./mongodump -h 127.0.0.1:2017 -d 数据库 -u 用户名 -p 密码 -o $OUT\\_DIR/$DATE #备份数据库\ntar -zcvf $TAR\\_DIR/$TAR\\_BAK $OUT\\_DIR/$DATE #压缩为.tar.gz格式\nfind $TAR\\_DIR/ -mtime +$DAYS -delete #删除7天前的备份文件\n```\n\n**注意**：  \n1、`MONGODB_DIR=/usr/local/mongodb/bin` 一定要修改为你安装MongoDb的bin目录。  \n2、上面的`./mongodump -h 127.0.0.1:27017 -d 数据库 -u 用户名 -p 密码 -o $OUT_DIR/$DATE` 一定要替换成自己的信息。 `127.0.0.1:27017`数据库端口默认为27017，如果你修改过，请修改为正确的值。\n\n## **4、修改文件属性，使其可执行**\n\n`chmod +x /home/crontab/mongod.sh`\n\n## **5、添加定时运行任务**\n\n`vim /etc/crontab`\n\n最下面输入：\n\n`1  1  \\*  \\*  \\* root   cd /home/crontab && ./mongod.sh`\n\n**6、重新启动crond使设置生效**\n```\n/sbin/service crond reload #重新载入配置\nchkconfig --level 35 crond on  #加入开机自动启动:\n/sbin/service crond start   #启动服务\n```\n每天在/home/backup/mongod\\_bak/mongod\\_bak\\_list目录下面可以看到mongod\\_bak\\_xxxx\\_xx\\_xx.tar.gz这样的压缩文件。","slug":"ASP.NET/centos-mongodb-scheduled-backup","published":1,"updated":"2025-02-21T10:54:53.987Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1g0003ews79wfi5v2e","content":"<p>本文参照<a href=\"https://www.cnblogs.com/mengfangui/p/12162337.html\">这篇文章</a>，并修改了部分内容，使其能按预想的运行。</p>\n<h2 id=\"1、简述\"><a href=\"#1、简述\" class=\"headerlink\" title=\"1、简述\"></a><strong>1、简述</strong></h2><p>通过centos 脚步来执行备份操作，使用crontab实现定时功能，并删除指定天数前的备份。</p>\n<h2 id=\"2、创建Mongodb数据库备份目录\"><a href=\"#2、创建Mongodb数据库备份目录\" class=\"headerlink\" title=\"2、创建Mongodb数据库备份目录\"></a><strong>2、创建Mongodb数据库备份目录</strong></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_now</span><br><span class=\"line\">mkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_list</span><br></pre></td></tr></table></figure>\n<h2 id=\"3、新建Mongodb数据库备份脚本\"><a href=\"#3、新建Mongodb数据库备份脚本\" class=\"headerlink\" title=\"3、新建Mongodb数据库备份脚本\"></a><strong>3、新建Mongodb数据库备份脚本</strong></h2><p><code>vi /home/crontab/mongod.sh</code> #新建文件，输入以下代码</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">MONGODB\\_DIR=/usr/local/mongodb/bin  #mongodb安装的bin目录地址</span><br><span class=\"line\">OUT\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_now #临时备份目录</span><br><span class=\"line\">TAR\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_list #备份存放路径</span><br><span class=\"line\">DATE=\\`date +%Y\\_%m\\_%d\\` #获取当前系统时间</span><br><span class=\"line\">DAYS=7 #DAYS=7代表删除7天前的备份，即只保留最近7天的备份</span><br><span class=\"line\">TAR\\_BAK=&quot;mongod\\_bak\\_$DATE.tar.gz&quot; #最终保存的数据库备份文件名</span><br><span class=\"line\">cd $OUT\\_DIR</span><br><span class=\"line\">rm -rf $OUT\\_DIR/\\*</span><br><span class=\"line\">mkdir -p $OUT\\_DIR/$DATE</span><br><span class=\"line\">cd $MONGODB\\_DIR </span><br><span class=\"line\">#下一行的“-d 数据库 -u 用户名 -p 密码”，请更换为自己数据库的信息</span><br><span class=\"line\">./mongodump -h 127.0.0.1:2017 -d 数据库 -u 用户名 -p 密码 -o $OUT\\_DIR/$DATE #备份数据库</span><br><span class=\"line\">tar -zcvf $TAR\\_DIR/$TAR\\_BAK $OUT\\_DIR/$DATE #压缩为.tar.gz格式</span><br><span class=\"line\">find $TAR\\_DIR/ -mtime +$DAYS -delete #删除7天前的备份文件</span><br></pre></td></tr></table></figure>\n\n<p><strong>注意</strong>：<br>1、<code>MONGODB_DIR=/usr/local/mongodb/bin</code> 一定要修改为你安装MongoDb的bin目录。<br>2、上面的<code>./mongodump -h 127.0.0.1:27017 -d 数据库 -u 用户名 -p 密码 -o $OUT_DIR/$DATE</code> 一定要替换成自己的信息。 <code>127.0.0.1:27017</code>数据库端口默认为27017，如果你修改过，请修改为正确的值。</p>\n<h2 id=\"4、修改文件属性，使其可执行\"><a href=\"#4、修改文件属性，使其可执行\" class=\"headerlink\" title=\"4、修改文件属性，使其可执行\"></a><strong>4、修改文件属性，使其可执行</strong></h2><p><code>chmod +x /home/crontab/mongod.sh</code></p>\n<h2 id=\"5、添加定时运行任务\"><a href=\"#5、添加定时运行任务\" class=\"headerlink\" title=\"5、添加定时运行任务\"></a><strong>5、添加定时运行任务</strong></h2><p><code>vim /etc/crontab</code></p>\n<p>最下面输入：</p>\n<p><code>1  1  \\*  \\*  \\* root   cd /home/crontab &amp;&amp; ./mongod.sh</code></p>\n<p><strong>6、重新启动crond使设置生效</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/sbin/service crond reload #重新载入配置</span><br><span class=\"line\">chkconfig --level 35 crond on  #加入开机自动启动:</span><br><span class=\"line\">/sbin/service crond start   #启动服务</span><br></pre></td></tr></table></figure>\n<p>每天在&#x2F;home&#x2F;backup&#x2F;mongod_bak&#x2F;mongod_bak_list目录下面可以看到mongod_bak_xxxx_xx_xx.tar.gz这样的压缩文件。</p>\n","excerpt":"","more":"<p>本文参照<a href=\"https://www.cnblogs.com/mengfangui/p/12162337.html\">这篇文章</a>，并修改了部分内容，使其能按预想的运行。</p>\n<h2 id=\"1、简述\"><a href=\"#1、简述\" class=\"headerlink\" title=\"1、简述\"></a><strong>1、简述</strong></h2><p>通过centos 脚步来执行备份操作，使用crontab实现定时功能，并删除指定天数前的备份。</p>\n<h2 id=\"2、创建Mongodb数据库备份目录\"><a href=\"#2、创建Mongodb数据库备份目录\" class=\"headerlink\" title=\"2、创建Mongodb数据库备份目录\"></a><strong>2、创建Mongodb数据库备份目录</strong></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_now</span><br><span class=\"line\">mkdir -p /home/backup/mongod\\_bak/mongod\\_bak\\_list</span><br></pre></td></tr></table></figure>\n<h2 id=\"3、新建Mongodb数据库备份脚本\"><a href=\"#3、新建Mongodb数据库备份脚本\" class=\"headerlink\" title=\"3、新建Mongodb数据库备份脚本\"></a><strong>3、新建Mongodb数据库备份脚本</strong></h2><p><code>vi /home/crontab/mongod.sh</code> #新建文件，输入以下代码</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">MONGODB\\_DIR=/usr/local/mongodb/bin  #mongodb安装的bin目录地址</span><br><span class=\"line\">OUT\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_now #临时备份目录</span><br><span class=\"line\">TAR\\_DIR=/home/backup/mongod\\_bak/mongod\\_bak\\_list #备份存放路径</span><br><span class=\"line\">DATE=\\`date +%Y\\_%m\\_%d\\` #获取当前系统时间</span><br><span class=\"line\">DAYS=7 #DAYS=7代表删除7天前的备份，即只保留最近7天的备份</span><br><span class=\"line\">TAR\\_BAK=&quot;mongod\\_bak\\_$DATE.tar.gz&quot; #最终保存的数据库备份文件名</span><br><span class=\"line\">cd $OUT\\_DIR</span><br><span class=\"line\">rm -rf $OUT\\_DIR/\\*</span><br><span class=\"line\">mkdir -p $OUT\\_DIR/$DATE</span><br><span class=\"line\">cd $MONGODB\\_DIR </span><br><span class=\"line\">#下一行的“-d 数据库 -u 用户名 -p 密码”，请更换为自己数据库的信息</span><br><span class=\"line\">./mongodump -h 127.0.0.1:2017 -d 数据库 -u 用户名 -p 密码 -o $OUT\\_DIR/$DATE #备份数据库</span><br><span class=\"line\">tar -zcvf $TAR\\_DIR/$TAR\\_BAK $OUT\\_DIR/$DATE #压缩为.tar.gz格式</span><br><span class=\"line\">find $TAR\\_DIR/ -mtime +$DAYS -delete #删除7天前的备份文件</span><br></pre></td></tr></table></figure>\n\n<p><strong>注意</strong>：<br>1、<code>MONGODB_DIR=/usr/local/mongodb/bin</code> 一定要修改为你安装MongoDb的bin目录。<br>2、上面的<code>./mongodump -h 127.0.0.1:27017 -d 数据库 -u 用户名 -p 密码 -o $OUT_DIR/$DATE</code> 一定要替换成自己的信息。 <code>127.0.0.1:27017</code>数据库端口默认为27017，如果你修改过，请修改为正确的值。</p>\n<h2 id=\"4、修改文件属性，使其可执行\"><a href=\"#4、修改文件属性，使其可执行\" class=\"headerlink\" title=\"4、修改文件属性，使其可执行\"></a><strong>4、修改文件属性，使其可执行</strong></h2><p><code>chmod +x /home/crontab/mongod.sh</code></p>\n<h2 id=\"5、添加定时运行任务\"><a href=\"#5、添加定时运行任务\" class=\"headerlink\" title=\"5、添加定时运行任务\"></a><strong>5、添加定时运行任务</strong></h2><p><code>vim /etc/crontab</code></p>\n<p>最下面输入：</p>\n<p><code>1  1  \\*  \\*  \\* root   cd /home/crontab &amp;&amp; ./mongod.sh</code></p>\n<p><strong>6、重新启动crond使设置生效</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/sbin/service crond reload #重新载入配置</span><br><span class=\"line\">chkconfig --level 35 crond on  #加入开机自动启动:</span><br><span class=\"line\">/sbin/service crond start   #启动服务</span><br></pre></td></tr></table></figure>\n<p>每天在&#x2F;home&#x2F;backup&#x2F;mongod_bak&#x2F;mongod_bak_list目录下面可以看到mongod_bak_xxxx_xx_xx.tar.gz这样的压缩文件。</p>\n"},{"title":"CentOS部署React项目","date":"2020-04-13T17:58:15.000Z","_content":"\n前期工作：[安装最新版node.js](https://www.jianshu.com/p/4a9449506924)\n\n1、git clone 项目地址\n\n2、进入项目目录，npm install\n\n3、npm run build\n\n配置nginx\n\n```\nserver {\n      listen 8009; #任何可用端口都可以\n      server_name localhost;\n      location / {\n            root /home/xxx/build; #生成文件的路径\n            try_files $uri $uri/ /index.html last;\n            index index.html;\n            add_header Access-Control-Allow-Origin *;\n      }\n}\n```\n\n安装node和npm\n\n```\ncurl –silent –location https://rpm.nodesource.com/setup_13.x  sudo bash -\nsudo yum install -y nodejs\n#卸载旧版本\nsudo yum remove -y nodejs npm\n```","source":"_posts/ASP.NET/centos-build-react-project.md","raw":"---\ntitle: CentOS部署React项目\ntags:\n  - CentOS\n  - React\ncategories:\n  - - 开发笔记\ndate: 2020-04-14 01:58:15\n---\n\n前期工作：[安装最新版node.js](https://www.jianshu.com/p/4a9449506924)\n\n1、git clone 项目地址\n\n2、进入项目目录，npm install\n\n3、npm run build\n\n配置nginx\n\n```\nserver {\n      listen 8009; #任何可用端口都可以\n      server_name localhost;\n      location / {\n            root /home/xxx/build; #生成文件的路径\n            try_files $uri $uri/ /index.html last;\n            index index.html;\n            add_header Access-Control-Allow-Origin *;\n      }\n}\n```\n\n安装node和npm\n\n```\ncurl –silent –location https://rpm.nodesource.com/setup_13.x  sudo bash -\nsudo yum install -y nodejs\n#卸载旧版本\nsudo yum remove -y nodejs npm\n```","slug":"ASP.NET/centos-build-react-project","published":1,"updated":"2025-02-21T10:54:53.986Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1i0005ews7h7my44ry","content":"<p>前期工作：<a href=\"https://www.jianshu.com/p/4a9449506924\">安装最新版node.js</a></p>\n<p>1、git clone 项目地址</p>\n<p>2、进入项目目录，npm install</p>\n<p>3、npm run build</p>\n<p>配置nginx</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">      listen 8009; #任何可用端口都可以</span><br><span class=\"line\">      server_name localhost;</span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">            root /home/xxx/build; #生成文件的路径</span><br><span class=\"line\">            try_files $uri $uri/ /index.html last;</span><br><span class=\"line\">            index index.html;</span><br><span class=\"line\">            add_header Access-Control-Allow-Origin *;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>安装node和npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl –silent –location https://rpm.nodesource.com/setup_13.x  sudo bash -</span><br><span class=\"line\">sudo yum install -y nodejs</span><br><span class=\"line\">#卸载旧版本</span><br><span class=\"line\">sudo yum remove -y nodejs npm</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>前期工作：<a href=\"https://www.jianshu.com/p/4a9449506924\">安装最新版node.js</a></p>\n<p>1、git clone 项目地址</p>\n<p>2、进入项目目录，npm install</p>\n<p>3、npm run build</p>\n<p>配置nginx</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">      listen 8009; #任何可用端口都可以</span><br><span class=\"line\">      server_name localhost;</span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">            root /home/xxx/build; #生成文件的路径</span><br><span class=\"line\">            try_files $uri $uri/ /index.html last;</span><br><span class=\"line\">            index index.html;</span><br><span class=\"line\">            add_header Access-Control-Allow-Origin *;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>安装node和npm</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl –silent –location https://rpm.nodesource.com/setup_13.x  sudo bash -</span><br><span class=\"line\">sudo yum install -y nodejs</span><br><span class=\"line\">#卸载旧版本</span><br><span class=\"line\">sudo yum remove -y nodejs npm</span><br></pre></td></tr></table></figure>"},{"title":"CentOS nginx简单实现文件服务器","date":"2020-04-02T05:12:13.000Z","_content":"\n1、首先，查看HTTP允许访问的端口。\n\n```\nsemanage port -l  grep http_port_t\n```\n\n可以使用上述端口中的一个（我用的9000），也可以添加一个，比如1234\n\n```\nsemanage port -a -t http_port_t  -p tcp 1234\n```\n\n2、在`/etc/nginx/conf.d/`新建一个文件`file_server.conf`，修改内容为下面所示\n\n```\nserver {\n  listen 9000; #端口 \n  server_name localhost;  \n  charset utf-8; # 避免中文乱码 \n  root /home/download/; # 显示的根索引目录，注意这里要改成你自己的，目录要存在\n  location / { \n    autoindex on; #开启索引功能  \n    autoindex_exact_size off; #关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）   \n    autoindex_localtime on; # 显示本机时间而非 GMT 时间  \n  }\n}\n```\n\n然后重启nginx服务，`service nginx restart`\n\n在浏览器输入你的域名或者IP地址加端口号访问。\n\n```\n域名:9000 或者 ip:9000\n```\n\n3、如果访问出现`403 Forbidden`，修改`/etc/selinux/config`文件\n\n```\nSELINUX=disabled\n```\n\n重启`reboot`。\n\n参考文章：\n\n[用nginx一分钟实现文件服务器](https://www.jianshu.com/p/d9f886a9666a)\n\n[nginx报错处理](https://blog.csdn.net/RunSnail2018/article/details/81185138)\n\n[四种解决Nginx出现403 forbidden 报错的方法](https://www.linuxprobe.com/nginx-403-forbidden.html)","source":"_posts/ASP.NET/centos-nginx-file-sercer.md","raw":"---\ntitle: CentOS nginx简单实现文件服务器\ntags:\n  - CentOS\n  - Nginx\ncategories:\n  - - 开发笔记\ndate: 2020-04-02 13:12:13\n---\n\n1、首先，查看HTTP允许访问的端口。\n\n```\nsemanage port -l  grep http_port_t\n```\n\n可以使用上述端口中的一个（我用的9000），也可以添加一个，比如1234\n\n```\nsemanage port -a -t http_port_t  -p tcp 1234\n```\n\n2、在`/etc/nginx/conf.d/`新建一个文件`file_server.conf`，修改内容为下面所示\n\n```\nserver {\n  listen 9000; #端口 \n  server_name localhost;  \n  charset utf-8; # 避免中文乱码 \n  root /home/download/; # 显示的根索引目录，注意这里要改成你自己的，目录要存在\n  location / { \n    autoindex on; #开启索引功能  \n    autoindex_exact_size off; #关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）   \n    autoindex_localtime on; # 显示本机时间而非 GMT 时间  \n  }\n}\n```\n\n然后重启nginx服务，`service nginx restart`\n\n在浏览器输入你的域名或者IP地址加端口号访问。\n\n```\n域名:9000 或者 ip:9000\n```\n\n3、如果访问出现`403 Forbidden`，修改`/etc/selinux/config`文件\n\n```\nSELINUX=disabled\n```\n\n重启`reboot`。\n\n参考文章：\n\n[用nginx一分钟实现文件服务器](https://www.jianshu.com/p/d9f886a9666a)\n\n[nginx报错处理](https://blog.csdn.net/RunSnail2018/article/details/81185138)\n\n[四种解决Nginx出现403 forbidden 报错的方法](https://www.linuxprobe.com/nginx-403-forbidden.html)","slug":"ASP.NET/centos-nginx-file-sercer","published":1,"updated":"2025-02-21T10:54:53.987Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1i0006ews7c3bm2xzh","content":"<p>1、首先，查看HTTP允许访问的端口。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semanage port -l  grep http_port_t</span><br></pre></td></tr></table></figure>\n\n<p>可以使用上述端口中的一个（我用的9000），也可以添加一个，比如1234</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semanage port -a -t http_port_t  -p tcp 1234</span><br></pre></td></tr></table></figure>\n\n<p>2、在<code>/etc/nginx/conf.d/</code>新建一个文件<code>file_server.conf</code>，修改内容为下面所示</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 9000; #端口 </span><br><span class=\"line\">  server_name localhost;  </span><br><span class=\"line\">  charset utf-8; # 避免中文乱码 </span><br><span class=\"line\">  root /home/download/; # 显示的根索引目录，注意这里要改成你自己的，目录要存在</span><br><span class=\"line\">  location / &#123; </span><br><span class=\"line\">    autoindex on; #开启索引功能  </span><br><span class=\"line\">    autoindex_exact_size off; #关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）   </span><br><span class=\"line\">    autoindex_localtime on; # 显示本机时间而非 GMT 时间  </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>然后重启nginx服务，<code>service nginx restart</code></p>\n<p>在浏览器输入你的域名或者IP地址加端口号访问。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">域名:9000 或者 ip:9000</span><br></pre></td></tr></table></figure>\n\n<p>3、如果访问出现<code>403 Forbidden</code>，修改<code>/etc/selinux/config</code>文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELINUX=disabled</span><br></pre></td></tr></table></figure>\n\n<p>重启<code>reboot</code>。</p>\n<p>参考文章：</p>\n<p><a href=\"https://www.jianshu.com/p/d9f886a9666a\">用nginx一分钟实现文件服务器</a></p>\n<p><a href=\"https://blog.csdn.net/RunSnail2018/article/details/81185138\">nginx报错处理</a></p>\n<p><a href=\"https://www.linuxprobe.com/nginx-403-forbidden.html\">四种解决Nginx出现403 forbidden 报错的方法</a></p>\n","excerpt":"","more":"<p>1、首先，查看HTTP允许访问的端口。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semanage port -l  grep http_port_t</span><br></pre></td></tr></table></figure>\n\n<p>可以使用上述端口中的一个（我用的9000），也可以添加一个，比如1234</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">semanage port -a -t http_port_t  -p tcp 1234</span><br></pre></td></tr></table></figure>\n\n<p>2、在<code>/etc/nginx/conf.d/</code>新建一个文件<code>file_server.conf</code>，修改内容为下面所示</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 9000; #端口 </span><br><span class=\"line\">  server_name localhost;  </span><br><span class=\"line\">  charset utf-8; # 避免中文乱码 </span><br><span class=\"line\">  root /home/download/; # 显示的根索引目录，注意这里要改成你自己的，目录要存在</span><br><span class=\"line\">  location / &#123; </span><br><span class=\"line\">    autoindex on; #开启索引功能  </span><br><span class=\"line\">    autoindex_exact_size off; #关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）   </span><br><span class=\"line\">    autoindex_localtime on; # 显示本机时间而非 GMT 时间  </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>然后重启nginx服务，<code>service nginx restart</code></p>\n<p>在浏览器输入你的域名或者IP地址加端口号访问。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">域名:9000 或者 ip:9000</span><br></pre></td></tr></table></figure>\n\n<p>3、如果访问出现<code>403 Forbidden</code>，修改<code>/etc/selinux/config</code>文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELINUX=disabled</span><br></pre></td></tr></table></figure>\n\n<p>重启<code>reboot</code>。</p>\n<p>参考文章：</p>\n<p><a href=\"https://www.jianshu.com/p/d9f886a9666a\">用nginx一分钟实现文件服务器</a></p>\n<p><a href=\"https://blog.csdn.net/RunSnail2018/article/details/81185138\">nginx报错处理</a></p>\n<p><a href=\"https://www.linuxprobe.com/nginx-403-forbidden.html\">四种解决Nginx出现403 forbidden 报错的方法</a></p>\n"},{"title":"使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序","date":"2019-08-11T17:24:20.000Z","_content":"\n> 本文在[这篇文章](https://www.cnblogs.com/esofar/p/8043792.html)上，经过自己的实践，做了补充。\n\n## 安装 .NET Core SDK\n\n[微软官方文档](https://dotnet.microsoft.com/learn/dotnet/hello-world-tutorial/install) 各个系统都有详细的教程。安装完成后输入`dotnet --version`可以常看安装的版本，同时也可以证明有没有安装成功。\n\n## 部署 ASP.NET Core 应用程序\n\n下面就尝试把微软介绍“[_使用 ASP.NET Core 和 MongoDB 创建 Web API_](https://docs.microsoft.com/zh-cn/aspnet/core/tutorials/first-mongo-app?view=aspnetcore-2.2&tabs=visual-studio)” 创建的Demo，部署到安装 .NET SDK 的 CentOS 系统（下文简称服务器）中。  \n服务器采用阿里云轻量应用服务器，系统CentOS7.3。  \n如何安装MongoDB请移步下面这篇文章。\n\n\\[post id=1173\\]\n\n然后借助 FTP 工具 WinSCP 把程序文件传输到服务器`/home/publish`文件夹。\n\n上传完毕后，需要先通过`cd`命令进入网站根目录`/home/publish` ，再输入如下命令启动网站程序：\n\n```\ndotnet BooksApi.dll \n```\n\n如果你可以看到如下界面则表示程序启动成功。\n\n![](https://ofbvxq.sn.files.1drv.com/y4mivg7jKE3gigpjQrKt8zB7KHVjTEJzv8HPJLMdGYHnFQCETnJhnagmTZVnpylGXyQDBjnOAAHjMm2tDdjp2DTv2_n6vj-EGTjOSE9BTFB5LAucrcKg3YfI8FB5wS5O15Y3w-WqwRaCjh37a0WHrRF27VWRgjLGGgN_RM0ZA4ESKhgUAyDaBHni4n5ak7k1qhnXf4CojJajtdMCOIsoQcA4Q?width=1190&height=242&cropmode=none)\n\n但是这样项目是无法在后台自动运行的，需要设置进程守护。\n\n## Supervisor 配置守护进程\n\n[Supervisor](http://supervisord.org/) 是用 Python 开发的 Linux/Unix 系统下的一个进程管理工具。它可以使进程脱离终端，变为后台守护进程（daemon）。实时监控进程状态，异常退出时能自动重启。\n\nSupervisor 不支持任何版本的 Window 系统；仅支持在 Python2.4 或更高版本，但不能在任何版本的 Python 3 下工作。\n\n其主要组成部分：\n\n**supervisord**：Supervisor 的守护进程服务，用于接收进程管理命令；\n\n**supervisorctl**：Supervisor 命令行工具，用于和守护进程通信，发送管理进程的指令；\n\n**Web Server**：Web 端进程管理工具，提供与 supervisorctl 类似功能，管理进程；\n\n**XML-RPC Interface**：提供 XML-RPC 接口，请参阅 [XML-RPC API文档](http://supervisord.org/api.html#xml-rpc)。\n\n### 安装 Supervisor\n\n联网状态下，官方推荐首选安装方法是使用`easy_install`，它是[setuptools](http://peak.telecommunity.com/DevCenter/setuptools)（Python 包管理工具）的一个功能。所以先执行如下命令安装 setuptools：\n\n```\nyum install python-setuptools\n```\n\n请更换`root`用户，执行如下命令安装 Supervisor：\n\n```\neasy_install supervisor\n```\n\n### 配置 Supervisor\n\n运行`supervisord`服务的时候，需要指定 Supervisor 配置文件，如果没有显示指定，默认会从以下目录中加载：\n\n```\n$CWD/supervisord.conf  #$CWD表示运行 supervisord 程序的目录\n$CWD/etc/supervisord.conf\n/etc/supervisord.conf\n/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)\n../etc/supervisord.conf (Relative to the executable)\n../supervisord.conf (Relative to the executable)\n```\n\n所以，先通过如下命令创建目录，以便让 Supervisor 成功加载默认配置：\n\n```\nmkdir /etc/supervisor\n```\n\n加载目录有了，然后通过`echo_supervisord_conf`程序（用来生成初始配置文件）来初始化一个配置文件：\n\n```\necho_supervisord_conf > /etc/supervisor/supervisord.conf\n```\n\n打开`supervisord.conf`文件，可以看到`echo_supervisord_conf`已经帮我们初始化好了一个样例配置，我们需要简单修改一下。\n\n尾部找到如下文本片段：\n\n```\n;[include]\n;files = relative/directory/*.ini\n```\n\n改为：\n\n```\n[include]\nfiles = conf.d/*.conf\n```\n\n![](https://2rhvlq.sn.files.1drv.com/y4moe345cp0AQ_V-7vLFKWv6KuGQ0yOdVKexTI5pStH2ImviRHx36fwWal21oLHMBCYkD5mDIUwZfwPPWB_DMtlt0yI3Gj_mu7pmvIne2u0iMtlfO7XeoUnfrykYmFujJxcjGDQZSA8YOPBuPo5C0yoMMf0trKGAABkloxT-MQOKKiJ1aBu3wLG_A6M_QC6do65201Z8jR8OnxTeuVFzq2Rhw?width=1054&height=713&cropmode=none)\n\n即，把注释去除、设置`/etc/supervisor/conf.d`为 Supervisor 进程配置文件加载目录。\n\n这样，Supervisor 会自动加载该目录下`.conf`后缀的文件作为共同服务配置。Supervisor 管理的每个进程单独写一个配置文件放在该目录下，`supervisord.conf`配置文件中保留公共配置。\n\n创建进程配置加载目录：\n\n```\nmkdir /etc/supervisor/conf.d\n```\n\n接下来就需要为我们已经部署的 ASP .NET Core 程序的宿主进程创建一个进程配置文件`netcore.conf`，保存并上传到`/etc/supervisor/conf.d`目录。\n\n配置文件`netcore.conf`内容如下：\n\n```\n[program:Scorpio.WebApi]                        ;自定义进程名称\ncommand=dotnet Scorpio.WebApi.dll               ;程序启动命令\ndirectory=/home/wwwroot/scorpio                 ;命令执行的目录\nautostart=true                                  ;在Supervisord启动时，程序是否启动\nautorestart=true                                ;程序退出后自动重启\nstartretries=5                                  ;启动失败自动重试次数，默认是3\nstartsecs=1                                     ;自动重启间隔\nuser=root                                       ;设置启动进程的用户，默认是root\npriority=999                                    ;进程启动优先级，默认999，值小的优先启动\nstderr_logfile=/var/log/Scorpio.WebApi.err.log  ;标准错误日志\nstdout_logfile=/var/log/Scorpio.WebApi.out.log  ;标准输出日志\nenvironment=ASPNETCORE_ENVIRONMENT=Production   ;进程环境变量\nstopsignal=INT                                  ;请求停止时用来杀死程序的信号\n```\n\n启动 Supervisor 服务，命令如下：\n\n```\nsupervisord -c /etc/supervisor/supervisord.conf\n```\n\n这时，在会发现我们部署的网站程序不在 shell 中通过`dotnet xxx.dll`启动，同样可以访问。\n\n### 设置 Supervisor 开机启动\n\n首先为 Supervisor 新建一个启动服务脚本`supervisor.service`，然后保存并上传至服务器`/usr/lib/systemd/system/`目录。\n\n脚本内容如下：\n\n```\n# supervisord service for systemd (CentOS 7.0+)\n# by ET-CS (https://github.com/ET-CS)\n[Unit]\nDescription=Supervisor daemon\n\n[Service]\nType=forking\nExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf\nExecStop=/usr/bin/supervisorctl $OPTIONS shutdown\nExecReload=/usr/bin/supervisorctl $OPTIONS reload\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n[Install]\nWantedBy=multi-user.target\n```\n\n设置开启启动：\n\n```\nsystemctl enable supervisor\n```\n\n验证是否成功：\n\n```\nsystemctl is-enabled supervisor\n```\n\n如果输出`enabled`则表示设置成功，也可重启服务器验证。\n\n> 其它 Linux 发行版开机启动脚本 [User-contributed OS init scripts for Supervisor](https://github.com/Supervisor/initscripts)\n\n### Supervisorctl 管理进程\n\nSupervisor 服务启动后，受其管理的进程会在后台运行。可以通过`supervisorctl`客户端管理进程。\n\n输入如下命令进入`supervisorctl`交互终端，按`Ctrl`+`C`键退出：\n\n```\nsupervisorctl\n```\n\n输入`help`查询帮助：\n\n```\nsupervisor> help\n\ndefault commands (type help <topic>):\n=====================================\nadd    exit      open  reload  restart   start   tail\navail  fg        pid   remove  shutdown  status  update\nclear  maintail  quit  reread  signal    stop    version\n```\n\n输入`help ****`查询详细命令，比如输入`help stop`：\n\n```\nsupervisor> help stop\n\nstop <name>             Stop a process\nstop <gname>:*          Stop all processes in a group\nstop <name> <name>      Stop multiple processes or groups\nstop all                Stop all processes\n```\n\n如何启动、停止、重启进程等命令，我这里就不在记录，大家自行查找吧。\n\n除此之外，Supervisor 还提供了 Web 管理界面用来管理进程，如何配置启动请参考官方文档。\n\n## Nginx 配置反向代理\n\n[Nginx](http://nginx.org/) 是一个高性能的Web服务器软件。这是一个比 Apache HTTP Server 更加灵活和轻量级的程序。\n\n我们的网站程序启动的端口是`5000`，可以借助 Nginx 把程序`5000`端口映射到`80`端口。\n\n> [Nginx官方文档](http://nginx.org/en/docs/) & [Nginx开发从入门到精通 - Tengine](http://tengine.taobao.org/book/index.html)\n\n### 安装 Nginx\n\n首先，我们需要在服务器上安装 Nginx。\n\n**Step1：添加 Nginx 存储库**\n\n要添加 CentOS 7 EPEL 仓库，请打开终端并使用以下命令：\n\n```\nsudo yum install epel-release\n```\n\n**Step2：安装 Nginx**\n\n现在 Nginx 存储库已经安装在您的服务器上，请使用以下`yum`命令安装 Nginx：\n\n```\nsudo yum install nginx\n```\n\n**Step3：启动 Nginx**\n\nNginx 不会自行启动。要运行 Nginx，请输入：\n\n```\nsudo systemctl start nginx\n```\n\n如果您正在运行防火墙，请运行以下命令以允许 HTTP 和 HTTPS 通信：\n\n```\nsudo firewall-cmd --permanent --zone=public --add-service=http \nsudo firewall-cmd --permanent --zone=public --add-service=https\nsudo firewall-cmd --reload\n```\n\n此时，可以在本机的浏览器中访问服务器的 IP 地址`http://ip`来验证 Nginx 是否成功运行。ip指你的服务器外网地址。\n\n如果能看到 Nginx 的默认转发网页则说明一切正常。如下截图：\n\n[![Nginx](https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png)](https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png)\n\n如果拒绝访问，考虑服务器`80`端口是否开放。可尝试通过下面两条命令开放`80`端口、重启防火墙使修改即时生效。\n\n```\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\nsystemctl restart firewalld\n```\n\n### 设置 Nginx 开机启动\n\n避免开机需要手动开启 Nginx，可以通过如下快捷命令把 Nginx 配置成系统服务，并设置为开机启动：\n\n```\nsystemctl enable nginx  #设置开机启动\n```\n\n其他命令：\n\n```\nsystemctl disable nginx   #禁止开机启动\nsystemctl status nginx     #查看运行状态\nsystemctl restart nginx    #重启服务\n```\n\n### 修改 Nginx 配置文件\n\n首先，拿到 Nginx 的默认配置文件`/etc/nginx/nginx.conf`，把默认`80`端口转发配置`server`节点用`#`符注释掉。\n\n![](https://pz0uiw.sn.files.1drv.com/y4mfmI0cJfUdKTdCCXz0FAcR0cV7MAky-JZjzrhqOFyL0Gpz4iJBrsdFxOU4sOhT2iQgZe12eGoLNagsLumJsjCOv6RDaYpQSDxMKqKO-RMykfAGVXIEUJQ907QJ9HPKEM0YNT2EtCaFGSZo-I6YSwQ1prXQEUCRydbTeFsOkPvRUhSvIfkbFzdIUGRSpMG8lGJw6PPvNIymYY9PnaGYOhU7Q?width=931&height=762&cropmode=none)\n\n然后，我们新建一个配置文件`netcore.conf`，内容如下：\n\n```\nserver {\n    listen 80;\n    location / {\n        proxy_pass http://localhost:5000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection keep-alive;\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```\n\n保存并上传到 Nginx 的配置加载目录`/etc/nginx/conf.d`，最后执行命令`nginx -s reload`重载 Nginx 配置，使其生效。\n\n在本地浏览器上访问服务器地址，运行结果如下：\n\n![](https://pmig6a.sn.files.1drv.com/y4mSf6UFmROJzZjwf1U4WTfZUkn-KdKZpvOw-4pKefVlhz-YyMykFp7AoG_BcWgJgioBRyearzz0vPqTAQyT4ChIaIBK6P6XqoECbg2aLMlEKcaomiypUD82ARDtqbDXJ7hJGXLV2HB53cJZIp1Nnw3SbuILoUx2er1SG8KrCVw-AEWug1MUKkrkbhvxC7if3SXuDjdaoBODqjQQc-gaAF3hw?width=956&height=320&cropmode=none)\n\n这个问题是由于 SELinux 保护机制所导致，我们需要将 Nginx 添加至 SELinux 的白名单。执行命令：\n\n```\nyum install policycoreutils-python\n\nsudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx\n\nsudo semodule -i mynginx.pp\n```\n\nPS:如果执行命令时出现下列情况：\n\n执行:\n\n```\nsudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx\n```\n\n返回的是`nothing to do`的话，说明项目还没有跑起来，需要先把项目跑起来，先去上一步设置守护进程。\n\n执行 `sudo cat /var/log/audit/audit.log grep nginx grep denied audit2allow -M mynginx`  \n时出现：`you must specify the -p option with the path to the policy file`\n\n请先检查SELinux是否被禁用掉了\n\n在/etc/sysconfig下有一个SeLinux文件，使用记事本打开，更改其中的SELINUX项的值就可以了。\n\nSELINUX=disable  禁用SeLinux  \nSELINUX=enforcing  使用SeLinux  \n重要：保存完后要重启 reboot\n\n再次访问，运行结果如下：\n\n![](https://bt83ow.sn.files.1drv.com/y4mKsnOp3SzxITngOTkzv7lLxOPvVC-MeZu1JW_SLGVDV6QCwCvz2Krb23jjHnEJ4GXBbJ2BnYUcPGqUP-jpdCEFdtusTpyz2Iu_dvKA8Ph1bJSspxwfIU0rEPxSX-5PgVRGKPdKdVFQwg8j5EOag932mE3rX6dCHoY0YK0nEJf5xvjJ2KHgunOUL81emf_ZaNR2hWGwPvq3UiA0OQoPkYeRw?width=724&height=273&cropmode=none)\n\n可以看到，访问的接口成功返回数据，证明 Nginx 已经完成对我们部署应用程序的转发。\n\n至此，我们已经完成了 ASP.NET Core 应用程序在 CentOS7 服务器上的部署。\n\n> 参考文章：\n> \n> [Centos7运行NETCore完整教程（三）：nginx反向代理](https://blog.csdn.net/zt102545/article/details/88545833#3.%E5%B0%86Nginx%E6%B7%BB%E5%8A%A0%E5%88%B0SELinux%E7%99%BD%E5%90%8D%E5%8D%95)\n> \n> [使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序](https://www.cnblogs.com/esofar/p/8043792.html)","source":"_posts/ASP.NET/host-asp-net-core-on-linux-with-nginx.md","raw":"---\ntitle: 使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序\ntags:\n  - ASP.NET Core\ncategories:\n  - - 开发笔记\ndate: 2019-08-12 01:24:20\n---\n\n> 本文在[这篇文章](https://www.cnblogs.com/esofar/p/8043792.html)上，经过自己的实践，做了补充。\n\n## 安装 .NET Core SDK\n\n[微软官方文档](https://dotnet.microsoft.com/learn/dotnet/hello-world-tutorial/install) 各个系统都有详细的教程。安装完成后输入`dotnet --version`可以常看安装的版本，同时也可以证明有没有安装成功。\n\n## 部署 ASP.NET Core 应用程序\n\n下面就尝试把微软介绍“[_使用 ASP.NET Core 和 MongoDB 创建 Web API_](https://docs.microsoft.com/zh-cn/aspnet/core/tutorials/first-mongo-app?view=aspnetcore-2.2&tabs=visual-studio)” 创建的Demo，部署到安装 .NET SDK 的 CentOS 系统（下文简称服务器）中。  \n服务器采用阿里云轻量应用服务器，系统CentOS7.3。  \n如何安装MongoDB请移步下面这篇文章。\n\n\\[post id=1173\\]\n\n然后借助 FTP 工具 WinSCP 把程序文件传输到服务器`/home/publish`文件夹。\n\n上传完毕后，需要先通过`cd`命令进入网站根目录`/home/publish` ，再输入如下命令启动网站程序：\n\n```\ndotnet BooksApi.dll \n```\n\n如果你可以看到如下界面则表示程序启动成功。\n\n![](https://ofbvxq.sn.files.1drv.com/y4mivg7jKE3gigpjQrKt8zB7KHVjTEJzv8HPJLMdGYHnFQCETnJhnagmTZVnpylGXyQDBjnOAAHjMm2tDdjp2DTv2_n6vj-EGTjOSE9BTFB5LAucrcKg3YfI8FB5wS5O15Y3w-WqwRaCjh37a0WHrRF27VWRgjLGGgN_RM0ZA4ESKhgUAyDaBHni4n5ak7k1qhnXf4CojJajtdMCOIsoQcA4Q?width=1190&height=242&cropmode=none)\n\n但是这样项目是无法在后台自动运行的，需要设置进程守护。\n\n## Supervisor 配置守护进程\n\n[Supervisor](http://supervisord.org/) 是用 Python 开发的 Linux/Unix 系统下的一个进程管理工具。它可以使进程脱离终端，变为后台守护进程（daemon）。实时监控进程状态，异常退出时能自动重启。\n\nSupervisor 不支持任何版本的 Window 系统；仅支持在 Python2.4 或更高版本，但不能在任何版本的 Python 3 下工作。\n\n其主要组成部分：\n\n**supervisord**：Supervisor 的守护进程服务，用于接收进程管理命令；\n\n**supervisorctl**：Supervisor 命令行工具，用于和守护进程通信，发送管理进程的指令；\n\n**Web Server**：Web 端进程管理工具，提供与 supervisorctl 类似功能，管理进程；\n\n**XML-RPC Interface**：提供 XML-RPC 接口，请参阅 [XML-RPC API文档](http://supervisord.org/api.html#xml-rpc)。\n\n### 安装 Supervisor\n\n联网状态下，官方推荐首选安装方法是使用`easy_install`，它是[setuptools](http://peak.telecommunity.com/DevCenter/setuptools)（Python 包管理工具）的一个功能。所以先执行如下命令安装 setuptools：\n\n```\nyum install python-setuptools\n```\n\n请更换`root`用户，执行如下命令安装 Supervisor：\n\n```\neasy_install supervisor\n```\n\n### 配置 Supervisor\n\n运行`supervisord`服务的时候，需要指定 Supervisor 配置文件，如果没有显示指定，默认会从以下目录中加载：\n\n```\n$CWD/supervisord.conf  #$CWD表示运行 supervisord 程序的目录\n$CWD/etc/supervisord.conf\n/etc/supervisord.conf\n/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)\n../etc/supervisord.conf (Relative to the executable)\n../supervisord.conf (Relative to the executable)\n```\n\n所以，先通过如下命令创建目录，以便让 Supervisor 成功加载默认配置：\n\n```\nmkdir /etc/supervisor\n```\n\n加载目录有了，然后通过`echo_supervisord_conf`程序（用来生成初始配置文件）来初始化一个配置文件：\n\n```\necho_supervisord_conf > /etc/supervisor/supervisord.conf\n```\n\n打开`supervisord.conf`文件，可以看到`echo_supervisord_conf`已经帮我们初始化好了一个样例配置，我们需要简单修改一下。\n\n尾部找到如下文本片段：\n\n```\n;[include]\n;files = relative/directory/*.ini\n```\n\n改为：\n\n```\n[include]\nfiles = conf.d/*.conf\n```\n\n![](https://2rhvlq.sn.files.1drv.com/y4moe345cp0AQ_V-7vLFKWv6KuGQ0yOdVKexTI5pStH2ImviRHx36fwWal21oLHMBCYkD5mDIUwZfwPPWB_DMtlt0yI3Gj_mu7pmvIne2u0iMtlfO7XeoUnfrykYmFujJxcjGDQZSA8YOPBuPo5C0yoMMf0trKGAABkloxT-MQOKKiJ1aBu3wLG_A6M_QC6do65201Z8jR8OnxTeuVFzq2Rhw?width=1054&height=713&cropmode=none)\n\n即，把注释去除、设置`/etc/supervisor/conf.d`为 Supervisor 进程配置文件加载目录。\n\n这样，Supervisor 会自动加载该目录下`.conf`后缀的文件作为共同服务配置。Supervisor 管理的每个进程单独写一个配置文件放在该目录下，`supervisord.conf`配置文件中保留公共配置。\n\n创建进程配置加载目录：\n\n```\nmkdir /etc/supervisor/conf.d\n```\n\n接下来就需要为我们已经部署的 ASP .NET Core 程序的宿主进程创建一个进程配置文件`netcore.conf`，保存并上传到`/etc/supervisor/conf.d`目录。\n\n配置文件`netcore.conf`内容如下：\n\n```\n[program:Scorpio.WebApi]                        ;自定义进程名称\ncommand=dotnet Scorpio.WebApi.dll               ;程序启动命令\ndirectory=/home/wwwroot/scorpio                 ;命令执行的目录\nautostart=true                                  ;在Supervisord启动时，程序是否启动\nautorestart=true                                ;程序退出后自动重启\nstartretries=5                                  ;启动失败自动重试次数，默认是3\nstartsecs=1                                     ;自动重启间隔\nuser=root                                       ;设置启动进程的用户，默认是root\npriority=999                                    ;进程启动优先级，默认999，值小的优先启动\nstderr_logfile=/var/log/Scorpio.WebApi.err.log  ;标准错误日志\nstdout_logfile=/var/log/Scorpio.WebApi.out.log  ;标准输出日志\nenvironment=ASPNETCORE_ENVIRONMENT=Production   ;进程环境变量\nstopsignal=INT                                  ;请求停止时用来杀死程序的信号\n```\n\n启动 Supervisor 服务，命令如下：\n\n```\nsupervisord -c /etc/supervisor/supervisord.conf\n```\n\n这时，在会发现我们部署的网站程序不在 shell 中通过`dotnet xxx.dll`启动，同样可以访问。\n\n### 设置 Supervisor 开机启动\n\n首先为 Supervisor 新建一个启动服务脚本`supervisor.service`，然后保存并上传至服务器`/usr/lib/systemd/system/`目录。\n\n脚本内容如下：\n\n```\n# supervisord service for systemd (CentOS 7.0+)\n# by ET-CS (https://github.com/ET-CS)\n[Unit]\nDescription=Supervisor daemon\n\n[Service]\nType=forking\nExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf\nExecStop=/usr/bin/supervisorctl $OPTIONS shutdown\nExecReload=/usr/bin/supervisorctl $OPTIONS reload\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n[Install]\nWantedBy=multi-user.target\n```\n\n设置开启启动：\n\n```\nsystemctl enable supervisor\n```\n\n验证是否成功：\n\n```\nsystemctl is-enabled supervisor\n```\n\n如果输出`enabled`则表示设置成功，也可重启服务器验证。\n\n> 其它 Linux 发行版开机启动脚本 [User-contributed OS init scripts for Supervisor](https://github.com/Supervisor/initscripts)\n\n### Supervisorctl 管理进程\n\nSupervisor 服务启动后，受其管理的进程会在后台运行。可以通过`supervisorctl`客户端管理进程。\n\n输入如下命令进入`supervisorctl`交互终端，按`Ctrl`+`C`键退出：\n\n```\nsupervisorctl\n```\n\n输入`help`查询帮助：\n\n```\nsupervisor> help\n\ndefault commands (type help <topic>):\n=====================================\nadd    exit      open  reload  restart   start   tail\navail  fg        pid   remove  shutdown  status  update\nclear  maintail  quit  reread  signal    stop    version\n```\n\n输入`help ****`查询详细命令，比如输入`help stop`：\n\n```\nsupervisor> help stop\n\nstop <name>             Stop a process\nstop <gname>:*          Stop all processes in a group\nstop <name> <name>      Stop multiple processes or groups\nstop all                Stop all processes\n```\n\n如何启动、停止、重启进程等命令，我这里就不在记录，大家自行查找吧。\n\n除此之外，Supervisor 还提供了 Web 管理界面用来管理进程，如何配置启动请参考官方文档。\n\n## Nginx 配置反向代理\n\n[Nginx](http://nginx.org/) 是一个高性能的Web服务器软件。这是一个比 Apache HTTP Server 更加灵活和轻量级的程序。\n\n我们的网站程序启动的端口是`5000`，可以借助 Nginx 把程序`5000`端口映射到`80`端口。\n\n> [Nginx官方文档](http://nginx.org/en/docs/) & [Nginx开发从入门到精通 - Tengine](http://tengine.taobao.org/book/index.html)\n\n### 安装 Nginx\n\n首先，我们需要在服务器上安装 Nginx。\n\n**Step1：添加 Nginx 存储库**\n\n要添加 CentOS 7 EPEL 仓库，请打开终端并使用以下命令：\n\n```\nsudo yum install epel-release\n```\n\n**Step2：安装 Nginx**\n\n现在 Nginx 存储库已经安装在您的服务器上，请使用以下`yum`命令安装 Nginx：\n\n```\nsudo yum install nginx\n```\n\n**Step3：启动 Nginx**\n\nNginx 不会自行启动。要运行 Nginx，请输入：\n\n```\nsudo systemctl start nginx\n```\n\n如果您正在运行防火墙，请运行以下命令以允许 HTTP 和 HTTPS 通信：\n\n```\nsudo firewall-cmd --permanent --zone=public --add-service=http \nsudo firewall-cmd --permanent --zone=public --add-service=https\nsudo firewall-cmd --reload\n```\n\n此时，可以在本机的浏览器中访问服务器的 IP 地址`http://ip`来验证 Nginx 是否成功运行。ip指你的服务器外网地址。\n\n如果能看到 Nginx 的默认转发网页则说明一切正常。如下截图：\n\n[![Nginx](https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png)](https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png)\n\n如果拒绝访问，考虑服务器`80`端口是否开放。可尝试通过下面两条命令开放`80`端口、重启防火墙使修改即时生效。\n\n```\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\nsystemctl restart firewalld\n```\n\n### 设置 Nginx 开机启动\n\n避免开机需要手动开启 Nginx，可以通过如下快捷命令把 Nginx 配置成系统服务，并设置为开机启动：\n\n```\nsystemctl enable nginx  #设置开机启动\n```\n\n其他命令：\n\n```\nsystemctl disable nginx   #禁止开机启动\nsystemctl status nginx     #查看运行状态\nsystemctl restart nginx    #重启服务\n```\n\n### 修改 Nginx 配置文件\n\n首先，拿到 Nginx 的默认配置文件`/etc/nginx/nginx.conf`，把默认`80`端口转发配置`server`节点用`#`符注释掉。\n\n![](https://pz0uiw.sn.files.1drv.com/y4mfmI0cJfUdKTdCCXz0FAcR0cV7MAky-JZjzrhqOFyL0Gpz4iJBrsdFxOU4sOhT2iQgZe12eGoLNagsLumJsjCOv6RDaYpQSDxMKqKO-RMykfAGVXIEUJQ907QJ9HPKEM0YNT2EtCaFGSZo-I6YSwQ1prXQEUCRydbTeFsOkPvRUhSvIfkbFzdIUGRSpMG8lGJw6PPvNIymYY9PnaGYOhU7Q?width=931&height=762&cropmode=none)\n\n然后，我们新建一个配置文件`netcore.conf`，内容如下：\n\n```\nserver {\n    listen 80;\n    location / {\n        proxy_pass http://localhost:5000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection keep-alive;\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```\n\n保存并上传到 Nginx 的配置加载目录`/etc/nginx/conf.d`，最后执行命令`nginx -s reload`重载 Nginx 配置，使其生效。\n\n在本地浏览器上访问服务器地址，运行结果如下：\n\n![](https://pmig6a.sn.files.1drv.com/y4mSf6UFmROJzZjwf1U4WTfZUkn-KdKZpvOw-4pKefVlhz-YyMykFp7AoG_BcWgJgioBRyearzz0vPqTAQyT4ChIaIBK6P6XqoECbg2aLMlEKcaomiypUD82ARDtqbDXJ7hJGXLV2HB53cJZIp1Nnw3SbuILoUx2er1SG8KrCVw-AEWug1MUKkrkbhvxC7if3SXuDjdaoBODqjQQc-gaAF3hw?width=956&height=320&cropmode=none)\n\n这个问题是由于 SELinux 保护机制所导致，我们需要将 Nginx 添加至 SELinux 的白名单。执行命令：\n\n```\nyum install policycoreutils-python\n\nsudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx\n\nsudo semodule -i mynginx.pp\n```\n\nPS:如果执行命令时出现下列情况：\n\n执行:\n\n```\nsudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx\n```\n\n返回的是`nothing to do`的话，说明项目还没有跑起来，需要先把项目跑起来，先去上一步设置守护进程。\n\n执行 `sudo cat /var/log/audit/audit.log grep nginx grep denied audit2allow -M mynginx`  \n时出现：`you must specify the -p option with the path to the policy file`\n\n请先检查SELinux是否被禁用掉了\n\n在/etc/sysconfig下有一个SeLinux文件，使用记事本打开，更改其中的SELINUX项的值就可以了。\n\nSELINUX=disable  禁用SeLinux  \nSELINUX=enforcing  使用SeLinux  \n重要：保存完后要重启 reboot\n\n再次访问，运行结果如下：\n\n![](https://bt83ow.sn.files.1drv.com/y4mKsnOp3SzxITngOTkzv7lLxOPvVC-MeZu1JW_SLGVDV6QCwCvz2Krb23jjHnEJ4GXBbJ2BnYUcPGqUP-jpdCEFdtusTpyz2Iu_dvKA8Ph1bJSspxwfIU0rEPxSX-5PgVRGKPdKdVFQwg8j5EOag932mE3rX6dCHoY0YK0nEJf5xvjJ2KHgunOUL81emf_ZaNR2hWGwPvq3UiA0OQoPkYeRw?width=724&height=273&cropmode=none)\n\n可以看到，访问的接口成功返回数据，证明 Nginx 已经完成对我们部署应用程序的转发。\n\n至此，我们已经完成了 ASP.NET Core 应用程序在 CentOS7 服务器上的部署。\n\n> 参考文章：\n> \n> [Centos7运行NETCore完整教程（三）：nginx反向代理](https://blog.csdn.net/zt102545/article/details/88545833#3.%E5%B0%86Nginx%E6%B7%BB%E5%8A%A0%E5%88%B0SELinux%E7%99%BD%E5%90%8D%E5%8D%95)\n> \n> [使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序](https://www.cnblogs.com/esofar/p/8043792.html)","slug":"ASP.NET/host-asp-net-core-on-linux-with-nginx","published":1,"updated":"2025-02-21T10:54:53.988Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1k000aews7gh9b8jx0","content":"<blockquote>\n<p>本文在<a href=\"https://www.cnblogs.com/esofar/p/8043792.html\">这篇文章</a>上，经过自己的实践，做了补充。</p>\n</blockquote>\n<h2 id=\"安装-NET-Core-SDK\"><a href=\"#安装-NET-Core-SDK\" class=\"headerlink\" title=\"安装 .NET Core SDK\"></a>安装 .NET Core SDK</h2><p><a href=\"https://dotnet.microsoft.com/learn/dotnet/hello-world-tutorial/install\">微软官方文档</a> 各个系统都有详细的教程。安装完成后输入<code>dotnet --version</code>可以常看安装的版本，同时也可以证明有没有安装成功。</p>\n<h2 id=\"部署-ASP-NET-Core-应用程序\"><a href=\"#部署-ASP-NET-Core-应用程序\" class=\"headerlink\" title=\"部署 ASP.NET Core 应用程序\"></a>部署 ASP.NET Core 应用程序</h2><p>下面就尝试把微软介绍“<a href=\"https://docs.microsoft.com/zh-cn/aspnet/core/tutorials/first-mongo-app?view=aspnetcore-2.2&tabs=visual-studio\"><em>使用 ASP.NET Core 和 MongoDB 创建 Web API</em></a>” 创建的Demo，部署到安装 .NET SDK 的 CentOS 系统（下文简称服务器）中。<br>服务器采用阿里云轻量应用服务器，系统CentOS7.3。<br>如何安装MongoDB请移步下面这篇文章。</p>\n<p>[post id&#x3D;1173]</p>\n<p>然后借助 FTP 工具 WinSCP 把程序文件传输到服务器<code>/home/publish</code>文件夹。</p>\n<p>上传完毕后，需要先通过<code>cd</code>命令进入网站根目录<code>/home/publish</code> ，再输入如下命令启动网站程序：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet BooksApi.dll </span><br></pre></td></tr></table></figure>\n\n<p>如果你可以看到如下界面则表示程序启动成功。</p>\n<p><img src=\"https://ofbvxq.sn.files.1drv.com/y4mivg7jKE3gigpjQrKt8zB7KHVjTEJzv8HPJLMdGYHnFQCETnJhnagmTZVnpylGXyQDBjnOAAHjMm2tDdjp2DTv2_n6vj-EGTjOSE9BTFB5LAucrcKg3YfI8FB5wS5O15Y3w-WqwRaCjh37a0WHrRF27VWRgjLGGgN_RM0ZA4ESKhgUAyDaBHni4n5ak7k1qhnXf4CojJajtdMCOIsoQcA4Q?width=1190&height=242&cropmode=none\"></p>\n<p>但是这样项目是无法在后台自动运行的，需要设置进程守护。</p>\n<h2 id=\"Supervisor-配置守护进程\"><a href=\"#Supervisor-配置守护进程\" class=\"headerlink\" title=\"Supervisor 配置守护进程\"></a>Supervisor 配置守护进程</h2><p><a href=\"http://supervisord.org/\">Supervisor</a> 是用 Python 开发的 Linux&#x2F;Unix 系统下的一个进程管理工具。它可以使进程脱离终端，变为后台守护进程（daemon）。实时监控进程状态，异常退出时能自动重启。</p>\n<p>Supervisor 不支持任何版本的 Window 系统；仅支持在 Python2.4 或更高版本，但不能在任何版本的 Python 3 下工作。</p>\n<p>其主要组成部分：</p>\n<p><strong>supervisord</strong>：Supervisor 的守护进程服务，用于接收进程管理命令；</p>\n<p><strong>supervisorctl</strong>：Supervisor 命令行工具，用于和守护进程通信，发送管理进程的指令；</p>\n<p><strong>Web Server</strong>：Web 端进程管理工具，提供与 supervisorctl 类似功能，管理进程；</p>\n<p><strong>XML-RPC Interface</strong>：提供 XML-RPC 接口，请参阅 <a href=\"http://supervisord.org/api.html#xml-rpc\">XML-RPC API文档</a>。</p>\n<h3 id=\"安装-Supervisor\"><a href=\"#安装-Supervisor\" class=\"headerlink\" title=\"安装 Supervisor\"></a>安装 Supervisor</h3><p>联网状态下，官方推荐首选安装方法是使用<code>easy_install</code>，它是<a href=\"http://peak.telecommunity.com/DevCenter/setuptools\">setuptools</a>（Python 包管理工具）的一个功能。所以先执行如下命令安装 setuptools：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install python-setuptools</span><br></pre></td></tr></table></figure>\n\n<p>请更换<code>root</code>用户，执行如下命令安装 Supervisor：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">easy_install supervisor</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置-Supervisor\"><a href=\"#配置-Supervisor\" class=\"headerlink\" title=\"配置 Supervisor\"></a>配置 Supervisor</h3><p>运行<code>supervisord</code>服务的时候，需要指定 Supervisor 配置文件，如果没有显示指定，默认会从以下目录中加载：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$CWD/supervisord.conf  #$CWD表示运行 supervisord 程序的目录</span><br><span class=\"line\">$CWD/etc/supervisord.conf</span><br><span class=\"line\">/etc/supervisord.conf</span><br><span class=\"line\">/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</span><br><span class=\"line\">../etc/supervisord.conf (Relative to the executable)</span><br><span class=\"line\">../supervisord.conf (Relative to the executable)</span><br></pre></td></tr></table></figure>\n\n<p>所以，先通过如下命令创建目录，以便让 Supervisor 成功加载默认配置：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /etc/supervisor</span><br></pre></td></tr></table></figure>\n\n<p>加载目录有了，然后通过<code>echo_supervisord_conf</code>程序（用来生成初始配置文件）来初始化一个配置文件：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf</span><br></pre></td></tr></table></figure>\n\n<p>打开<code>supervisord.conf</code>文件，可以看到<code>echo_supervisord_conf</code>已经帮我们初始化好了一个样例配置，我们需要简单修改一下。</p>\n<p>尾部找到如下文本片段：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[include]</span><br><span class=\"line\">;files = relative/directory/*.ini</span><br></pre></td></tr></table></figure>\n\n<p>改为：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[include]</span><br><span class=\"line\">files = conf.d/*.conf</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://2rhvlq.sn.files.1drv.com/y4moe345cp0AQ_V-7vLFKWv6KuGQ0yOdVKexTI5pStH2ImviRHx36fwWal21oLHMBCYkD5mDIUwZfwPPWB_DMtlt0yI3Gj_mu7pmvIne2u0iMtlfO7XeoUnfrykYmFujJxcjGDQZSA8YOPBuPo5C0yoMMf0trKGAABkloxT-MQOKKiJ1aBu3wLG_A6M_QC6do65201Z8jR8OnxTeuVFzq2Rhw?width=1054&height=713&cropmode=none\"></p>\n<p>即，把注释去除、设置<code>/etc/supervisor/conf.d</code>为 Supervisor 进程配置文件加载目录。</p>\n<p>这样，Supervisor 会自动加载该目录下<code>.conf</code>后缀的文件作为共同服务配置。Supervisor 管理的每个进程单独写一个配置文件放在该目录下，<code>supervisord.conf</code>配置文件中保留公共配置。</p>\n<p>创建进程配置加载目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /etc/supervisor/conf.d</span><br></pre></td></tr></table></figure>\n\n<p>接下来就需要为我们已经部署的 ASP .NET Core 程序的宿主进程创建一个进程配置文件<code>netcore.conf</code>，保存并上传到<code>/etc/supervisor/conf.d</code>目录。</p>\n<p>配置文件<code>netcore.conf</code>内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[program:Scorpio.WebApi]                        ;自定义进程名称</span><br><span class=\"line\">command=dotnet Scorpio.WebApi.dll               ;程序启动命令</span><br><span class=\"line\">directory=/home/wwwroot/scorpio                 ;命令执行的目录</span><br><span class=\"line\">autostart=true                                  ;在Supervisord启动时，程序是否启动</span><br><span class=\"line\">autorestart=true                                ;程序退出后自动重启</span><br><span class=\"line\">startretries=5                                  ;启动失败自动重试次数，默认是3</span><br><span class=\"line\">startsecs=1                                     ;自动重启间隔</span><br><span class=\"line\">user=root                                       ;设置启动进程的用户，默认是root</span><br><span class=\"line\">priority=999                                    ;进程启动优先级，默认999，值小的优先启动</span><br><span class=\"line\">stderr_logfile=/var/log/Scorpio.WebApi.err.log  ;标准错误日志</span><br><span class=\"line\">stdout_logfile=/var/log/Scorpio.WebApi.out.log  ;标准输出日志</span><br><span class=\"line\">environment=ASPNETCORE_ENVIRONMENT=Production   ;进程环境变量</span><br><span class=\"line\">stopsignal=INT                                  ;请求停止时用来杀死程序的信号</span><br></pre></td></tr></table></figure>\n\n<p>启动 Supervisor 服务，命令如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisord -c /etc/supervisor/supervisord.conf</span><br></pre></td></tr></table></figure>\n\n<p>这时，在会发现我们部署的网站程序不在 shell 中通过<code>dotnet xxx.dll</code>启动，同样可以访问。</p>\n<h3 id=\"设置-Supervisor-开机启动\"><a href=\"#设置-Supervisor-开机启动\" class=\"headerlink\" title=\"设置 Supervisor 开机启动\"></a>设置 Supervisor 开机启动</h3><p>首先为 Supervisor 新建一个启动服务脚本<code>supervisor.service</code>，然后保存并上传至服务器<code>/usr/lib/systemd/system/</code>目录。</p>\n<p>脚本内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># supervisord service for systemd (CentOS 7.0+)</span><br><span class=\"line\"># by ET-CS (https://github.com/ET-CS)</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Supervisor daemon</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">ExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf</span><br><span class=\"line\">ExecStop=/usr/bin/supervisorctl $OPTIONS shutdown</span><br><span class=\"line\">ExecReload=/usr/bin/supervisorctl $OPTIONS reload</span><br><span class=\"line\">KillMode=process</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">RestartSec=42s</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n\n<p>设置开启启动：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable supervisor</span><br></pre></td></tr></table></figure>\n\n<p>验证是否成功：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl is-enabled supervisor</span><br></pre></td></tr></table></figure>\n\n<p>如果输出<code>enabled</code>则表示设置成功，也可重启服务器验证。</p>\n<blockquote>\n<p>其它 Linux 发行版开机启动脚本 <a href=\"https://github.com/Supervisor/initscripts\">User-contributed OS init scripts for Supervisor</a></p>\n</blockquote>\n<h3 id=\"Supervisorctl-管理进程\"><a href=\"#Supervisorctl-管理进程\" class=\"headerlink\" title=\"Supervisorctl 管理进程\"></a>Supervisorctl 管理进程</h3><p>Supervisor 服务启动后，受其管理的进程会在后台运行。可以通过<code>supervisorctl</code>客户端管理进程。</p>\n<p>输入如下命令进入<code>supervisorctl</code>交互终端，按<code>Ctrl</code>+<code>C</code>键退出：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisorctl</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>help</code>查询帮助：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisor&gt; help</span><br><span class=\"line\"></span><br><span class=\"line\">default commands (type help &lt;topic&gt;):</span><br><span class=\"line\">=====================================</span><br><span class=\"line\">add    exit      open  reload  restart   start   tail</span><br><span class=\"line\">avail  fg        pid   remove  shutdown  status  update</span><br><span class=\"line\">clear  maintail  quit  reread  signal    stop    version</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>help ****</code>查询详细命令，比如输入<code>help stop</code>：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisor&gt; help stop</span><br><span class=\"line\"></span><br><span class=\"line\">stop &lt;name&gt;             Stop a process</span><br><span class=\"line\">stop &lt;gname&gt;:*          Stop all processes in a group</span><br><span class=\"line\">stop &lt;name&gt; &lt;name&gt;      Stop multiple processes or groups</span><br><span class=\"line\">stop all                Stop all processes</span><br></pre></td></tr></table></figure>\n\n<p>如何启动、停止、重启进程等命令，我这里就不在记录，大家自行查找吧。</p>\n<p>除此之外，Supervisor 还提供了 Web 管理界面用来管理进程，如何配置启动请参考官方文档。</p>\n<h2 id=\"Nginx-配置反向代理\"><a href=\"#Nginx-配置反向代理\" class=\"headerlink\" title=\"Nginx 配置反向代理\"></a>Nginx 配置反向代理</h2><p><a href=\"http://nginx.org/\">Nginx</a> 是一个高性能的Web服务器软件。这是一个比 Apache HTTP Server 更加灵活和轻量级的程序。</p>\n<p>我们的网站程序启动的端口是<code>5000</code>，可以借助 Nginx 把程序<code>5000</code>端口映射到<code>80</code>端口。</p>\n<blockquote>\n<p><a href=\"http://nginx.org/en/docs/\">Nginx官方文档</a> &amp; <a href=\"http://tengine.taobao.org/book/index.html\">Nginx开发从入门到精通 - Tengine</a></p>\n</blockquote>\n<h3 id=\"安装-Nginx\"><a href=\"#安装-Nginx\" class=\"headerlink\" title=\"安装 Nginx\"></a>安装 Nginx</h3><p>首先，我们需要在服务器上安装 Nginx。</p>\n<p><strong>Step1：添加 Nginx 存储库</strong></p>\n<p>要添加 CentOS 7 EPEL 仓库，请打开终端并使用以下命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install epel-release</span><br></pre></td></tr></table></figure>\n\n<p><strong>Step2：安装 Nginx</strong></p>\n<p>现在 Nginx 存储库已经安装在您的服务器上，请使用以下<code>yum</code>命令安装 Nginx：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install nginx</span><br></pre></td></tr></table></figure>\n\n<p><strong>Step3：启动 Nginx</strong></p>\n<p>Nginx 不会自行启动。要运行 Nginx，请输入：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl start nginx</span><br></pre></td></tr></table></figure>\n\n<p>如果您正在运行防火墙，请运行以下命令以允许 HTTP 和 HTTPS 通信：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=http </span><br><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n\n<p>此时，可以在本机的浏览器中访问服务器的 IP 地址<code>http://ip</code>来验证 Nginx 是否成功运行。ip指你的服务器外网地址。</p>\n<p>如果能看到 Nginx 的默认转发网页则说明一切正常。如下截图：</p>\n<p><a href=\"https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png\"><img src=\"https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png\" alt=\"Nginx\"></a></p>\n<p>如果拒绝访问，考虑服务器<code>80</code>端口是否开放。可尝试通过下面两条命令开放<code>80</code>端口、重启防火墙使修改即时生效。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class=\"line\">systemctl restart firewalld</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"设置-Nginx-开机启动\"><a href=\"#设置-Nginx-开机启动\" class=\"headerlink\" title=\"设置 Nginx 开机启动\"></a>设置 Nginx 开机启动</h3><p>避免开机需要手动开启 Nginx，可以通过如下快捷命令把 Nginx 配置成系统服务，并设置为开机启动：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable nginx  #设置开机启动</span><br></pre></td></tr></table></figure>\n\n<p>其他命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl disable nginx   #禁止开机启动</span><br><span class=\"line\">systemctl status nginx     #查看运行状态</span><br><span class=\"line\">systemctl restart nginx    #重启服务</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"修改-Nginx-配置文件\"><a href=\"#修改-Nginx-配置文件\" class=\"headerlink\" title=\"修改 Nginx 配置文件\"></a>修改 Nginx 配置文件</h3><p>首先，拿到 Nginx 的默认配置文件<code>/etc/nginx/nginx.conf</code>，把默认<code>80</code>端口转发配置<code>server</code>节点用<code>#</code>符注释掉。</p>\n<p><img src=\"https://pz0uiw.sn.files.1drv.com/y4mfmI0cJfUdKTdCCXz0FAcR0cV7MAky-JZjzrhqOFyL0Gpz4iJBrsdFxOU4sOhT2iQgZe12eGoLNagsLumJsjCOv6RDaYpQSDxMKqKO-RMykfAGVXIEUJQ907QJ9HPKEM0YNT2EtCaFGSZo-I6YSwQ1prXQEUCRydbTeFsOkPvRUhSvIfkbFzdIUGRSpMG8lGJw6PPvNIymYY9PnaGYOhU7Q?width=931&height=762&cropmode=none\"></p>\n<p>然后，我们新建一个配置文件<code>netcore.conf</code>，内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 80;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        proxy_pass http://localhost:5000;</span><br><span class=\"line\">        proxy_http_version 1.1;</span><br><span class=\"line\">        proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">        proxy_set_header Connection keep-alive;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_cache_bypass $http_upgrade;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>保存并上传到 Nginx 的配置加载目录<code>/etc/nginx/conf.d</code>，最后执行命令<code>nginx -s reload</code>重载 Nginx 配置，使其生效。</p>\n<p>在本地浏览器上访问服务器地址，运行结果如下：</p>\n<p><img src=\"https://pmig6a.sn.files.1drv.com/y4mSf6UFmROJzZjwf1U4WTfZUkn-KdKZpvOw-4pKefVlhz-YyMykFp7AoG_BcWgJgioBRyearzz0vPqTAQyT4ChIaIBK6P6XqoECbg2aLMlEKcaomiypUD82ARDtqbDXJ7hJGXLV2HB53cJZIp1Nnw3SbuILoUx2er1SG8KrCVw-AEWug1MUKkrkbhvxC7if3SXuDjdaoBODqjQQc-gaAF3hw?width=956&height=320&cropmode=none\"></p>\n<p>这个问题是由于 SELinux 保护机制所导致，我们需要将 Nginx 添加至 SELinux 的白名单。执行命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install policycoreutils-python</span><br><span class=\"line\"></span><br><span class=\"line\">sudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo semodule -i mynginx.pp</span><br></pre></td></tr></table></figure>\n\n<p>PS:如果执行命令时出现下列情况：</p>\n<p>执行:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx</span><br></pre></td></tr></table></figure>\n\n<p>返回的是<code>nothing to do</code>的话，说明项目还没有跑起来，需要先把项目跑起来，先去上一步设置守护进程。</p>\n<p>执行 <code>sudo cat /var/log/audit/audit.log grep nginx grep denied audit2allow -M mynginx</code><br>时出现：<code>you must specify the -p option with the path to the policy file</code></p>\n<p>请先检查SELinux是否被禁用掉了</p>\n<p>在&#x2F;etc&#x2F;sysconfig下有一个SeLinux文件，使用记事本打开，更改其中的SELINUX项的值就可以了。</p>\n<p>SELINUX&#x3D;disable  禁用SeLinux<br>SELINUX&#x3D;enforcing  使用SeLinux<br>重要：保存完后要重启 reboot</p>\n<p>再次访问，运行结果如下：</p>\n<p><img src=\"https://bt83ow.sn.files.1drv.com/y4mKsnOp3SzxITngOTkzv7lLxOPvVC-MeZu1JW_SLGVDV6QCwCvz2Krb23jjHnEJ4GXBbJ2BnYUcPGqUP-jpdCEFdtusTpyz2Iu_dvKA8Ph1bJSspxwfIU0rEPxSX-5PgVRGKPdKdVFQwg8j5EOag932mE3rX6dCHoY0YK0nEJf5xvjJ2KHgunOUL81emf_ZaNR2hWGwPvq3UiA0OQoPkYeRw?width=724&height=273&cropmode=none\"></p>\n<p>可以看到，访问的接口成功返回数据，证明 Nginx 已经完成对我们部署应用程序的转发。</p>\n<p>至此，我们已经完成了 ASP.NET Core 应用程序在 CentOS7 服务器上的部署。</p>\n<blockquote>\n<p>参考文章：</p>\n<p><a href=\"https://blog.csdn.net/zt102545/article/details/88545833#3.%E5%B0%86Nginx%E6%B7%BB%E5%8A%A0%E5%88%B0SELinux%E7%99%BD%E5%90%8D%E5%8D%95\">Centos7运行NETCore完整教程（三）：nginx反向代理</a></p>\n<p><a href=\"https://www.cnblogs.com/esofar/p/8043792.html\">使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序</a></p>\n</blockquote>\n","excerpt":"","more":"<blockquote>\n<p>本文在<a href=\"https://www.cnblogs.com/esofar/p/8043792.html\">这篇文章</a>上，经过自己的实践，做了补充。</p>\n</blockquote>\n<h2 id=\"安装-NET-Core-SDK\"><a href=\"#安装-NET-Core-SDK\" class=\"headerlink\" title=\"安装 .NET Core SDK\"></a>安装 .NET Core SDK</h2><p><a href=\"https://dotnet.microsoft.com/learn/dotnet/hello-world-tutorial/install\">微软官方文档</a> 各个系统都有详细的教程。安装完成后输入<code>dotnet --version</code>可以常看安装的版本，同时也可以证明有没有安装成功。</p>\n<h2 id=\"部署-ASP-NET-Core-应用程序\"><a href=\"#部署-ASP-NET-Core-应用程序\" class=\"headerlink\" title=\"部署 ASP.NET Core 应用程序\"></a>部署 ASP.NET Core 应用程序</h2><p>下面就尝试把微软介绍“<a href=\"https://docs.microsoft.com/zh-cn/aspnet/core/tutorials/first-mongo-app?view=aspnetcore-2.2&tabs=visual-studio\"><em>使用 ASP.NET Core 和 MongoDB 创建 Web API</em></a>” 创建的Demo，部署到安装 .NET SDK 的 CentOS 系统（下文简称服务器）中。<br>服务器采用阿里云轻量应用服务器，系统CentOS7.3。<br>如何安装MongoDB请移步下面这篇文章。</p>\n<p>[post id&#x3D;1173]</p>\n<p>然后借助 FTP 工具 WinSCP 把程序文件传输到服务器<code>/home/publish</code>文件夹。</p>\n<p>上传完毕后，需要先通过<code>cd</code>命令进入网站根目录<code>/home/publish</code> ，再输入如下命令启动网站程序：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet BooksApi.dll </span><br></pre></td></tr></table></figure>\n\n<p>如果你可以看到如下界面则表示程序启动成功。</p>\n<p><img src=\"https://ofbvxq.sn.files.1drv.com/y4mivg7jKE3gigpjQrKt8zB7KHVjTEJzv8HPJLMdGYHnFQCETnJhnagmTZVnpylGXyQDBjnOAAHjMm2tDdjp2DTv2_n6vj-EGTjOSE9BTFB5LAucrcKg3YfI8FB5wS5O15Y3w-WqwRaCjh37a0WHrRF27VWRgjLGGgN_RM0ZA4ESKhgUAyDaBHni4n5ak7k1qhnXf4CojJajtdMCOIsoQcA4Q?width=1190&height=242&cropmode=none\"></p>\n<p>但是这样项目是无法在后台自动运行的，需要设置进程守护。</p>\n<h2 id=\"Supervisor-配置守护进程\"><a href=\"#Supervisor-配置守护进程\" class=\"headerlink\" title=\"Supervisor 配置守护进程\"></a>Supervisor 配置守护进程</h2><p><a href=\"http://supervisord.org/\">Supervisor</a> 是用 Python 开发的 Linux&#x2F;Unix 系统下的一个进程管理工具。它可以使进程脱离终端，变为后台守护进程（daemon）。实时监控进程状态，异常退出时能自动重启。</p>\n<p>Supervisor 不支持任何版本的 Window 系统；仅支持在 Python2.4 或更高版本，但不能在任何版本的 Python 3 下工作。</p>\n<p>其主要组成部分：</p>\n<p><strong>supervisord</strong>：Supervisor 的守护进程服务，用于接收进程管理命令；</p>\n<p><strong>supervisorctl</strong>：Supervisor 命令行工具，用于和守护进程通信，发送管理进程的指令；</p>\n<p><strong>Web Server</strong>：Web 端进程管理工具，提供与 supervisorctl 类似功能，管理进程；</p>\n<p><strong>XML-RPC Interface</strong>：提供 XML-RPC 接口，请参阅 <a href=\"http://supervisord.org/api.html#xml-rpc\">XML-RPC API文档</a>。</p>\n<h3 id=\"安装-Supervisor\"><a href=\"#安装-Supervisor\" class=\"headerlink\" title=\"安装 Supervisor\"></a>安装 Supervisor</h3><p>联网状态下，官方推荐首选安装方法是使用<code>easy_install</code>，它是<a href=\"http://peak.telecommunity.com/DevCenter/setuptools\">setuptools</a>（Python 包管理工具）的一个功能。所以先执行如下命令安装 setuptools：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install python-setuptools</span><br></pre></td></tr></table></figure>\n\n<p>请更换<code>root</code>用户，执行如下命令安装 Supervisor：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">easy_install supervisor</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置-Supervisor\"><a href=\"#配置-Supervisor\" class=\"headerlink\" title=\"配置 Supervisor\"></a>配置 Supervisor</h3><p>运行<code>supervisord</code>服务的时候，需要指定 Supervisor 配置文件，如果没有显示指定，默认会从以下目录中加载：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$CWD/supervisord.conf  #$CWD表示运行 supervisord 程序的目录</span><br><span class=\"line\">$CWD/etc/supervisord.conf</span><br><span class=\"line\">/etc/supervisord.conf</span><br><span class=\"line\">/etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</span><br><span class=\"line\">../etc/supervisord.conf (Relative to the executable)</span><br><span class=\"line\">../supervisord.conf (Relative to the executable)</span><br></pre></td></tr></table></figure>\n\n<p>所以，先通过如下命令创建目录，以便让 Supervisor 成功加载默认配置：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /etc/supervisor</span><br></pre></td></tr></table></figure>\n\n<p>加载目录有了，然后通过<code>echo_supervisord_conf</code>程序（用来生成初始配置文件）来初始化一个配置文件：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf</span><br></pre></td></tr></table></figure>\n\n<p>打开<code>supervisord.conf</code>文件，可以看到<code>echo_supervisord_conf</code>已经帮我们初始化好了一个样例配置，我们需要简单修改一下。</p>\n<p>尾部找到如下文本片段：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[include]</span><br><span class=\"line\">;files = relative/directory/*.ini</span><br></pre></td></tr></table></figure>\n\n<p>改为：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[include]</span><br><span class=\"line\">files = conf.d/*.conf</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://2rhvlq.sn.files.1drv.com/y4moe345cp0AQ_V-7vLFKWv6KuGQ0yOdVKexTI5pStH2ImviRHx36fwWal21oLHMBCYkD5mDIUwZfwPPWB_DMtlt0yI3Gj_mu7pmvIne2u0iMtlfO7XeoUnfrykYmFujJxcjGDQZSA8YOPBuPo5C0yoMMf0trKGAABkloxT-MQOKKiJ1aBu3wLG_A6M_QC6do65201Z8jR8OnxTeuVFzq2Rhw?width=1054&height=713&cropmode=none\"></p>\n<p>即，把注释去除、设置<code>/etc/supervisor/conf.d</code>为 Supervisor 进程配置文件加载目录。</p>\n<p>这样，Supervisor 会自动加载该目录下<code>.conf</code>后缀的文件作为共同服务配置。Supervisor 管理的每个进程单独写一个配置文件放在该目录下，<code>supervisord.conf</code>配置文件中保留公共配置。</p>\n<p>创建进程配置加载目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /etc/supervisor/conf.d</span><br></pre></td></tr></table></figure>\n\n<p>接下来就需要为我们已经部署的 ASP .NET Core 程序的宿主进程创建一个进程配置文件<code>netcore.conf</code>，保存并上传到<code>/etc/supervisor/conf.d</code>目录。</p>\n<p>配置文件<code>netcore.conf</code>内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[program:Scorpio.WebApi]                        ;自定义进程名称</span><br><span class=\"line\">command=dotnet Scorpio.WebApi.dll               ;程序启动命令</span><br><span class=\"line\">directory=/home/wwwroot/scorpio                 ;命令执行的目录</span><br><span class=\"line\">autostart=true                                  ;在Supervisord启动时，程序是否启动</span><br><span class=\"line\">autorestart=true                                ;程序退出后自动重启</span><br><span class=\"line\">startretries=5                                  ;启动失败自动重试次数，默认是3</span><br><span class=\"line\">startsecs=1                                     ;自动重启间隔</span><br><span class=\"line\">user=root                                       ;设置启动进程的用户，默认是root</span><br><span class=\"line\">priority=999                                    ;进程启动优先级，默认999，值小的优先启动</span><br><span class=\"line\">stderr_logfile=/var/log/Scorpio.WebApi.err.log  ;标准错误日志</span><br><span class=\"line\">stdout_logfile=/var/log/Scorpio.WebApi.out.log  ;标准输出日志</span><br><span class=\"line\">environment=ASPNETCORE_ENVIRONMENT=Production   ;进程环境变量</span><br><span class=\"line\">stopsignal=INT                                  ;请求停止时用来杀死程序的信号</span><br></pre></td></tr></table></figure>\n\n<p>启动 Supervisor 服务，命令如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisord -c /etc/supervisor/supervisord.conf</span><br></pre></td></tr></table></figure>\n\n<p>这时，在会发现我们部署的网站程序不在 shell 中通过<code>dotnet xxx.dll</code>启动，同样可以访问。</p>\n<h3 id=\"设置-Supervisor-开机启动\"><a href=\"#设置-Supervisor-开机启动\" class=\"headerlink\" title=\"设置 Supervisor 开机启动\"></a>设置 Supervisor 开机启动</h3><p>首先为 Supervisor 新建一个启动服务脚本<code>supervisor.service</code>，然后保存并上传至服务器<code>/usr/lib/systemd/system/</code>目录。</p>\n<p>脚本内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># supervisord service for systemd (CentOS 7.0+)</span><br><span class=\"line\"># by ET-CS (https://github.com/ET-CS)</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Supervisor daemon</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=forking</span><br><span class=\"line\">ExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf</span><br><span class=\"line\">ExecStop=/usr/bin/supervisorctl $OPTIONS shutdown</span><br><span class=\"line\">ExecReload=/usr/bin/supervisorctl $OPTIONS reload</span><br><span class=\"line\">KillMode=process</span><br><span class=\"line\">Restart=on-failure</span><br><span class=\"line\">RestartSec=42s</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>\n\n<p>设置开启启动：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable supervisor</span><br></pre></td></tr></table></figure>\n\n<p>验证是否成功：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl is-enabled supervisor</span><br></pre></td></tr></table></figure>\n\n<p>如果输出<code>enabled</code>则表示设置成功，也可重启服务器验证。</p>\n<blockquote>\n<p>其它 Linux 发行版开机启动脚本 <a href=\"https://github.com/Supervisor/initscripts\">User-contributed OS init scripts for Supervisor</a></p>\n</blockquote>\n<h3 id=\"Supervisorctl-管理进程\"><a href=\"#Supervisorctl-管理进程\" class=\"headerlink\" title=\"Supervisorctl 管理进程\"></a>Supervisorctl 管理进程</h3><p>Supervisor 服务启动后，受其管理的进程会在后台运行。可以通过<code>supervisorctl</code>客户端管理进程。</p>\n<p>输入如下命令进入<code>supervisorctl</code>交互终端，按<code>Ctrl</code>+<code>C</code>键退出：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisorctl</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>help</code>查询帮助：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisor&gt; help</span><br><span class=\"line\"></span><br><span class=\"line\">default commands (type help &lt;topic&gt;):</span><br><span class=\"line\">=====================================</span><br><span class=\"line\">add    exit      open  reload  restart   start   tail</span><br><span class=\"line\">avail  fg        pid   remove  shutdown  status  update</span><br><span class=\"line\">clear  maintail  quit  reread  signal    stop    version</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>help ****</code>查询详细命令，比如输入<code>help stop</code>：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">supervisor&gt; help stop</span><br><span class=\"line\"></span><br><span class=\"line\">stop &lt;name&gt;             Stop a process</span><br><span class=\"line\">stop &lt;gname&gt;:*          Stop all processes in a group</span><br><span class=\"line\">stop &lt;name&gt; &lt;name&gt;      Stop multiple processes or groups</span><br><span class=\"line\">stop all                Stop all processes</span><br></pre></td></tr></table></figure>\n\n<p>如何启动、停止、重启进程等命令，我这里就不在记录，大家自行查找吧。</p>\n<p>除此之外，Supervisor 还提供了 Web 管理界面用来管理进程，如何配置启动请参考官方文档。</p>\n<h2 id=\"Nginx-配置反向代理\"><a href=\"#Nginx-配置反向代理\" class=\"headerlink\" title=\"Nginx 配置反向代理\"></a>Nginx 配置反向代理</h2><p><a href=\"http://nginx.org/\">Nginx</a> 是一个高性能的Web服务器软件。这是一个比 Apache HTTP Server 更加灵活和轻量级的程序。</p>\n<p>我们的网站程序启动的端口是<code>5000</code>，可以借助 Nginx 把程序<code>5000</code>端口映射到<code>80</code>端口。</p>\n<blockquote>\n<p><a href=\"http://nginx.org/en/docs/\">Nginx官方文档</a> &amp; <a href=\"http://tengine.taobao.org/book/index.html\">Nginx开发从入门到精通 - Tengine</a></p>\n</blockquote>\n<h3 id=\"安装-Nginx\"><a href=\"#安装-Nginx\" class=\"headerlink\" title=\"安装 Nginx\"></a>安装 Nginx</h3><p>首先，我们需要在服务器上安装 Nginx。</p>\n<p><strong>Step1：添加 Nginx 存储库</strong></p>\n<p>要添加 CentOS 7 EPEL 仓库，请打开终端并使用以下命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install epel-release</span><br></pre></td></tr></table></figure>\n\n<p><strong>Step2：安装 Nginx</strong></p>\n<p>现在 Nginx 存储库已经安装在您的服务器上，请使用以下<code>yum</code>命令安装 Nginx：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install nginx</span><br></pre></td></tr></table></figure>\n\n<p><strong>Step3：启动 Nginx</strong></p>\n<p>Nginx 不会自行启动。要运行 Nginx，请输入：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl start nginx</span><br></pre></td></tr></table></figure>\n\n<p>如果您正在运行防火墙，请运行以下命令以允许 HTTP 和 HTTPS 通信：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=http </span><br><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n\n<p>此时，可以在本机的浏览器中访问服务器的 IP 地址<code>http://ip</code>来验证 Nginx 是否成功运行。ip指你的服务器外网地址。</p>\n<p>如果能看到 Nginx 的默认转发网页则说明一切正常。如下截图：</p>\n<p><a href=\"https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png\"><img src=\"https://images2018.cnblogs.com/blog/785976/201807/785976-20180714090720761-223878730.png\" alt=\"Nginx\"></a></p>\n<p>如果拒绝访问，考虑服务器<code>80</code>端口是否开放。可尝试通过下面两条命令开放<code>80</code>端口、重启防火墙使修改即时生效。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class=\"line\">systemctl restart firewalld</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"设置-Nginx-开机启动\"><a href=\"#设置-Nginx-开机启动\" class=\"headerlink\" title=\"设置 Nginx 开机启动\"></a>设置 Nginx 开机启动</h3><p>避免开机需要手动开启 Nginx，可以通过如下快捷命令把 Nginx 配置成系统服务，并设置为开机启动：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable nginx  #设置开机启动</span><br></pre></td></tr></table></figure>\n\n<p>其他命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl disable nginx   #禁止开机启动</span><br><span class=\"line\">systemctl status nginx     #查看运行状态</span><br><span class=\"line\">systemctl restart nginx    #重启服务</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"修改-Nginx-配置文件\"><a href=\"#修改-Nginx-配置文件\" class=\"headerlink\" title=\"修改 Nginx 配置文件\"></a>修改 Nginx 配置文件</h3><p>首先，拿到 Nginx 的默认配置文件<code>/etc/nginx/nginx.conf</code>，把默认<code>80</code>端口转发配置<code>server</code>节点用<code>#</code>符注释掉。</p>\n<p><img src=\"https://pz0uiw.sn.files.1drv.com/y4mfmI0cJfUdKTdCCXz0FAcR0cV7MAky-JZjzrhqOFyL0Gpz4iJBrsdFxOU4sOhT2iQgZe12eGoLNagsLumJsjCOv6RDaYpQSDxMKqKO-RMykfAGVXIEUJQ907QJ9HPKEM0YNT2EtCaFGSZo-I6YSwQ1prXQEUCRydbTeFsOkPvRUhSvIfkbFzdIUGRSpMG8lGJw6PPvNIymYY9PnaGYOhU7Q?width=931&height=762&cropmode=none\"></p>\n<p>然后，我们新建一个配置文件<code>netcore.conf</code>，内容如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 80;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        proxy_pass http://localhost:5000;</span><br><span class=\"line\">        proxy_http_version 1.1;</span><br><span class=\"line\">        proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">        proxy_set_header Connection keep-alive;</span><br><span class=\"line\">        proxy_set_header Host $host;</span><br><span class=\"line\">        proxy_cache_bypass $http_upgrade;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>保存并上传到 Nginx 的配置加载目录<code>/etc/nginx/conf.d</code>，最后执行命令<code>nginx -s reload</code>重载 Nginx 配置，使其生效。</p>\n<p>在本地浏览器上访问服务器地址，运行结果如下：</p>\n<p><img src=\"https://pmig6a.sn.files.1drv.com/y4mSf6UFmROJzZjwf1U4WTfZUkn-KdKZpvOw-4pKefVlhz-YyMykFp7AoG_BcWgJgioBRyearzz0vPqTAQyT4ChIaIBK6P6XqoECbg2aLMlEKcaomiypUD82ARDtqbDXJ7hJGXLV2HB53cJZIp1Nnw3SbuILoUx2er1SG8KrCVw-AEWug1MUKkrkbhvxC7if3SXuDjdaoBODqjQQc-gaAF3hw?width=956&height=320&cropmode=none\"></p>\n<p>这个问题是由于 SELinux 保护机制所导致，我们需要将 Nginx 添加至 SELinux 的白名单。执行命令：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install policycoreutils-python</span><br><span class=\"line\"></span><br><span class=\"line\">sudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx</span><br><span class=\"line\"></span><br><span class=\"line\">sudo semodule -i mynginx.pp</span><br></pre></td></tr></table></figure>\n\n<p>PS:如果执行命令时出现下列情况：</p>\n<p>执行:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo cat /var/log/audit/audit.log  grep nginx  grep denied  audit2allow -M mynginx</span><br></pre></td></tr></table></figure>\n\n<p>返回的是<code>nothing to do</code>的话，说明项目还没有跑起来，需要先把项目跑起来，先去上一步设置守护进程。</p>\n<p>执行 <code>sudo cat /var/log/audit/audit.log grep nginx grep denied audit2allow -M mynginx</code><br>时出现：<code>you must specify the -p option with the path to the policy file</code></p>\n<p>请先检查SELinux是否被禁用掉了</p>\n<p>在&#x2F;etc&#x2F;sysconfig下有一个SeLinux文件，使用记事本打开，更改其中的SELINUX项的值就可以了。</p>\n<p>SELINUX&#x3D;disable  禁用SeLinux<br>SELINUX&#x3D;enforcing  使用SeLinux<br>重要：保存完后要重启 reboot</p>\n<p>再次访问，运行结果如下：</p>\n<p><img src=\"https://bt83ow.sn.files.1drv.com/y4mKsnOp3SzxITngOTkzv7lLxOPvVC-MeZu1JW_SLGVDV6QCwCvz2Krb23jjHnEJ4GXBbJ2BnYUcPGqUP-jpdCEFdtusTpyz2Iu_dvKA8Ph1bJSspxwfIU0rEPxSX-5PgVRGKPdKdVFQwg8j5EOag932mE3rX6dCHoY0YK0nEJf5xvjJ2KHgunOUL81emf_ZaNR2hWGwPvq3UiA0OQoPkYeRw?width=724&height=273&cropmode=none\"></p>\n<p>可以看到，访问的接口成功返回数据，证明 Nginx 已经完成对我们部署应用程序的转发。</p>\n<p>至此，我们已经完成了 ASP.NET Core 应用程序在 CentOS7 服务器上的部署。</p>\n<blockquote>\n<p>参考文章：</p>\n<p><a href=\"https://blog.csdn.net/zt102545/article/details/88545833#3.%E5%B0%86Nginx%E6%B7%BB%E5%8A%A0%E5%88%B0SELinux%E7%99%BD%E5%90%8D%E5%8D%95\">Centos7运行NETCore完整教程（三）：nginx反向代理</a></p>\n<p><a href=\"https://www.cnblogs.com/esofar/p/8043792.html\">使用 Nginx 在 Linux 上托管 ASP.NET Core 应用程序</a></p>\n</blockquote>\n"},{"title":"在 CentOS7 上安装 MongoDB","date":"2019-08-11T17:22:24.000Z","_content":"\n## 阿里云服务器安装mongodb\n\n在[原文](https://www.cnblogs.com/wanghy898/p/10901092.html)基础上根据自己体验做了一定的修改。\n\n连接阿里云服务器\n\n1.下载mongodb [查看最新版本](https://www.mongodb.com/download-center/community)\n\n```\ncurl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.12.tgz\n```\n\n2.解压\n\n```\ntar zxvf mongodb-linux-x86_64-4.0.12.tgz \n```\n\n  将解压过后的包移动到指定目录，并重命名为mongodb\n\n```\nmv mongodb-linux-x86_64-4.0.12/ /usr/local/mongodb\n```\n\n3.创建数据文件夹和日志文件等\n\n```\nmkdir -p /usr/local/mongodb/data \ntouch /usr/local/mongodb/mongod.log\ntouch /usr/local/mongodb/mongodb.conf\n```\n\n4.启动方式\n\n　进入mongo的bin目录下：\n\n```\ncd /usr/local/mongodb/bin\n```\n\n通过配置文件启动 首先进行配置\n\n```\nvim /usr/local/mongodb/mongodb.conf\n```\n\n在配置中加入如下代码\n\n dbpath=/usr/local/mongodb/data\n logpath=/usr/local/mongodb/mongod.log\n logappend = true \n port = 27017 \n fork = true \n maxConns=1000\n noauth = true\n bind\\_ip = 0.0.0.0\n storageEngine=wiredTiger\n\n```\nport=27017 #端口  \ndbpath= /usr/mongodb/db #数据库存文件存放目录  \nlogpath= /usr/mongodb/mongodb.log #日志文件存放路径  \nlogappend=true #使用追加的方式写日志  \nfork=false #不以守护程序的方式启用，即不在后台运行  \nmaxConns=100 #最大同时连接数  \nnoauth=true #不启用验证  \njournal=true #每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）。\n#即使宕机，启动时wiredtiger会先将数据恢复到最近一次的checkpoint点，然后重放后续的journal日志来恢复。\nstorageEngine=wiredTiger  #存储引擎有mmapv1、wiretiger、mongorocks\nbind_ip = 0.0.0.0  #这样就可外部访问了，例如从win10中去连虚拟机中的MongoDB\n```\n\n加入后按ESC，保存退出\n\n```\n:wq\n```\n\n进入mongo的bin目录下\n\n```\ncd /usr/local/mongodb/bin\n```\n\n 再执行\n\n```\n./mongod --config /usr/local/mongodb/mongodb.conf\n```\n\n```\nsudo chmod 777 mongodb.conf\n```\n\n启动过程如果出现端口占用则使用  ps aux grep mongod 命令查看端口占用情况\n\n (2) 停止\n\n```\n./mongod -shutdown -dbpath=/usr/local/mongodb/data\n```\n\n去阿里云控制台，打开27017端口，最后放开端口（远程访问必须开端口，否则不要开）\n\n```\n/sbin/iptables -I INPUT -p tcp --dport 27017 -j ACCEPT\n```\n\n验证mongoDB是否启动，输入命令`lsof -i :27017`，监测端口已经在使用中，所以说启动已经完成\n\n在浏览器输入：`http://ip:27017` 如果出现下面的文字，说明是能正常访问MongoDB的。ip是你的服务器外网ip地址。\n\n```\nIt looks like you are trying to access MongoDB over HTTP on the native driver port.\n```\n\n## centos下无法使用lsof命令解决方案\n\n在centos下查看端口占用情况输入命令\n\n```\nlsof -i:8080(自己的端口号)\n```\n\n出现\"-bash: lsof: command not found\"\n\n解决方案:\n\n```\nyum install lsof\n```\n\n安装即可\n\n## 设置为系统服务并且设置开机启动\n\n首先添加MongoDB系统服务，命令如下：`vim /etc/rc.d/init.d/mongod`\n\n打开编辑器后，我们将下面的配置粘贴进去，然后保存\n\n```\n#!/bin/bash\n\nexport MONGO_HOME=/usr/local/mongodb\n#chkconfig:2345 20 90\n#description:mongod\n#processname:mongod\ncase $1 in\n          start) \n              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf\n              ;;\n          stop)\n              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf\n              ;;\n          status)\n              ps -ef  grep mongod\n              ;;\n          restart)\n              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf\n              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf\n              ;;\n          *)\n              echo \"require startstopstatusrestart\"\n              ;;\nesac\n```\n\n保存完成之后，添加脚本执行权限，命令如下： `chmod +x /etc/rc.d/init.d/mongod` 　　\n\n可以使用命令`service mongod stop`关闭MongoDB服务。\n\n将此服务设置为开机启动，命令如下：`chkconfig mongod on`，然后重新启动机器进行测试，发现开机服务应启动并且端口也在使用中。\n\n验证mongoDB是否启动，输入命令`lsof -i :27017`，监测端口已经在使用中，所以说启动已经完成","source":"_posts/ASP.NET/install-mongodb-in-centos7.md","raw":"---\ntitle: 在 CentOS7 上安装 MongoDB\ntags:\n  - CentOS\n  - MongoDB\ncategories:\n  - - 开发笔记\ndate: 2019-08-12 01:22:24\n---\n\n## 阿里云服务器安装mongodb\n\n在[原文](https://www.cnblogs.com/wanghy898/p/10901092.html)基础上根据自己体验做了一定的修改。\n\n连接阿里云服务器\n\n1.下载mongodb [查看最新版本](https://www.mongodb.com/download-center/community)\n\n```\ncurl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.12.tgz\n```\n\n2.解压\n\n```\ntar zxvf mongodb-linux-x86_64-4.0.12.tgz \n```\n\n  将解压过后的包移动到指定目录，并重命名为mongodb\n\n```\nmv mongodb-linux-x86_64-4.0.12/ /usr/local/mongodb\n```\n\n3.创建数据文件夹和日志文件等\n\n```\nmkdir -p /usr/local/mongodb/data \ntouch /usr/local/mongodb/mongod.log\ntouch /usr/local/mongodb/mongodb.conf\n```\n\n4.启动方式\n\n　进入mongo的bin目录下：\n\n```\ncd /usr/local/mongodb/bin\n```\n\n通过配置文件启动 首先进行配置\n\n```\nvim /usr/local/mongodb/mongodb.conf\n```\n\n在配置中加入如下代码\n\n dbpath=/usr/local/mongodb/data\n logpath=/usr/local/mongodb/mongod.log\n logappend = true \n port = 27017 \n fork = true \n maxConns=1000\n noauth = true\n bind\\_ip = 0.0.0.0\n storageEngine=wiredTiger\n\n```\nport=27017 #端口  \ndbpath= /usr/mongodb/db #数据库存文件存放目录  \nlogpath= /usr/mongodb/mongodb.log #日志文件存放路径  \nlogappend=true #使用追加的方式写日志  \nfork=false #不以守护程序的方式启用，即不在后台运行  \nmaxConns=100 #最大同时连接数  \nnoauth=true #不启用验证  \njournal=true #每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）。\n#即使宕机，启动时wiredtiger会先将数据恢复到最近一次的checkpoint点，然后重放后续的journal日志来恢复。\nstorageEngine=wiredTiger  #存储引擎有mmapv1、wiretiger、mongorocks\nbind_ip = 0.0.0.0  #这样就可外部访问了，例如从win10中去连虚拟机中的MongoDB\n```\n\n加入后按ESC，保存退出\n\n```\n:wq\n```\n\n进入mongo的bin目录下\n\n```\ncd /usr/local/mongodb/bin\n```\n\n 再执行\n\n```\n./mongod --config /usr/local/mongodb/mongodb.conf\n```\n\n```\nsudo chmod 777 mongodb.conf\n```\n\n启动过程如果出现端口占用则使用  ps aux grep mongod 命令查看端口占用情况\n\n (2) 停止\n\n```\n./mongod -shutdown -dbpath=/usr/local/mongodb/data\n```\n\n去阿里云控制台，打开27017端口，最后放开端口（远程访问必须开端口，否则不要开）\n\n```\n/sbin/iptables -I INPUT -p tcp --dport 27017 -j ACCEPT\n```\n\n验证mongoDB是否启动，输入命令`lsof -i :27017`，监测端口已经在使用中，所以说启动已经完成\n\n在浏览器输入：`http://ip:27017` 如果出现下面的文字，说明是能正常访问MongoDB的。ip是你的服务器外网ip地址。\n\n```\nIt looks like you are trying to access MongoDB over HTTP on the native driver port.\n```\n\n## centos下无法使用lsof命令解决方案\n\n在centos下查看端口占用情况输入命令\n\n```\nlsof -i:8080(自己的端口号)\n```\n\n出现\"-bash: lsof: command not found\"\n\n解决方案:\n\n```\nyum install lsof\n```\n\n安装即可\n\n## 设置为系统服务并且设置开机启动\n\n首先添加MongoDB系统服务，命令如下：`vim /etc/rc.d/init.d/mongod`\n\n打开编辑器后，我们将下面的配置粘贴进去，然后保存\n\n```\n#!/bin/bash\n\nexport MONGO_HOME=/usr/local/mongodb\n#chkconfig:2345 20 90\n#description:mongod\n#processname:mongod\ncase $1 in\n          start) \n              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf\n              ;;\n          stop)\n              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf\n              ;;\n          status)\n              ps -ef  grep mongod\n              ;;\n          restart)\n              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf\n              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf\n              ;;\n          *)\n              echo \"require startstopstatusrestart\"\n              ;;\nesac\n```\n\n保存完成之后，添加脚本执行权限，命令如下： `chmod +x /etc/rc.d/init.d/mongod` 　　\n\n可以使用命令`service mongod stop`关闭MongoDB服务。\n\n将此服务设置为开机启动，命令如下：`chkconfig mongod on`，然后重新启动机器进行测试，发现开机服务应启动并且端口也在使用中。\n\n验证mongoDB是否启动，输入命令`lsof -i :27017`，监测端口已经在使用中，所以说启动已经完成","slug":"ASP.NET/install-mongodb-in-centos7","published":1,"updated":"2025-02-21T10:54:53.988Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1k000bews777fd0zcn","content":"<h2 id=\"阿里云服务器安装mongodb\"><a href=\"#阿里云服务器安装mongodb\" class=\"headerlink\" title=\"阿里云服务器安装mongodb\"></a>阿里云服务器安装mongodb</h2><p>在<a href=\"https://www.cnblogs.com/wanghy898/p/10901092.html\">原文</a>基础上根据自己体验做了一定的修改。</p>\n<p>连接阿里云服务器</p>\n<p>1.下载mongodb <a href=\"https://www.mongodb.com/download-center/community\">查看最新版本</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.12.tgz</span><br></pre></td></tr></table></figure>\n\n<p>2.解压</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar zxvf mongodb-linux-x86_64-4.0.12.tgz </span><br></pre></td></tr></table></figure>\n\n<p>  将解压过后的包移动到指定目录，并重命名为mongodb</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv mongodb-linux-x86_64-4.0.12/ /usr/local/mongodb</span><br></pre></td></tr></table></figure>\n\n<p>3.创建数据文件夹和日志文件等</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /usr/local/mongodb/data </span><br><span class=\"line\">touch /usr/local/mongodb/mongod.log</span><br><span class=\"line\">touch /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>4.启动方式</p>\n<p>　进入mongo的bin目录下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mongodb/bin</span><br></pre></td></tr></table></figure>\n\n<p>通过配置文件启动 首先进行配置</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>在配置中加入如下代码</p>\n<p> dbpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;data<br> logpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;mongod.log<br> logappend &#x3D; true<br> port &#x3D; 27017<br> fork &#x3D; true<br> maxConns&#x3D;1000<br> noauth &#x3D; true<br> bind_ip &#x3D; 0.0.0.0<br> storageEngine&#x3D;wiredTiger</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">port=27017 #端口  </span><br><span class=\"line\">dbpath= /usr/mongodb/db #数据库存文件存放目录  </span><br><span class=\"line\">logpath= /usr/mongodb/mongodb.log #日志文件存放路径  </span><br><span class=\"line\">logappend=true #使用追加的方式写日志  </span><br><span class=\"line\">fork=false #不以守护程序的方式启用，即不在后台运行  </span><br><span class=\"line\">maxConns=100 #最大同时连接数  </span><br><span class=\"line\">noauth=true #不启用验证  </span><br><span class=\"line\">journal=true #每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）。</span><br><span class=\"line\">#即使宕机，启动时wiredtiger会先将数据恢复到最近一次的checkpoint点，然后重放后续的journal日志来恢复。</span><br><span class=\"line\">storageEngine=wiredTiger  #存储引擎有mmapv1、wiretiger、mongorocks</span><br><span class=\"line\">bind_ip = 0.0.0.0  #这样就可外部访问了，例如从win10中去连虚拟机中的MongoDB</span><br></pre></td></tr></table></figure>\n\n<p>加入后按ESC，保存退出</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:wq</span><br></pre></td></tr></table></figure>\n\n<p>进入mongo的bin目录下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mongodb/bin</span><br></pre></td></tr></table></figure>\n\n<p> 再执行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./mongod --config /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod 777 mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>启动过程如果出现端口占用则使用  ps aux grep mongod 命令查看端口占用情况</p>\n<p> (2) 停止</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./mongod -shutdown -dbpath=/usr/local/mongodb/data</span><br></pre></td></tr></table></figure>\n\n<p>去阿里云控制台，打开27017端口，最后放开端口（远程访问必须开端口，否则不要开）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/sbin/iptables -I INPUT -p tcp --dport 27017 -j ACCEPT</span><br></pre></td></tr></table></figure>\n\n<p>验证mongoDB是否启动，输入命令<code>lsof -i :27017</code>，监测端口已经在使用中，所以说启动已经完成</p>\n<p>在浏览器输入：<code>http://ip:27017</code> 如果出现下面的文字，说明是能正常访问MongoDB的。ip是你的服务器外网ip地址。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">It looks like you are trying to access MongoDB over HTTP on the native driver port.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"centos下无法使用lsof命令解决方案\"><a href=\"#centos下无法使用lsof命令解决方案\" class=\"headerlink\" title=\"centos下无法使用lsof命令解决方案\"></a>centos下无法使用lsof命令解决方案</h2><p>在centos下查看端口占用情况输入命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsof -i:8080(自己的端口号)</span><br></pre></td></tr></table></figure>\n\n<p>出现”-bash: lsof: command not found”</p>\n<p>解决方案:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install lsof</span><br></pre></td></tr></table></figure>\n\n<p>安装即可</p>\n<h2 id=\"设置为系统服务并且设置开机启动\"><a href=\"#设置为系统服务并且设置开机启动\" class=\"headerlink\" title=\"设置为系统服务并且设置开机启动\"></a>设置为系统服务并且设置开机启动</h2><p>首先添加MongoDB系统服务，命令如下：<code>vim /etc/rc.d/init.d/mongod</code></p>\n<p>打开编辑器后，我们将下面的配置粘贴进去，然后保存</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">export MONGO_HOME=/usr/local/mongodb</span><br><span class=\"line\">#chkconfig:2345 20 90</span><br><span class=\"line\">#description:mongod</span><br><span class=\"line\">#processname:mongod</span><br><span class=\"line\">case $1 in</span><br><span class=\"line\">          start) </span><br><span class=\"line\">              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          stop)</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          status)</span><br><span class=\"line\">              ps -ef  grep mongod</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          restart)</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          *)</span><br><span class=\"line\">              echo &quot;require startstopstatusrestart&quot;</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure>\n\n<p>保存完成之后，添加脚本执行权限，命令如下： <code>chmod +x /etc/rc.d/init.d/mongod</code> 　　</p>\n<p>可以使用命令<code>service mongod stop</code>关闭MongoDB服务。</p>\n<p>将此服务设置为开机启动，命令如下：<code>chkconfig mongod on</code>，然后重新启动机器进行测试，发现开机服务应启动并且端口也在使用中。</p>\n<p>验证mongoDB是否启动，输入命令<code>lsof -i :27017</code>，监测端口已经在使用中，所以说启动已经完成</p>\n","excerpt":"","more":"<h2 id=\"阿里云服务器安装mongodb\"><a href=\"#阿里云服务器安装mongodb\" class=\"headerlink\" title=\"阿里云服务器安装mongodb\"></a>阿里云服务器安装mongodb</h2><p>在<a href=\"https://www.cnblogs.com/wanghy898/p/10901092.html\">原文</a>基础上根据自己体验做了一定的修改。</p>\n<p>连接阿里云服务器</p>\n<p>1.下载mongodb <a href=\"https://www.mongodb.com/download-center/community\">查看最新版本</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.12.tgz</span><br></pre></td></tr></table></figure>\n\n<p>2.解压</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar zxvf mongodb-linux-x86_64-4.0.12.tgz </span><br></pre></td></tr></table></figure>\n\n<p>  将解压过后的包移动到指定目录，并重命名为mongodb</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv mongodb-linux-x86_64-4.0.12/ /usr/local/mongodb</span><br></pre></td></tr></table></figure>\n\n<p>3.创建数据文件夹和日志文件等</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /usr/local/mongodb/data </span><br><span class=\"line\">touch /usr/local/mongodb/mongod.log</span><br><span class=\"line\">touch /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>4.启动方式</p>\n<p>　进入mongo的bin目录下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mongodb/bin</span><br></pre></td></tr></table></figure>\n\n<p>通过配置文件启动 首先进行配置</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>在配置中加入如下代码</p>\n<p> dbpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;data<br> logpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;mongod.log<br> logappend &#x3D; true<br> port &#x3D; 27017<br> fork &#x3D; true<br> maxConns&#x3D;1000<br> noauth &#x3D; true<br> bind_ip &#x3D; 0.0.0.0<br> storageEngine&#x3D;wiredTiger</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">port=27017 #端口  </span><br><span class=\"line\">dbpath= /usr/mongodb/db #数据库存文件存放目录  </span><br><span class=\"line\">logpath= /usr/mongodb/mongodb.log #日志文件存放路径  </span><br><span class=\"line\">logappend=true #使用追加的方式写日志  </span><br><span class=\"line\">fork=false #不以守护程序的方式启用，即不在后台运行  </span><br><span class=\"line\">maxConns=100 #最大同时连接数  </span><br><span class=\"line\">noauth=true #不启用验证  </span><br><span class=\"line\">journal=true #每次写入会记录一条操作日志（通过journal可以重新构造出写入的数据）。</span><br><span class=\"line\">#即使宕机，启动时wiredtiger会先将数据恢复到最近一次的checkpoint点，然后重放后续的journal日志来恢复。</span><br><span class=\"line\">storageEngine=wiredTiger  #存储引擎有mmapv1、wiretiger、mongorocks</span><br><span class=\"line\">bind_ip = 0.0.0.0  #这样就可外部访问了，例如从win10中去连虚拟机中的MongoDB</span><br></pre></td></tr></table></figure>\n\n<p>加入后按ESC，保存退出</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:wq</span><br></pre></td></tr></table></figure>\n\n<p>进入mongo的bin目录下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mongodb/bin</span><br></pre></td></tr></table></figure>\n\n<p> 再执行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./mongod --config /usr/local/mongodb/mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chmod 777 mongodb.conf</span><br></pre></td></tr></table></figure>\n\n<p>启动过程如果出现端口占用则使用  ps aux grep mongod 命令查看端口占用情况</p>\n<p> (2) 停止</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./mongod -shutdown -dbpath=/usr/local/mongodb/data</span><br></pre></td></tr></table></figure>\n\n<p>去阿里云控制台，打开27017端口，最后放开端口（远程访问必须开端口，否则不要开）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/sbin/iptables -I INPUT -p tcp --dport 27017 -j ACCEPT</span><br></pre></td></tr></table></figure>\n\n<p>验证mongoDB是否启动，输入命令<code>lsof -i :27017</code>，监测端口已经在使用中，所以说启动已经完成</p>\n<p>在浏览器输入：<code>http://ip:27017</code> 如果出现下面的文字，说明是能正常访问MongoDB的。ip是你的服务器外网ip地址。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">It looks like you are trying to access MongoDB over HTTP on the native driver port.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"centos下无法使用lsof命令解决方案\"><a href=\"#centos下无法使用lsof命令解决方案\" class=\"headerlink\" title=\"centos下无法使用lsof命令解决方案\"></a>centos下无法使用lsof命令解决方案</h2><p>在centos下查看端口占用情况输入命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsof -i:8080(自己的端口号)</span><br></pre></td></tr></table></figure>\n\n<p>出现”-bash: lsof: command not found”</p>\n<p>解决方案:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install lsof</span><br></pre></td></tr></table></figure>\n\n<p>安装即可</p>\n<h2 id=\"设置为系统服务并且设置开机启动\"><a href=\"#设置为系统服务并且设置开机启动\" class=\"headerlink\" title=\"设置为系统服务并且设置开机启动\"></a>设置为系统服务并且设置开机启动</h2><p>首先添加MongoDB系统服务，命令如下：<code>vim /etc/rc.d/init.d/mongod</code></p>\n<p>打开编辑器后，我们将下面的配置粘贴进去，然后保存</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">export MONGO_HOME=/usr/local/mongodb</span><br><span class=\"line\">#chkconfig:2345 20 90</span><br><span class=\"line\">#description:mongod</span><br><span class=\"line\">#processname:mongod</span><br><span class=\"line\">case $1 in</span><br><span class=\"line\">          start) </span><br><span class=\"line\">              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          stop)</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          status)</span><br><span class=\"line\">              ps -ef  grep mongod</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          restart)</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod  --shutdown --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              $MONGO_HOME/bin/mongod --config $MONGO_HOME/mongodb.conf</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          *)</span><br><span class=\"line\">              echo &quot;require startstopstatusrestart&quot;</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure>\n\n<p>保存完成之后，添加脚本执行权限，命令如下： <code>chmod +x /etc/rc.d/init.d/mongod</code> 　　</p>\n<p>可以使用命令<code>service mongod stop</code>关闭MongoDB服务。</p>\n<p>将此服务设置为开机启动，命令如下：<code>chkconfig mongod on</code>，然后重新启动机器进行测试，发现开机服务应启动并且端口也在使用中。</p>\n<p>验证mongoDB是否启动，输入命令<code>lsof -i :27017</code>，监测端口已经在使用中，所以说启动已经完成</p>\n"},{"title":"Mongodb常用操作","date":"2020-03-03T10:29:08.000Z","_content":"\n基于在Centos下安装的Mongodb\n\n1.  进入安装目录`cd /usr/local/mongodb/bin`\n2.  ./mongo\n3.  显示所有数据库 `show dbs`\n4.  切换数据库 `use dbname`\n5.  显示所有表单 `show tables`\n6.  显示数据库中所有集合`show collections`\n7.  显示结合中所有项`db.colllectionname.find().pretty()`\n8.  ./mongod --dbpath=/usr/local/mongodb/data -- port 12345 修改默认端口\n\n[详细操作文档](https://www.runoob.com/mongodb/mongodb-create-database.html)\n\nPS:数据库被黑客删了是什么情况\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310492185.png)\n\n数据库名字前被添加”HOW\\_TO\\_RESTORE“\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310493358.png)\n\n打开以后就是索要btc的。。。","source":"_posts/ASP.NET/mongodb-common-operations.md","raw":"---\ntitle: Mongodb常用操作\ntags:\n  - MongoDB\ncategories:\n  - - 开发笔记\ndate: 2020-03-03 18:29:08\n---\n\n基于在Centos下安装的Mongodb\n\n1.  进入安装目录`cd /usr/local/mongodb/bin`\n2.  ./mongo\n3.  显示所有数据库 `show dbs`\n4.  切换数据库 `use dbname`\n5.  显示所有表单 `show tables`\n6.  显示数据库中所有集合`show collections`\n7.  显示结合中所有项`db.colllectionname.find().pretty()`\n8.  ./mongod --dbpath=/usr/local/mongodb/data -- port 12345 修改默认端口\n\n[详细操作文档](https://www.runoob.com/mongodb/mongodb-create-database.html)\n\nPS:数据库被黑客删了是什么情况\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310492185.png)\n\n数据库名字前被添加”HOW\\_TO\\_RESTORE“\n\n![](https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310493358.png)\n\n打开以后就是索要btc的。。。","slug":"ASP.NET/mongodb-common-operations","published":1,"updated":"2025-02-21T10:54:53.989Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1l000fews7apry812d","content":"<p>基于在Centos下安装的Mongodb</p>\n<ol>\n<li>进入安装目录<code>cd /usr/local/mongodb/bin</code></li>\n<li>.&#x2F;mongo</li>\n<li>显示所有数据库 <code>show dbs</code></li>\n<li>切换数据库 <code>use dbname</code></li>\n<li>显示所有表单 <code>show tables</code></li>\n<li>显示数据库中所有集合<code>show collections</code></li>\n<li>显示结合中所有项<code>db.colllectionname.find().pretty()</code></li>\n<li>.&#x2F;mongod –dbpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;data – port 12345 修改默认端口</li>\n</ol>\n<p><a href=\"https://www.runoob.com/mongodb/mongodb-create-database.html\">详细操作文档</a></p>\n<p>PS:数据库被黑客删了是什么情况</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310492185.png\"></p>\n<p>数据库名字前被添加”HOW_TO_RESTORE“</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310493358.png\"></p>\n<p>打开以后就是索要btc的。。。</p>\n","excerpt":"","more":"<p>基于在Centos下安装的Mongodb</p>\n<ol>\n<li>进入安装目录<code>cd /usr/local/mongodb/bin</code></li>\n<li>.&#x2F;mongo</li>\n<li>显示所有数据库 <code>show dbs</code></li>\n<li>切换数据库 <code>use dbname</code></li>\n<li>显示所有表单 <code>show tables</code></li>\n<li>显示数据库中所有集合<code>show collections</code></li>\n<li>显示结合中所有项<code>db.colllectionname.find().pretty()</code></li>\n<li>.&#x2F;mongod –dbpath&#x3D;&#x2F;usr&#x2F;local&#x2F;mongodb&#x2F;data – port 12345 修改默认端口</li>\n</ol>\n<p><a href=\"https://www.runoob.com/mongodb/mongodb-create-database.html\">详细操作文档</a></p>\n<p>PS:数据库被黑客删了是什么情况</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310492185.png\"></p>\n<p>数据库名字前被添加”HOW_TO_RESTORE“</p>\n<p><img src=\"https://www.yzj0308.com/wp-content/uploads/2020/03/2020030310493358.png\"></p>\n<p>打开以后就是索要btc的。。。</p>\n"},{"title":"Revit中阵列必须大于2及条件语句","date":"2021-04-01T07:13:24.000Z","_content":"# 阵列不能小于2情况处理\n\n在自建钢围檩族（公制结构框架-梁和支撑）时，两个工字钢每隔600mm都会有三块加劲板。加劲板使用阵列的方式画出。如下图所示：\n\n![钢围檩](GWL.png)\n\n但是当钢围檩长度小于某个值时，我这里是2400mm，根据长度计算出的阵列个数会小于2（阵列个数必须大于等于2），使用if语句使长度小于等于2400mm时，阵列个数依旧为2，大于时按照计算结果给出。\n\n在长度小到一定程度，就会出现下面的情况：\n\n![钢围檩太短](GWLTD.png)\n\n这时就需要隐藏加劲板,具体步骤如下：\n\n1、点击加劲板，编辑族。\n![](BJZ.png)\n\n2、给可见属性关联参数（自己新建一个，我这里是做完之后截图的）。\n![](GLCS.png)\n![](GLCS1.png)\n\n组后族类型里面的公式如下图：\n![](JJBKEGS.png)\n\n需要注意：\n- 可见性在族里面是看不出来的，需要载入项目去看。\n- 可见性这里填写的判断写“显示”的情况。比如，我这里需要只在大于等于1800mm的时候显示加劲板，所以我写的是`NOT(L<1800mm)`,也就是大于等于1800mm的情况。\n\n# Revit官方文档\n> 可以在公式中使用条件语句，来定义族中取决于其他参数的状态的操作。\n\n> 使用条件语句，软件会根据是否满足指定条件来输入参数值。 在某些情况下，条件语句是很有用的；但是，它们会使族变得更复杂，应仅在必要时使用。\n\n> 对于大多数类型参数，条件语句是不必要的， 因为类型参数本身就像一个条件语句：如果这是类型，则将该参数设置为指定值。实例参数更适合用于条件语句，尤其是用于设置不连续变化的参数。\n\n> 条件语句的语法\n条件语句使用以下结构： IF (<条件>, <条件为真时的结果>, <条件为假时的结果>)\n\n> 这表示输入的参数值取决于是满足条件（真）还是不满足条件（假）。如果条件为真，则软件会返回条件为真时的值。如果条件为假，则软件会返回条件为假时的值。\n\n> 条件语句可以包含数值、数字参数名和 Yes/No 参数。在条件中可使用下列比较符号：<、>、=。还可以在条件语句中使用布尔运算符：AND、OR、NOT。当前不支持 <= 和 >=。要表达这种比较符号，可以使用逻辑值 NOT。例如，a<=b 可输入为 NOT(a>b)。\n\n> 下面是使用条件语句的公式示例。\n\n> 简单的 IF 语句： =IF (Length < 3000mm, 200mm, 300mm)\n\n> 带有文字参数的 IF 语句：=IF (Length > 35', “String1”, “String2”)\n\n> 带有逻辑 AND 的 IF 语句：=IF ( AND (x = 1 , y = 2), 8 , 3 )\n\n> 带有逻辑 OR 的 IF 语句： =IF ( OR ( A = 1 , B = 3 ) , 8 , 3 )\n\n> 嵌套的 IF 语句：=IF ( Length < 35' , 2' 6\" , IF ( Length < 45' , 3' , IF ( Length < 55' , 5' , 8' ) ) )\n\n> 带有 Yes/No 条件的 IF 语句：=Length > 40（请注意，条件和结果都是隐含的。）\n\n> 使用条件语句的示例\n公式中条件语句的典型使用包括计算阵列值以及根据参数值控制图元的可见性。例如，可以将条件语句用于下列情况：\n\n> 防止阵列参数使用小于 2 的值。\n在 Revit 中，阵列的值必须是大于或等于 2 的整数。在一些情况下，这对于创建保持阵列参数为 2（即使计算值为 1 或 0） 的条件公式是很有用的。使用这样的公式，如果计算的阵列值等于或大于 2，则公式将保留该值。但是，如果计算值为 1 或 0，则公式将把该值修改为 2。\n\n> 公式： Array number = IF (Arrayparam < 2, 2, Arrayparam)\n\n> 仅当窗灯光的数目大于 1 时，窗格条才可见。\n例如，如果有一个要用于控制窗格条几何图形的可见性的 Lights 参数，则可以创建类似于 MuntinVis 的 Yes/No 参数，并将其指定到窗格条几何图形的“图元属性”对话框中的“可见”参数。因为 MuntinVis 参数是 Yes/No（或布尔）运算，条件 (IF) 和结果都是隐含的。在该实例中，当满足条件时（真），将选中 MuntinVis 参数值，且窗格条几何图形是可见的。反之，当不满足条件时（假），将清除 MuntinVis 参数，且窗格条几何图形是不可见的。\n\n> 公式： MuntinVis = Lights > 1\n\n","source":"_posts/Revit/revit-array-must-biggger-than-2.md","raw":"---\ntitle: Revit中阵列必须大于2及条件语句\ntags:\n  - Revit\ncategories:\n  - - Revit学习笔记\ndate: 2021-04-01 15:13:24\n---\n# 阵列不能小于2情况处理\n\n在自建钢围檩族（公制结构框架-梁和支撑）时，两个工字钢每隔600mm都会有三块加劲板。加劲板使用阵列的方式画出。如下图所示：\n\n![钢围檩](GWL.png)\n\n但是当钢围檩长度小于某个值时，我这里是2400mm，根据长度计算出的阵列个数会小于2（阵列个数必须大于等于2），使用if语句使长度小于等于2400mm时，阵列个数依旧为2，大于时按照计算结果给出。\n\n在长度小到一定程度，就会出现下面的情况：\n\n![钢围檩太短](GWLTD.png)\n\n这时就需要隐藏加劲板,具体步骤如下：\n\n1、点击加劲板，编辑族。\n![](BJZ.png)\n\n2、给可见属性关联参数（自己新建一个，我这里是做完之后截图的）。\n![](GLCS.png)\n![](GLCS1.png)\n\n组后族类型里面的公式如下图：\n![](JJBKEGS.png)\n\n需要注意：\n- 可见性在族里面是看不出来的，需要载入项目去看。\n- 可见性这里填写的判断写“显示”的情况。比如，我这里需要只在大于等于1800mm的时候显示加劲板，所以我写的是`NOT(L<1800mm)`,也就是大于等于1800mm的情况。\n\n# Revit官方文档\n> 可以在公式中使用条件语句，来定义族中取决于其他参数的状态的操作。\n\n> 使用条件语句，软件会根据是否满足指定条件来输入参数值。 在某些情况下，条件语句是很有用的；但是，它们会使族变得更复杂，应仅在必要时使用。\n\n> 对于大多数类型参数，条件语句是不必要的， 因为类型参数本身就像一个条件语句：如果这是类型，则将该参数设置为指定值。实例参数更适合用于条件语句，尤其是用于设置不连续变化的参数。\n\n> 条件语句的语法\n条件语句使用以下结构： IF (<条件>, <条件为真时的结果>, <条件为假时的结果>)\n\n> 这表示输入的参数值取决于是满足条件（真）还是不满足条件（假）。如果条件为真，则软件会返回条件为真时的值。如果条件为假，则软件会返回条件为假时的值。\n\n> 条件语句可以包含数值、数字参数名和 Yes/No 参数。在条件中可使用下列比较符号：<、>、=。还可以在条件语句中使用布尔运算符：AND、OR、NOT。当前不支持 <= 和 >=。要表达这种比较符号，可以使用逻辑值 NOT。例如，a<=b 可输入为 NOT(a>b)。\n\n> 下面是使用条件语句的公式示例。\n\n> 简单的 IF 语句： =IF (Length < 3000mm, 200mm, 300mm)\n\n> 带有文字参数的 IF 语句：=IF (Length > 35', “String1”, “String2”)\n\n> 带有逻辑 AND 的 IF 语句：=IF ( AND (x = 1 , y = 2), 8 , 3 )\n\n> 带有逻辑 OR 的 IF 语句： =IF ( OR ( A = 1 , B = 3 ) , 8 , 3 )\n\n> 嵌套的 IF 语句：=IF ( Length < 35' , 2' 6\" , IF ( Length < 45' , 3' , IF ( Length < 55' , 5' , 8' ) ) )\n\n> 带有 Yes/No 条件的 IF 语句：=Length > 40（请注意，条件和结果都是隐含的。）\n\n> 使用条件语句的示例\n公式中条件语句的典型使用包括计算阵列值以及根据参数值控制图元的可见性。例如，可以将条件语句用于下列情况：\n\n> 防止阵列参数使用小于 2 的值。\n在 Revit 中，阵列的值必须是大于或等于 2 的整数。在一些情况下，这对于创建保持阵列参数为 2（即使计算值为 1 或 0） 的条件公式是很有用的。使用这样的公式，如果计算的阵列值等于或大于 2，则公式将保留该值。但是，如果计算值为 1 或 0，则公式将把该值修改为 2。\n\n> 公式： Array number = IF (Arrayparam < 2, 2, Arrayparam)\n\n> 仅当窗灯光的数目大于 1 时，窗格条才可见。\n例如，如果有一个要用于控制窗格条几何图形的可见性的 Lights 参数，则可以创建类似于 MuntinVis 的 Yes/No 参数，并将其指定到窗格条几何图形的“图元属性”对话框中的“可见”参数。因为 MuntinVis 参数是 Yes/No（或布尔）运算，条件 (IF) 和结果都是隐含的。在该实例中，当满足条件时（真），将选中 MuntinVis 参数值，且窗格条几何图形是可见的。反之，当不满足条件时（假），将清除 MuntinVis 参数，且窗格条几何图形是不可见的。\n\n> 公式： MuntinVis = Lights > 1\n\n","slug":"Revit/revit-array-must-biggger-than-2","published":1,"updated":"2025-02-21T10:54:53.989Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1m000hews78avkhjqs","content":"<h1 id=\"阵列不能小于2情况处理\"><a href=\"#阵列不能小于2情况处理\" class=\"headerlink\" title=\"阵列不能小于2情况处理\"></a>阵列不能小于2情况处理</h1><p>在自建钢围檩族（公制结构框架-梁和支撑）时，两个工字钢每隔600mm都会有三块加劲板。加劲板使用阵列的方式画出。如下图所示：</p>\n<p><img src=\"/GWL.png\" alt=\"钢围檩\"></p>\n<p>但是当钢围檩长度小于某个值时，我这里是2400mm，根据长度计算出的阵列个数会小于2（阵列个数必须大于等于2），使用if语句使长度小于等于2400mm时，阵列个数依旧为2，大于时按照计算结果给出。</p>\n<p>在长度小到一定程度，就会出现下面的情况：</p>\n<p><img src=\"/GWLTD.png\" alt=\"钢围檩太短\"></p>\n<p>这时就需要隐藏加劲板,具体步骤如下：</p>\n<p>1、点击加劲板，编辑族。<br><img src=\"/BJZ.png\"></p>\n<p>2、给可见属性关联参数（自己新建一个，我这里是做完之后截图的）。<br><img src=\"/GLCS.png\"><br><img src=\"/GLCS1.png\"></p>\n<p>组后族类型里面的公式如下图：<br><img src=\"/JJBKEGS.png\"></p>\n<p>需要注意：</p>\n<ul>\n<li>可见性在族里面是看不出来的，需要载入项目去看。</li>\n<li>可见性这里填写的判断写“显示”的情况。比如，我这里需要只在大于等于1800mm的时候显示加劲板，所以我写的是<code>NOT(L&lt;1800mm)</code>,也就是大于等于1800mm的情况。</li>\n</ul>\n<h1 id=\"Revit官方文档\"><a href=\"#Revit官方文档\" class=\"headerlink\" title=\"Revit官方文档\"></a>Revit官方文档</h1><blockquote>\n<p>可以在公式中使用条件语句，来定义族中取决于其他参数的状态的操作。</p>\n</blockquote>\n<blockquote>\n<p>使用条件语句，软件会根据是否满足指定条件来输入参数值。 在某些情况下，条件语句是很有用的；但是，它们会使族变得更复杂，应仅在必要时使用。</p>\n</blockquote>\n<blockquote>\n<p>对于大多数类型参数，条件语句是不必要的， 因为类型参数本身就像一个条件语句：如果这是类型，则将该参数设置为指定值。实例参数更适合用于条件语句，尤其是用于设置不连续变化的参数。</p>\n</blockquote>\n<blockquote>\n<p>条件语句的语法<br>条件语句使用以下结构： IF (&lt;条件&gt;, &lt;条件为真时的结果&gt;, &lt;条件为假时的结果&gt;)</p>\n</blockquote>\n<blockquote>\n<p>这表示输入的参数值取决于是满足条件（真）还是不满足条件（假）。如果条件为真，则软件会返回条件为真时的值。如果条件为假，则软件会返回条件为假时的值。</p>\n</blockquote>\n<blockquote>\n<p>条件语句可以包含数值、数字参数名和 Yes&#x2F;No 参数。在条件中可使用下列比较符号：&lt;、&gt;、&#x3D;。还可以在条件语句中使用布尔运算符：AND、OR、NOT。当前不支持 &lt;&#x3D; 和 &gt;&#x3D;。要表达这种比较符号，可以使用逻辑值 NOT。例如，a&lt;&#x3D;b 可输入为 NOT(a&gt;b)。</p>\n</blockquote>\n<blockquote>\n<p>下面是使用条件语句的公式示例。</p>\n</blockquote>\n<blockquote>\n<p>简单的 IF 语句： &#x3D;IF (Length &lt; 3000mm, 200mm, 300mm)</p>\n</blockquote>\n<blockquote>\n<p>带有文字参数的 IF 语句：&#x3D;IF (Length &gt; 35’, “String1”, “String2”)</p>\n</blockquote>\n<blockquote>\n<p>带有逻辑 AND 的 IF 语句：&#x3D;IF ( AND (x &#x3D; 1 , y &#x3D; 2), 8 , 3 )</p>\n</blockquote>\n<blockquote>\n<p>带有逻辑 OR 的 IF 语句： &#x3D;IF ( OR ( A &#x3D; 1 , B &#x3D; 3 ) , 8 , 3 )</p>\n</blockquote>\n<blockquote>\n<p>嵌套的 IF 语句：&#x3D;IF ( Length &lt; 35’ , 2’ 6” , IF ( Length &lt; 45’ , 3’ , IF ( Length &lt; 55’ , 5’ , 8’ ) ) )</p>\n</blockquote>\n<blockquote>\n<p>带有 Yes&#x2F;No 条件的 IF 语句：&#x3D;Length &gt; 40（请注意，条件和结果都是隐含的。）</p>\n</blockquote>\n<blockquote>\n<p>使用条件语句的示例<br>公式中条件语句的典型使用包括计算阵列值以及根据参数值控制图元的可见性。例如，可以将条件语句用于下列情况：</p>\n</blockquote>\n<blockquote>\n<p>防止阵列参数使用小于 2 的值。<br>在 Revit 中，阵列的值必须是大于或等于 2 的整数。在一些情况下，这对于创建保持阵列参数为 2（即使计算值为 1 或 0） 的条件公式是很有用的。使用这样的公式，如果计算的阵列值等于或大于 2，则公式将保留该值。但是，如果计算值为 1 或 0，则公式将把该值修改为 2。</p>\n</blockquote>\n<blockquote>\n<p>公式： Array number &#x3D; IF (Arrayparam &lt; 2, 2, Arrayparam)</p>\n</blockquote>\n<blockquote>\n<p>仅当窗灯光的数目大于 1 时，窗格条才可见。<br>例如，如果有一个要用于控制窗格条几何图形的可见性的 Lights 参数，则可以创建类似于 MuntinVis 的 Yes&#x2F;No 参数，并将其指定到窗格条几何图形的“图元属性”对话框中的“可见”参数。因为 MuntinVis 参数是 Yes&#x2F;No（或布尔）运算，条件 (IF) 和结果都是隐含的。在该实例中，当满足条件时（真），将选中 MuntinVis 参数值，且窗格条几何图形是可见的。反之，当不满足条件时（假），将清除 MuntinVis 参数，且窗格条几何图形是不可见的。</p>\n</blockquote>\n<blockquote>\n<p>公式： MuntinVis &#x3D; Lights &gt; 1</p>\n</blockquote>\n","excerpt":"","more":"<h1 id=\"阵列不能小于2情况处理\"><a href=\"#阵列不能小于2情况处理\" class=\"headerlink\" title=\"阵列不能小于2情况处理\"></a>阵列不能小于2情况处理</h1><p>在自建钢围檩族（公制结构框架-梁和支撑）时，两个工字钢每隔600mm都会有三块加劲板。加劲板使用阵列的方式画出。如下图所示：</p>\n<p><img src=\"/GWL.png\" alt=\"钢围檩\"></p>\n<p>但是当钢围檩长度小于某个值时，我这里是2400mm，根据长度计算出的阵列个数会小于2（阵列个数必须大于等于2），使用if语句使长度小于等于2400mm时，阵列个数依旧为2，大于时按照计算结果给出。</p>\n<p>在长度小到一定程度，就会出现下面的情况：</p>\n<p><img src=\"/GWLTD.png\" alt=\"钢围檩太短\"></p>\n<p>这时就需要隐藏加劲板,具体步骤如下：</p>\n<p>1、点击加劲板，编辑族。<br><img src=\"/BJZ.png\"></p>\n<p>2、给可见属性关联参数（自己新建一个，我这里是做完之后截图的）。<br><img src=\"/GLCS.png\"><br><img src=\"/GLCS1.png\"></p>\n<p>组后族类型里面的公式如下图：<br><img src=\"/JJBKEGS.png\"></p>\n<p>需要注意：</p>\n<ul>\n<li>可见性在族里面是看不出来的，需要载入项目去看。</li>\n<li>可见性这里填写的判断写“显示”的情况。比如，我这里需要只在大于等于1800mm的时候显示加劲板，所以我写的是<code>NOT(L&lt;1800mm)</code>,也就是大于等于1800mm的情况。</li>\n</ul>\n<h1 id=\"Revit官方文档\"><a href=\"#Revit官方文档\" class=\"headerlink\" title=\"Revit官方文档\"></a>Revit官方文档</h1><blockquote>\n<p>可以在公式中使用条件语句，来定义族中取决于其他参数的状态的操作。</p>\n</blockquote>\n<blockquote>\n<p>使用条件语句，软件会根据是否满足指定条件来输入参数值。 在某些情况下，条件语句是很有用的；但是，它们会使族变得更复杂，应仅在必要时使用。</p>\n</blockquote>\n<blockquote>\n<p>对于大多数类型参数，条件语句是不必要的， 因为类型参数本身就像一个条件语句：如果这是类型，则将该参数设置为指定值。实例参数更适合用于条件语句，尤其是用于设置不连续变化的参数。</p>\n</blockquote>\n<blockquote>\n<p>条件语句的语法<br>条件语句使用以下结构： IF (&lt;条件&gt;, &lt;条件为真时的结果&gt;, &lt;条件为假时的结果&gt;)</p>\n</blockquote>\n<blockquote>\n<p>这表示输入的参数值取决于是满足条件（真）还是不满足条件（假）。如果条件为真，则软件会返回条件为真时的值。如果条件为假，则软件会返回条件为假时的值。</p>\n</blockquote>\n<blockquote>\n<p>条件语句可以包含数值、数字参数名和 Yes&#x2F;No 参数。在条件中可使用下列比较符号：&lt;、&gt;、&#x3D;。还可以在条件语句中使用布尔运算符：AND、OR、NOT。当前不支持 &lt;&#x3D; 和 &gt;&#x3D;。要表达这种比较符号，可以使用逻辑值 NOT。例如，a&lt;&#x3D;b 可输入为 NOT(a&gt;b)。</p>\n</blockquote>\n<blockquote>\n<p>下面是使用条件语句的公式示例。</p>\n</blockquote>\n<blockquote>\n<p>简单的 IF 语句： &#x3D;IF (Length &lt; 3000mm, 200mm, 300mm)</p>\n</blockquote>\n<blockquote>\n<p>带有文字参数的 IF 语句：&#x3D;IF (Length &gt; 35’, “String1”, “String2”)</p>\n</blockquote>\n<blockquote>\n<p>带有逻辑 AND 的 IF 语句：&#x3D;IF ( AND (x &#x3D; 1 , y &#x3D; 2), 8 , 3 )</p>\n</blockquote>\n<blockquote>\n<p>带有逻辑 OR 的 IF 语句： &#x3D;IF ( OR ( A &#x3D; 1 , B &#x3D; 3 ) , 8 , 3 )</p>\n</blockquote>\n<blockquote>\n<p>嵌套的 IF 语句：&#x3D;IF ( Length &lt; 35’ , 2’ 6” , IF ( Length &lt; 45’ , 3’ , IF ( Length &lt; 55’ , 5’ , 8’ ) ) )</p>\n</blockquote>\n<blockquote>\n<p>带有 Yes&#x2F;No 条件的 IF 语句：&#x3D;Length &gt; 40（请注意，条件和结果都是隐含的。）</p>\n</blockquote>\n<blockquote>\n<p>使用条件语句的示例<br>公式中条件语句的典型使用包括计算阵列值以及根据参数值控制图元的可见性。例如，可以将条件语句用于下列情况：</p>\n</blockquote>\n<blockquote>\n<p>防止阵列参数使用小于 2 的值。<br>在 Revit 中，阵列的值必须是大于或等于 2 的整数。在一些情况下，这对于创建保持阵列参数为 2（即使计算值为 1 或 0） 的条件公式是很有用的。使用这样的公式，如果计算的阵列值等于或大于 2，则公式将保留该值。但是，如果计算值为 1 或 0，则公式将把该值修改为 2。</p>\n</blockquote>\n<blockquote>\n<p>公式： Array number &#x3D; IF (Arrayparam &lt; 2, 2, Arrayparam)</p>\n</blockquote>\n<blockquote>\n<p>仅当窗灯光的数目大于 1 时，窗格条才可见。<br>例如，如果有一个要用于控制窗格条几何图形的可见性的 Lights 参数，则可以创建类似于 MuntinVis 的 Yes&#x2F;No 参数，并将其指定到窗格条几何图形的“图元属性”对话框中的“可见”参数。因为 MuntinVis 参数是 Yes&#x2F;No（或布尔）运算，条件 (IF) 和结果都是隐含的。在该实例中，当满足条件时（真），将选中 MuntinVis 参数值，且窗格条几何图形是可见的。反之，当不满足条件时（假），将清除 MuntinVis 参数，且窗格条几何图形是不可见的。</p>\n</blockquote>\n<blockquote>\n<p>公式： MuntinVis &#x3D; Lights &gt; 1</p>\n</blockquote>\n"},{"title":"让Pivot Headers在页面居中","date":"2020-01-03T11:01:24.000Z","_content":"\n想让所有的Header都在页面居中，于是找到了以下方法。 [找到答案的页面](https://stackoverflow.com/questions/37391884/align-pivot-header-items-in-center-of-the-page)\n\n通过修改Pivot的模板中的下面内容。其实就是在模板中搜索“HeaderClipper”，然后把`HorizontalContentAlignment=\"Stretch\"`改为`HorizontalContentAlignment=\"Center\"`。大功告成。\n\n```\n<!-- some code before -->\n<ContentControl x:Name=\"HeaderClipper\" Grid.Column=\"1\" HorizontalContentAlignment=\"Center\" UseSystemFocusVisuals=\"True\">\n<!-- some code before -->\n```","source":"_posts/UWP/align-pivot-header-items-in-center-of-the-page.md","raw":"---\ntitle: 让Pivot Headers在页面居中\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2020-01-03 19:01:24\n---\n\n想让所有的Header都在页面居中，于是找到了以下方法。 [找到答案的页面](https://stackoverflow.com/questions/37391884/align-pivot-header-items-in-center-of-the-page)\n\n通过修改Pivot的模板中的下面内容。其实就是在模板中搜索“HeaderClipper”，然后把`HorizontalContentAlignment=\"Stretch\"`改为`HorizontalContentAlignment=\"Center\"`。大功告成。\n\n```\n<!-- some code before -->\n<ContentControl x:Name=\"HeaderClipper\" Grid.Column=\"1\" HorizontalContentAlignment=\"Center\" UseSystemFocusVisuals=\"True\">\n<!-- some code before -->\n```","slug":"UWP/align-pivot-header-items-in-center-of-the-page","published":1,"updated":"2025-02-21T10:54:53.997Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1n000lews787p069rd","content":"<p>想让所有的Header都在页面居中，于是找到了以下方法。 <a href=\"https://stackoverflow.com/questions/37391884/align-pivot-header-items-in-center-of-the-page\">找到答案的页面</a></p>\n<p>通过修改Pivot的模板中的下面内容。其实就是在模板中搜索“HeaderClipper”，然后把<code>HorizontalContentAlignment=&quot;Stretch&quot;</code>改为<code>HorizontalContentAlignment=&quot;Center&quot;</code>。大功告成。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- some code before --&gt;</span><br><span class=\"line\">&lt;ContentControl x:Name=&quot;HeaderClipper&quot; Grid.Column=&quot;1&quot; HorizontalContentAlignment=&quot;Center&quot; UseSystemFocusVisuals=&quot;True&quot;&gt;</span><br><span class=\"line\">&lt;!-- some code before --&gt;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>想让所有的Header都在页面居中，于是找到了以下方法。 <a href=\"https://stackoverflow.com/questions/37391884/align-pivot-header-items-in-center-of-the-page\">找到答案的页面</a></p>\n<p>通过修改Pivot的模板中的下面内容。其实就是在模板中搜索“HeaderClipper”，然后把<code>HorizontalContentAlignment=&quot;Stretch&quot;</code>改为<code>HorizontalContentAlignment=&quot;Center&quot;</code>。大功告成。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- some code before --&gt;</span><br><span class=\"line\">&lt;ContentControl x:Name=&quot;HeaderClipper&quot; Grid.Column=&quot;1&quot; HorizontalContentAlignment=&quot;Center&quot; UseSystemFocusVisuals=&quot;True&quot;&gt;</span><br><span class=\"line\">&lt;!-- some code before --&gt;</span><br></pre></td></tr></table></figure>"},{"title":"Json一个key有多种数据类型情况的处理","date":"2020-03-06T19:01:56.000Z","_content":"\n描述的语言，暂且搁置。备忘。\n\n{\n\"itemList\": \\[{\n\"data\": {\n\"cover\": {\n\"feed\": \"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\",\n\"detail\": \"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\",\n\"blurred\": \"http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg\",\n\"sharing\": null,\n\"homepage\": null\n}\n}\n},\n{\n\"data\": {\n\"cover\": \"http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg\"\n}\n}\n\\]\n}\n\n```\n [JsonConverter(typeof(CoverConverter))]\n public Cover cover { get; set; }\n```\n\npublic class CoverConverter : JsonConverter\n    {\n        public override bool CanConvert(Type objectType) => false;\n\n        private Cover ParseValue(JToken value)\n        {\n            switch (value.Type)\n            {\n                case JTokenType.Object:\n                    return value.ToObject<Cover>();\n\n                default:\n                    return null;\n            }\n        }\n\n        public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n        {\n            switch (reader.TokenType)\n            {\n                case JsonToken.StartObject:\n                    return ParseValue(JToken.Load(reader));\n\n                default:\n                    return null;\n            }\n        }\n\n        public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n        {\n            throw new NotImplementedException();\n        }\n    }\n\n参考文章：[Deserialize JSON-File with multiple datatypes for a key](https://stackoverflow.com/questions/56206243/deserialize-json-file-with-multiple-datatypes-for-a-key)","source":"_posts/UWP/deserialize-json-file-with-multiple-datatypes-for-a-key.md","raw":"---\ntitle: Json一个key有多种数据类型情况的处理\ntags:\n  - Json\n  - Newtonsoft\ncategories:\n  - - 开发笔记\ndate: 2020-03-07 03:01:56\n---\n\n描述的语言，暂且搁置。备忘。\n\n{\n\"itemList\": \\[{\n\"data\": {\n\"cover\": {\n\"feed\": \"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\",\n\"detail\": \"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\",\n\"blurred\": \"http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg\",\n\"sharing\": null,\n\"homepage\": null\n}\n}\n},\n{\n\"data\": {\n\"cover\": \"http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg\"\n}\n}\n\\]\n}\n\n```\n [JsonConverter(typeof(CoverConverter))]\n public Cover cover { get; set; }\n```\n\npublic class CoverConverter : JsonConverter\n    {\n        public override bool CanConvert(Type objectType) => false;\n\n        private Cover ParseValue(JToken value)\n        {\n            switch (value.Type)\n            {\n                case JTokenType.Object:\n                    return value.ToObject<Cover>();\n\n                default:\n                    return null;\n            }\n        }\n\n        public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n        {\n            switch (reader.TokenType)\n            {\n                case JsonToken.StartObject:\n                    return ParseValue(JToken.Load(reader));\n\n                default:\n                    return null;\n            }\n        }\n\n        public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n        {\n            throw new NotImplementedException();\n        }\n    }\n\n参考文章：[Deserialize JSON-File with multiple datatypes for a key](https://stackoverflow.com/questions/56206243/deserialize-json-file-with-multiple-datatypes-for-a-key)","slug":"UWP/deserialize-json-file-with-multiple-datatypes-for-a-key","published":1,"updated":"2025-02-21T10:54:53.997Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1n000oews78m43cgfa","content":"<p>描述的语言，暂且搁置。备忘。</p>\n<p>{<br>“itemList”: [{<br>“data”: {<br>“cover”: {<br>“feed”: “<a href=\"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg</a>“,<br>“detail”: “<a href=\"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg</a>“,<br>“blurred”: “<a href=\"http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg</a>“,<br>“sharing”: null,<br>“homepage”: null<br>}<br>}<br>},<br>{<br>“data”: {<br>“cover”: “<a href=\"http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg</a>“<br>}<br>}<br>]<br>}</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[JsonConverter(typeof(CoverConverter))]</span><br><span class=\"line\">public Cover cover &#123; get; set; &#125;</span><br></pre></td></tr></table></figure>\n\n<p>public class CoverConverter : JsonConverter<br>    {<br>        public override bool CanConvert(Type objectType) &#x3D;&gt; false;</p>\n<pre><code>    private Cover ParseValue(JToken value)\n    &#123;\n        switch (value.Type)\n        &#123;\n            case JTokenType.Object:\n                return value.ToObject&lt;Cover&gt;();\n\n            default:\n                return null;\n        &#125;\n    &#125;\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    &#123;\n        switch (reader.TokenType)\n        &#123;\n            case JsonToken.StartObject:\n                return ParseValue(JToken.Load(reader));\n\n            default:\n                return null;\n        &#125;\n    &#125;\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    &#123;\n        throw new NotImplementedException();\n    &#125;\n&#125;\n</code></pre>\n<p>参考文章：<a href=\"https://stackoverflow.com/questions/56206243/deserialize-json-file-with-multiple-datatypes-for-a-key\">Deserialize JSON-File with multiple datatypes for a key</a></p>\n","excerpt":"","more":"<p>描述的语言，暂且搁置。备忘。</p>\n<p>{<br>“itemList”: [{<br>“data”: {<br>“cover”: {<br>“feed”: “<a href=\"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg</a>“,<br>“detail”: “<a href=\"http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/5186fe44e2e90bb0013cc86b9808b710.png?imageMogr2/quality/60/format/jpg</a>“,<br>“blurred”: “<a href=\"http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/81fc3c98ac4dcbc6c955cf3b1805f051.jpeg?imageMogr2/quality/60/format/jpg</a>“,<br>“sharing”: null,<br>“homepage”: null<br>}<br>}<br>},<br>{<br>“data”: {<br>“cover”: “<a href=\"http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg\">http://img.kaiyanapp.com/3bc8837d3320684bbc3607b82ff94761.jpeg?imageMogr2/quality/60/format/jpg</a>“<br>}<br>}<br>]<br>}</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[JsonConverter(typeof(CoverConverter))]</span><br><span class=\"line\">public Cover cover &#123; get; set; &#125;</span><br></pre></td></tr></table></figure>\n\n<p>public class CoverConverter : JsonConverter<br>    {<br>        public override bool CanConvert(Type objectType) &#x3D;&gt; false;</p>\n<pre><code>    private Cover ParseValue(JToken value)\n    &#123;\n        switch (value.Type)\n        &#123;\n            case JTokenType.Object:\n                return value.ToObject&lt;Cover&gt;();\n\n            default:\n                return null;\n        &#125;\n    &#125;\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    &#123;\n        switch (reader.TokenType)\n        &#123;\n            case JsonToken.StartObject:\n                return ParseValue(JToken.Load(reader));\n\n            default:\n                return null;\n        &#125;\n    &#125;\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    &#123;\n        throw new NotImplementedException();\n    &#125;\n&#125;\n</code></pre>\n<p>参考文章：<a href=\"https://stackoverflow.com/questions/56206243/deserialize-json-file-with-multiple-datatypes-for-a-key\">Deserialize JSON-File with multiple datatypes for a key</a></p>\n"},{"title":"如何修改PivotItem的Header的字体大小","date":"2019-03-19T08:10:22.000Z","_content":"\n在开发“[开眼UWP](https://www.microsoft.com/store/apps/9NPG6WJ98L88)”的时候，用到了Piovt，但PivotItem的默认Header字体太大。于是想去修改这个字体的大小。在Piovt的样式文件中找了好久都么找到对应的修改的地方。最后在stackoverflow上找到了下面wp8上用的修改方法。  \n[WP8: reduce the pivot page header size?](https://stackoverflow.com/questions/18463588/wp8-reduce-the-pivot-page-header-size)\n\n没想到在UWP上也是通用的。记录方法如下：\n\n```\n <Pivot.HeaderTemplate>\n        <DataTemplate>\n          <TextBlock Text=\"{Binding}\"\n                     FontSize=\"20\" />\n        </DataTemplate>\n </Pivot.HeaderTemplate>\n```\n\n好水...","source":"_posts/UWP/how-to-change-pivotitem-header-fontsize.md","raw":"---\ntitle: 如何修改PivotItem的Header的字体大小\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-03-19 16:10:22\n---\n\n在开发“[开眼UWP](https://www.microsoft.com/store/apps/9NPG6WJ98L88)”的时候，用到了Piovt，但PivotItem的默认Header字体太大。于是想去修改这个字体的大小。在Piovt的样式文件中找了好久都么找到对应的修改的地方。最后在stackoverflow上找到了下面wp8上用的修改方法。  \n[WP8: reduce the pivot page header size?](https://stackoverflow.com/questions/18463588/wp8-reduce-the-pivot-page-header-size)\n\n没想到在UWP上也是通用的。记录方法如下：\n\n```\n <Pivot.HeaderTemplate>\n        <DataTemplate>\n          <TextBlock Text=\"{Binding}\"\n                     FontSize=\"20\" />\n        </DataTemplate>\n </Pivot.HeaderTemplate>\n```\n\n好水...","slug":"UWP/how-to-change-pivotitem-header-fontsize","published":1,"updated":"2025-02-21T10:54:53.997Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1o000tews71sendbfw","content":"<p>在开发“<a href=\"https://www.microsoft.com/store/apps/9NPG6WJ98L88\">开眼UWP</a>”的时候，用到了Piovt，但PivotItem的默认Header字体太大。于是想去修改这个字体的大小。在Piovt的样式文件中找了好久都么找到对应的修改的地方。最后在stackoverflow上找到了下面wp8上用的修改方法。<br><a href=\"https://stackoverflow.com/questions/18463588/wp8-reduce-the-pivot-page-header-size\">WP8: reduce the pivot page header size?</a></p>\n<p>没想到在UWP上也是通用的。记录方法如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Pivot.HeaderTemplate&gt;</span><br><span class=\"line\">       &lt;DataTemplate&gt;</span><br><span class=\"line\">         &lt;TextBlock Text=&quot;&#123;Binding&#125;&quot;</span><br><span class=\"line\">                    FontSize=&quot;20&quot; /&gt;</span><br><span class=\"line\">       &lt;/DataTemplate&gt;</span><br><span class=\"line\">&lt;/Pivot.HeaderTemplate&gt;</span><br></pre></td></tr></table></figure>\n\n<p>好水…</p>\n","excerpt":"","more":"<p>在开发“<a href=\"https://www.microsoft.com/store/apps/9NPG6WJ98L88\">开眼UWP</a>”的时候，用到了Piovt，但PivotItem的默认Header字体太大。于是想去修改这个字体的大小。在Piovt的样式文件中找了好久都么找到对应的修改的地方。最后在stackoverflow上找到了下面wp8上用的修改方法。<br><a href=\"https://stackoverflow.com/questions/18463588/wp8-reduce-the-pivot-page-header-size\">WP8: reduce the pivot page header size?</a></p>\n<p>没想到在UWP上也是通用的。记录方法如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Pivot.HeaderTemplate&gt;</span><br><span class=\"line\">       &lt;DataTemplate&gt;</span><br><span class=\"line\">         &lt;TextBlock Text=&quot;&#123;Binding&#125;&quot;</span><br><span class=\"line\">                    FontSize=&quot;20&quot; /&gt;</span><br><span class=\"line\">       &lt;/DataTemplate&gt;</span><br><span class=\"line\">&lt;/Pivot.HeaderTemplate&gt;</span><br></pre></td></tr></table></figure>\n\n<p>好水…</p>\n"},{"title":"如何离线安装UWP应用","date":"2019-03-15T07:53:57.000Z","_content":"\n商店经常性会抽风，好多用户反映无法在商店下载和安装应用。这我也没办法啊，有的用户就回去打1星，然后描述为“垃圾软件，根本无法下载和安装”。真的很无奈，主动联系我的，我就发给他们离线包，但是好多人是不会怎么安装的，所以写这篇文章，记录一下具体的安装过程。\n\n## 方法一：直接安装\n\n**首先去设置-更新和安全-开发者选项-开启旁加载应用（可以参考方法2中开启开发者模式）**\n\n### 1、确认证书是否正确安装\n\n打开安装包内`.msixbundle` 后缀的文件\n\n![](https://22qyaa.sn.files.1drv.com/y4mEprkomj044HjG_rrIbnOw3IoFlkSsEzPegLxfL29YOKy2y4uDH-w88FdUJCRjT2Ax1OcZGR0UldodiufqPgXwdD0NYnG7KA8GXsZxvLkaxYe2b2Neq2FBAFEtu-wb2tgPAplr-BISMNezzB9hi0M4xw14PVteC2G_i6G6D-amO0W_IYR8RD7idfCOFyY0VQyjor6xbUyJfljE4asRUc5qw?width=822&height=329&cropmode=none)\n\n如果显示如下图所示，点安装等待完成即可。\n\n![](https://evtnrq.sn.files.1drv.com/y4m_IyT6PlsJv20fBqV5Lj5BtcqnPzS7nZi7WPpJmxwg7inzId-X1arPItvDTqkCHdKLy_OCT6Ke9p9735NEmPIA6K0Tk_MEdV_7DnpzyyMpADgYe65ozNbt_sebYXDiH-0TYHMmbQkIFoKPjc_yhTYzLPiAGGiWZFva87GSkQ6eqUKnLCruuSBsObXo1Pq_Bxz6hLlwAt_jcyW29a-KWVB4g?width=650&height=415&cropmode=none)\n\n### 2、证书未安装\n\n![](https://rmio6a.sn.files.1drv.com/y4moZG-tv0z6k5YarjyJ3cP-ka8K88QRJRpvxdcEYBFbPYYJ_UQ1CWCFmkZL3QI8NXQSOYFsc46GWKyWUmJgJK4dP1RlYT5QlsVy1XCOd1C-lLgW2XjX1JGnfkX1d2wwAU4FbwjQa7ThRCEacJfVncN7gzep1J33_S9831ola8KRN1GYSbhzFPXwvJp9ubgbr2CSArlzeWdGP5Tqb6jQ3jEcw?width=657&height=414&cropmode=none)\n\n右键安装包内`.cer` 后缀的文件，选择安装证书\n\n![](https://hpjuoa.sn.files.1drv.com/y4mKqGLFq9p0sde-pQvRpCoKoaw9o5AzXB7yxvzERu0fbox_kLWu3QU-0kTMU2NGVQ2LY4hSMmObnKdInWoK6BJwFCGopF6b8RmLPhYdmmhe0ErAqnj791JcX81O5JSxCNsLUNdIghfF5aLtF2v-vyfZimQSNTQb_QBsYHHmRrWy5Greuzzm91TnbI8eyME355bn7-38XVDEvx71wScBwM-Wg?width=800&height=388&cropmode=none)\n\n选择当前用户\n\n![](https://ulywqw.sn.files.1drv.com/y4m_xRDe9ibuKuE-XZOP4wD5c7m-cxWjlxgSDx3mbdo0Bll-S2uVjfraxXpz8cs1yqF89stxCoyHt0aC8XBPcTqsK4mHyX8PFieIqIWYlzBCzMJz3dtAtMhgS-tlFGgkjuOheLCnG8m0xGxJqadEZFJhOc86GTtoNmhIiGXHnN-oEwohX-PCN11esLazvl75OVwz95vTbMA094HO3O7m0IhPg?width=615&height=635&cropmode=none)\n\n按照下图说明操作\n\n![](https://pyfjuw.sn.files.1drv.com/y4mnsGRdowTZRNcu-OjREjBm2VBUkX9BrlGC1M41RAuV2_mqFqMgaoREGhv8W_eMIcOXBg6p7qamABZD9MVYhfhcKdmwX4RDztN32sc_BAEbMI36j4YTtwMvOJTH1J0iRh8VWB7jJaK5Q08TEQm8HdDqnuB5IaySiwr8q66S5JQh9BwgyQM5j-x8dOV2H1qY936IvsdVwI-mNW-iqEQIK33og?width=914&height=631&cropmode=none)\n\n然后点“完成”，提示导入成功，就完成了。重复1，继续安装应用。\n\n## 方法二：使用PowerShell\n\n### 1、开启开发者模式\n\n进入设置-更新和安全-开发者选项，打开开发者模式。\n\n![](https://jtjtmq.sn.files.1drv.com/y4mn5xXQQrIF_6_TMvwGx3ZYTRypEqkU4SjlxuRMJeNfuFlkkpVtWMvrwMtT8kZvI0qGZyevmzD6N4Tr0RwOw0RqbVNZrd2Aw9vD50zYT7EYxSdTNK0FHrY-KafpdY-7ruMjmnUqaP0Nzb9Qjhnuo7FGsi1ZKgcbUUHbb7PuZCwUhUw2Af3omVuw92SvVxsryEP2GRyz2yQiAtZEofLE6QsuQ?width=1216&height=941&cropmode=none)\n\n### 2、使用PowerShell安装\n\n找到安装包的“Add-AppDevPackage.ps1”，然后右键选择“使用PowerShell运行”。\n\n![](https://wub7ow.sn.files.1drv.com/y4m0BYtiWZzKqwHCATUBjpP5z4NOieSW05-VN8S7Boie0TkQUsv4XoyIb-fVuMYXlakiz-1WOOkmV8bUDw10GWpXfzAeVzTGlk5z1c7L88Png81TTA3TuCOfzQEmJJHntfT6c7gwgeN6Hy9GUw1KPfWsT2Nkbz2pyltxcLZbhSbY5apGnd5krn9TtD5-MTCfrIki-dMXHiuLg3ijmbwMNNkqQ?width=709&height=387&cropmode=none)\n\n![](https://ts0rha.sn.files.1drv.com/y4mJExxPtV4VN8zptn5FRnmce6iMruQoaRInsYk-kYC6-VuVt2sGlX2IndEbY_9fkrrCdYrCtkci-2I7faxM0r51gPRt_wf3iAUkrl_pGPRgobTKxb3yQeDXa04CsExNLQ7G8jaLWN_saEN7rk35uXm_-8AVRnycE_RmVTq3mi77Waq9KhEWzA_mj5IqNCm9xYzF7xHfeIy5lGJonQtMNLXvg?width=717&height=457&cropmode=none)\n\n### 3、执行策略更改\n\n提示需要修改执行策略，此处输入“A”，也就是全是\\[A\\]，然后回车。以后再安装就不需要修改这个了。\n\n![](https://hbzoyq.sn.files.1drv.com/y4mg0UZQ2yz9s0yDBIGpHr2dJyQ23bgvgI7giAxvzhNNyg5DXLtMhh4is60o5mnN-EeCrVlxYIT8LtV-BF67WfEuXxzjqJ1X45P99MYGghQiZfppSt8c1WFmCdklSCRgEL_5M4vnUQ2QZZ9qPuXRmsEwbayJMjJTqxmWXVAmedXMIc-CooGmn1OYrNI9-RMd-vW1Lr95Q2muS6H0p7gzwSYNA?width=1972&height=1556&cropmode=none)\n\n![](https://h4spba.sn.files.1drv.com/y4mn6MK5npB3-2W_-uN0EhiYraIttoUdsFModNcyNLQXBQYPnFFzyp-2-ZhdvLy0_cIsJVkc72se5O74fSIC63zSuE-thMBJBm5346zT7NU6RViX_LpFoNVuz7eq61jcItF6hbZPnS5OiytkBYqIXoUqP-fCF99ltWACw1dfoPnxNVBnuqUbQELdkiRIcTaUCQJpe1PZ6FAfqV_J2Lnepv5wA?width=1964&height=1560&cropmode=none)\n\n### 4、安装签名证书\n\n提示是否继续。此处选是，也就是输入“Y”，然后回车。此处会弹出账户控制，选是，即可安装证书。\n\n![](https://4lp7pq.sn.files.1drv.com/y4muDm3W92I9beO18DIlqTiWbUOgCS95TtR22zlYg2p7asNKLjdYd_gXxw9VR8RRmkidvxfnX1AdUcig07ox5_mPWwTjTC__NGFMwaVIx3PiyeefYy6P-HbCn5E-5HBF-BYVEhEjRLj1IQIclLxOUdalDLnkKn6KxS3sj1j69R8ccxfCoviRxOpewFXy2ptcAA5YAE0uCV5x4a7FJ_yZHnbmQ?width=1974&height=880&cropmode=none)\n\n![](https://s7hw4q.sn.files.1drv.com/y4mqS7GVMV8Xn9EXyUz0kumLBU1v6jBOuAj-vus0jBXa_jkrOOC-kE9dARm5pwWUXKH1KP15N-T0f87JVK13kpatBOs04cdOpRISI2kFRI-Hm9ClLWk5SsebT0BPKjOcCNnJH6oRoHq7c8NrodL2DRwTI3SNg9hdpG388J8xx2bAIEt0Ca6dy5rBQKNdJTi4_68YFdd0W1s-Xm5sRtejV521Q?width=4032&height=3024&cropmode=none)\n\n### 5、安装成功\n\n按回车结束，就完成了。  \nPS：文中截图不是一次截的，所以安装包路径会不同，无所谓了。\n\n![](https://getkpg.sn.files.1drv.com/y4mvta_8bVI1h5_H-RTi_u1ahhjyRcKq2Ne5digY7xCVrAwRnvQplS-XwHjdoZiNIaFTCbYLKIXYsZxAZU3YqNdj9hoMEuG3TlVClZNS-eaGSD9cD2WRHAKsE0nyrSAvn2cyoohC7-LcnFH8EJejdQbP6nkjczh528-Z9dFPE81r1oN5zsikxdsu61VE-RGHq33Hwp03kcmCEHhfQ257Kp64Q?width=1216&height=928&cropmode=none)","source":"_posts/UWP/how-to-install-uwp-application-offline.md","raw":"---\ntitle: 如何离线安装UWP应用\ntags:\n  - PowerShell\n  - UWP\n  - Win10\ncategories:\n  - - 开发笔记\ndate: 2019-03-15 15:53:57\n---\n\n商店经常性会抽风，好多用户反映无法在商店下载和安装应用。这我也没办法啊，有的用户就回去打1星，然后描述为“垃圾软件，根本无法下载和安装”。真的很无奈，主动联系我的，我就发给他们离线包，但是好多人是不会怎么安装的，所以写这篇文章，记录一下具体的安装过程。\n\n## 方法一：直接安装\n\n**首先去设置-更新和安全-开发者选项-开启旁加载应用（可以参考方法2中开启开发者模式）**\n\n### 1、确认证书是否正确安装\n\n打开安装包内`.msixbundle` 后缀的文件\n\n![](https://22qyaa.sn.files.1drv.com/y4mEprkomj044HjG_rrIbnOw3IoFlkSsEzPegLxfL29YOKy2y4uDH-w88FdUJCRjT2Ax1OcZGR0UldodiufqPgXwdD0NYnG7KA8GXsZxvLkaxYe2b2Neq2FBAFEtu-wb2tgPAplr-BISMNezzB9hi0M4xw14PVteC2G_i6G6D-amO0W_IYR8RD7idfCOFyY0VQyjor6xbUyJfljE4asRUc5qw?width=822&height=329&cropmode=none)\n\n如果显示如下图所示，点安装等待完成即可。\n\n![](https://evtnrq.sn.files.1drv.com/y4m_IyT6PlsJv20fBqV5Lj5BtcqnPzS7nZi7WPpJmxwg7inzId-X1arPItvDTqkCHdKLy_OCT6Ke9p9735NEmPIA6K0Tk_MEdV_7DnpzyyMpADgYe65ozNbt_sebYXDiH-0TYHMmbQkIFoKPjc_yhTYzLPiAGGiWZFva87GSkQ6eqUKnLCruuSBsObXo1Pq_Bxz6hLlwAt_jcyW29a-KWVB4g?width=650&height=415&cropmode=none)\n\n### 2、证书未安装\n\n![](https://rmio6a.sn.files.1drv.com/y4moZG-tv0z6k5YarjyJ3cP-ka8K88QRJRpvxdcEYBFbPYYJ_UQ1CWCFmkZL3QI8NXQSOYFsc46GWKyWUmJgJK4dP1RlYT5QlsVy1XCOd1C-lLgW2XjX1JGnfkX1d2wwAU4FbwjQa7ThRCEacJfVncN7gzep1J33_S9831ola8KRN1GYSbhzFPXwvJp9ubgbr2CSArlzeWdGP5Tqb6jQ3jEcw?width=657&height=414&cropmode=none)\n\n右键安装包内`.cer` 后缀的文件，选择安装证书\n\n![](https://hpjuoa.sn.files.1drv.com/y4mKqGLFq9p0sde-pQvRpCoKoaw9o5AzXB7yxvzERu0fbox_kLWu3QU-0kTMU2NGVQ2LY4hSMmObnKdInWoK6BJwFCGopF6b8RmLPhYdmmhe0ErAqnj791JcX81O5JSxCNsLUNdIghfF5aLtF2v-vyfZimQSNTQb_QBsYHHmRrWy5Greuzzm91TnbI8eyME355bn7-38XVDEvx71wScBwM-Wg?width=800&height=388&cropmode=none)\n\n选择当前用户\n\n![](https://ulywqw.sn.files.1drv.com/y4m_xRDe9ibuKuE-XZOP4wD5c7m-cxWjlxgSDx3mbdo0Bll-S2uVjfraxXpz8cs1yqF89stxCoyHt0aC8XBPcTqsK4mHyX8PFieIqIWYlzBCzMJz3dtAtMhgS-tlFGgkjuOheLCnG8m0xGxJqadEZFJhOc86GTtoNmhIiGXHnN-oEwohX-PCN11esLazvl75OVwz95vTbMA094HO3O7m0IhPg?width=615&height=635&cropmode=none)\n\n按照下图说明操作\n\n![](https://pyfjuw.sn.files.1drv.com/y4mnsGRdowTZRNcu-OjREjBm2VBUkX9BrlGC1M41RAuV2_mqFqMgaoREGhv8W_eMIcOXBg6p7qamABZD9MVYhfhcKdmwX4RDztN32sc_BAEbMI36j4YTtwMvOJTH1J0iRh8VWB7jJaK5Q08TEQm8HdDqnuB5IaySiwr8q66S5JQh9BwgyQM5j-x8dOV2H1qY936IvsdVwI-mNW-iqEQIK33og?width=914&height=631&cropmode=none)\n\n然后点“完成”，提示导入成功，就完成了。重复1，继续安装应用。\n\n## 方法二：使用PowerShell\n\n### 1、开启开发者模式\n\n进入设置-更新和安全-开发者选项，打开开发者模式。\n\n![](https://jtjtmq.sn.files.1drv.com/y4mn5xXQQrIF_6_TMvwGx3ZYTRypEqkU4SjlxuRMJeNfuFlkkpVtWMvrwMtT8kZvI0qGZyevmzD6N4Tr0RwOw0RqbVNZrd2Aw9vD50zYT7EYxSdTNK0FHrY-KafpdY-7ruMjmnUqaP0Nzb9Qjhnuo7FGsi1ZKgcbUUHbb7PuZCwUhUw2Af3omVuw92SvVxsryEP2GRyz2yQiAtZEofLE6QsuQ?width=1216&height=941&cropmode=none)\n\n### 2、使用PowerShell安装\n\n找到安装包的“Add-AppDevPackage.ps1”，然后右键选择“使用PowerShell运行”。\n\n![](https://wub7ow.sn.files.1drv.com/y4m0BYtiWZzKqwHCATUBjpP5z4NOieSW05-VN8S7Boie0TkQUsv4XoyIb-fVuMYXlakiz-1WOOkmV8bUDw10GWpXfzAeVzTGlk5z1c7L88Png81TTA3TuCOfzQEmJJHntfT6c7gwgeN6Hy9GUw1KPfWsT2Nkbz2pyltxcLZbhSbY5apGnd5krn9TtD5-MTCfrIki-dMXHiuLg3ijmbwMNNkqQ?width=709&height=387&cropmode=none)\n\n![](https://ts0rha.sn.files.1drv.com/y4mJExxPtV4VN8zptn5FRnmce6iMruQoaRInsYk-kYC6-VuVt2sGlX2IndEbY_9fkrrCdYrCtkci-2I7faxM0r51gPRt_wf3iAUkrl_pGPRgobTKxb3yQeDXa04CsExNLQ7G8jaLWN_saEN7rk35uXm_-8AVRnycE_RmVTq3mi77Waq9KhEWzA_mj5IqNCm9xYzF7xHfeIy5lGJonQtMNLXvg?width=717&height=457&cropmode=none)\n\n### 3、执行策略更改\n\n提示需要修改执行策略，此处输入“A”，也就是全是\\[A\\]，然后回车。以后再安装就不需要修改这个了。\n\n![](https://hbzoyq.sn.files.1drv.com/y4mg0UZQ2yz9s0yDBIGpHr2dJyQ23bgvgI7giAxvzhNNyg5DXLtMhh4is60o5mnN-EeCrVlxYIT8LtV-BF67WfEuXxzjqJ1X45P99MYGghQiZfppSt8c1WFmCdklSCRgEL_5M4vnUQ2QZZ9qPuXRmsEwbayJMjJTqxmWXVAmedXMIc-CooGmn1OYrNI9-RMd-vW1Lr95Q2muS6H0p7gzwSYNA?width=1972&height=1556&cropmode=none)\n\n![](https://h4spba.sn.files.1drv.com/y4mn6MK5npB3-2W_-uN0EhiYraIttoUdsFModNcyNLQXBQYPnFFzyp-2-ZhdvLy0_cIsJVkc72se5O74fSIC63zSuE-thMBJBm5346zT7NU6RViX_LpFoNVuz7eq61jcItF6hbZPnS5OiytkBYqIXoUqP-fCF99ltWACw1dfoPnxNVBnuqUbQELdkiRIcTaUCQJpe1PZ6FAfqV_J2Lnepv5wA?width=1964&height=1560&cropmode=none)\n\n### 4、安装签名证书\n\n提示是否继续。此处选是，也就是输入“Y”，然后回车。此处会弹出账户控制，选是，即可安装证书。\n\n![](https://4lp7pq.sn.files.1drv.com/y4muDm3W92I9beO18DIlqTiWbUOgCS95TtR22zlYg2p7asNKLjdYd_gXxw9VR8RRmkidvxfnX1AdUcig07ox5_mPWwTjTC__NGFMwaVIx3PiyeefYy6P-HbCn5E-5HBF-BYVEhEjRLj1IQIclLxOUdalDLnkKn6KxS3sj1j69R8ccxfCoviRxOpewFXy2ptcAA5YAE0uCV5x4a7FJ_yZHnbmQ?width=1974&height=880&cropmode=none)\n\n![](https://s7hw4q.sn.files.1drv.com/y4mqS7GVMV8Xn9EXyUz0kumLBU1v6jBOuAj-vus0jBXa_jkrOOC-kE9dARm5pwWUXKH1KP15N-T0f87JVK13kpatBOs04cdOpRISI2kFRI-Hm9ClLWk5SsebT0BPKjOcCNnJH6oRoHq7c8NrodL2DRwTI3SNg9hdpG388J8xx2bAIEt0Ca6dy5rBQKNdJTi4_68YFdd0W1s-Xm5sRtejV521Q?width=4032&height=3024&cropmode=none)\n\n### 5、安装成功\n\n按回车结束，就完成了。  \nPS：文中截图不是一次截的，所以安装包路径会不同，无所谓了。\n\n![](https://getkpg.sn.files.1drv.com/y4mvta_8bVI1h5_H-RTi_u1ahhjyRcKq2Ne5digY7xCVrAwRnvQplS-XwHjdoZiNIaFTCbYLKIXYsZxAZU3YqNdj9hoMEuG3TlVClZNS-eaGSD9cD2WRHAKsE0nyrSAvn2cyoohC7-LcnFH8EJejdQbP6nkjczh528-Z9dFPE81r1oN5zsikxdsu61VE-RGHq33Hwp03kcmCEHhfQ257Kp64Q?width=1216&height=928&cropmode=none)","slug":"UWP/how-to-install-uwp-application-offline","published":1,"updated":"2025-02-21T10:54:53.998Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1p000vews70dvldg4l","content":"<p>商店经常性会抽风，好多用户反映无法在商店下载和安装应用。这我也没办法啊，有的用户就回去打1星，然后描述为“垃圾软件，根本无法下载和安装”。真的很无奈，主动联系我的，我就发给他们离线包，但是好多人是不会怎么安装的，所以写这篇文章，记录一下具体的安装过程。</p>\n<h2 id=\"方法一：直接安装\"><a href=\"#方法一：直接安装\" class=\"headerlink\" title=\"方法一：直接安装\"></a>方法一：直接安装</h2><p><strong>首先去设置-更新和安全-开发者选项-开启旁加载应用（可以参考方法2中开启开发者模式）</strong></p>\n<h3 id=\"1、确认证书是否正确安装\"><a href=\"#1、确认证书是否正确安装\" class=\"headerlink\" title=\"1、确认证书是否正确安装\"></a>1、确认证书是否正确安装</h3><p>打开安装包内<code>.msixbundle</code> 后缀的文件</p>\n<p><img src=\"https://22qyaa.sn.files.1drv.com/y4mEprkomj044HjG_rrIbnOw3IoFlkSsEzPegLxfL29YOKy2y4uDH-w88FdUJCRjT2Ax1OcZGR0UldodiufqPgXwdD0NYnG7KA8GXsZxvLkaxYe2b2Neq2FBAFEtu-wb2tgPAplr-BISMNezzB9hi0M4xw14PVteC2G_i6G6D-amO0W_IYR8RD7idfCOFyY0VQyjor6xbUyJfljE4asRUc5qw?width=822&height=329&cropmode=none\"></p>\n<p>如果显示如下图所示，点安装等待完成即可。</p>\n<p><img src=\"https://evtnrq.sn.files.1drv.com/y4m_IyT6PlsJv20fBqV5Lj5BtcqnPzS7nZi7WPpJmxwg7inzId-X1arPItvDTqkCHdKLy_OCT6Ke9p9735NEmPIA6K0Tk_MEdV_7DnpzyyMpADgYe65ozNbt_sebYXDiH-0TYHMmbQkIFoKPjc_yhTYzLPiAGGiWZFva87GSkQ6eqUKnLCruuSBsObXo1Pq_Bxz6hLlwAt_jcyW29a-KWVB4g?width=650&height=415&cropmode=none\"></p>\n<h3 id=\"2、证书未安装\"><a href=\"#2、证书未安装\" class=\"headerlink\" title=\"2、证书未安装\"></a>2、证书未安装</h3><p><img src=\"https://rmio6a.sn.files.1drv.com/y4moZG-tv0z6k5YarjyJ3cP-ka8K88QRJRpvxdcEYBFbPYYJ_UQ1CWCFmkZL3QI8NXQSOYFsc46GWKyWUmJgJK4dP1RlYT5QlsVy1XCOd1C-lLgW2XjX1JGnfkX1d2wwAU4FbwjQa7ThRCEacJfVncN7gzep1J33_S9831ola8KRN1GYSbhzFPXwvJp9ubgbr2CSArlzeWdGP5Tqb6jQ3jEcw?width=657&height=414&cropmode=none\"></p>\n<p>右键安装包内<code>.cer</code> 后缀的文件，选择安装证书</p>\n<p><img src=\"https://hpjuoa.sn.files.1drv.com/y4mKqGLFq9p0sde-pQvRpCoKoaw9o5AzXB7yxvzERu0fbox_kLWu3QU-0kTMU2NGVQ2LY4hSMmObnKdInWoK6BJwFCGopF6b8RmLPhYdmmhe0ErAqnj791JcX81O5JSxCNsLUNdIghfF5aLtF2v-vyfZimQSNTQb_QBsYHHmRrWy5Greuzzm91TnbI8eyME355bn7-38XVDEvx71wScBwM-Wg?width=800&height=388&cropmode=none\"></p>\n<p>选择当前用户</p>\n<p><img src=\"https://ulywqw.sn.files.1drv.com/y4m_xRDe9ibuKuE-XZOP4wD5c7m-cxWjlxgSDx3mbdo0Bll-S2uVjfraxXpz8cs1yqF89stxCoyHt0aC8XBPcTqsK4mHyX8PFieIqIWYlzBCzMJz3dtAtMhgS-tlFGgkjuOheLCnG8m0xGxJqadEZFJhOc86GTtoNmhIiGXHnN-oEwohX-PCN11esLazvl75OVwz95vTbMA094HO3O7m0IhPg?width=615&height=635&cropmode=none\"></p>\n<p>按照下图说明操作</p>\n<p><img src=\"https://pyfjuw.sn.files.1drv.com/y4mnsGRdowTZRNcu-OjREjBm2VBUkX9BrlGC1M41RAuV2_mqFqMgaoREGhv8W_eMIcOXBg6p7qamABZD9MVYhfhcKdmwX4RDztN32sc_BAEbMI36j4YTtwMvOJTH1J0iRh8VWB7jJaK5Q08TEQm8HdDqnuB5IaySiwr8q66S5JQh9BwgyQM5j-x8dOV2H1qY936IvsdVwI-mNW-iqEQIK33og?width=914&height=631&cropmode=none\"></p>\n<p>然后点“完成”，提示导入成功，就完成了。重复1，继续安装应用。</p>\n<h2 id=\"方法二：使用PowerShell\"><a href=\"#方法二：使用PowerShell\" class=\"headerlink\" title=\"方法二：使用PowerShell\"></a>方法二：使用PowerShell</h2><h3 id=\"1、开启开发者模式\"><a href=\"#1、开启开发者模式\" class=\"headerlink\" title=\"1、开启开发者模式\"></a>1、开启开发者模式</h3><p>进入设置-更新和安全-开发者选项，打开开发者模式。</p>\n<p><img src=\"https://jtjtmq.sn.files.1drv.com/y4mn5xXQQrIF_6_TMvwGx3ZYTRypEqkU4SjlxuRMJeNfuFlkkpVtWMvrwMtT8kZvI0qGZyevmzD6N4Tr0RwOw0RqbVNZrd2Aw9vD50zYT7EYxSdTNK0FHrY-KafpdY-7ruMjmnUqaP0Nzb9Qjhnuo7FGsi1ZKgcbUUHbb7PuZCwUhUw2Af3omVuw92SvVxsryEP2GRyz2yQiAtZEofLE6QsuQ?width=1216&height=941&cropmode=none\"></p>\n<h3 id=\"2、使用PowerShell安装\"><a href=\"#2、使用PowerShell安装\" class=\"headerlink\" title=\"2、使用PowerShell安装\"></a>2、使用PowerShell安装</h3><p>找到安装包的“Add-AppDevPackage.ps1”，然后右键选择“使用PowerShell运行”。</p>\n<p><img src=\"https://wub7ow.sn.files.1drv.com/y4m0BYtiWZzKqwHCATUBjpP5z4NOieSW05-VN8S7Boie0TkQUsv4XoyIb-fVuMYXlakiz-1WOOkmV8bUDw10GWpXfzAeVzTGlk5z1c7L88Png81TTA3TuCOfzQEmJJHntfT6c7gwgeN6Hy9GUw1KPfWsT2Nkbz2pyltxcLZbhSbY5apGnd5krn9TtD5-MTCfrIki-dMXHiuLg3ijmbwMNNkqQ?width=709&height=387&cropmode=none\"></p>\n<p><img src=\"https://ts0rha.sn.files.1drv.com/y4mJExxPtV4VN8zptn5FRnmce6iMruQoaRInsYk-kYC6-VuVt2sGlX2IndEbY_9fkrrCdYrCtkci-2I7faxM0r51gPRt_wf3iAUkrl_pGPRgobTKxb3yQeDXa04CsExNLQ7G8jaLWN_saEN7rk35uXm_-8AVRnycE_RmVTq3mi77Waq9KhEWzA_mj5IqNCm9xYzF7xHfeIy5lGJonQtMNLXvg?width=717&height=457&cropmode=none\"></p>\n<h3 id=\"3、执行策略更改\"><a href=\"#3、执行策略更改\" class=\"headerlink\" title=\"3、执行策略更改\"></a>3、执行策略更改</h3><p>提示需要修改执行策略，此处输入“A”，也就是全是[A]，然后回车。以后再安装就不需要修改这个了。</p>\n<p><img src=\"https://hbzoyq.sn.files.1drv.com/y4mg0UZQ2yz9s0yDBIGpHr2dJyQ23bgvgI7giAxvzhNNyg5DXLtMhh4is60o5mnN-EeCrVlxYIT8LtV-BF67WfEuXxzjqJ1X45P99MYGghQiZfppSt8c1WFmCdklSCRgEL_5M4vnUQ2QZZ9qPuXRmsEwbayJMjJTqxmWXVAmedXMIc-CooGmn1OYrNI9-RMd-vW1Lr95Q2muS6H0p7gzwSYNA?width=1972&height=1556&cropmode=none\"></p>\n<p><img src=\"https://h4spba.sn.files.1drv.com/y4mn6MK5npB3-2W_-uN0EhiYraIttoUdsFModNcyNLQXBQYPnFFzyp-2-ZhdvLy0_cIsJVkc72se5O74fSIC63zSuE-thMBJBm5346zT7NU6RViX_LpFoNVuz7eq61jcItF6hbZPnS5OiytkBYqIXoUqP-fCF99ltWACw1dfoPnxNVBnuqUbQELdkiRIcTaUCQJpe1PZ6FAfqV_J2Lnepv5wA?width=1964&height=1560&cropmode=none\"></p>\n<h3 id=\"4、安装签名证书\"><a href=\"#4、安装签名证书\" class=\"headerlink\" title=\"4、安装签名证书\"></a>4、安装签名证书</h3><p>提示是否继续。此处选是，也就是输入“Y”，然后回车。此处会弹出账户控制，选是，即可安装证书。</p>\n<p><img src=\"https://4lp7pq.sn.files.1drv.com/y4muDm3W92I9beO18DIlqTiWbUOgCS95TtR22zlYg2p7asNKLjdYd_gXxw9VR8RRmkidvxfnX1AdUcig07ox5_mPWwTjTC__NGFMwaVIx3PiyeefYy6P-HbCn5E-5HBF-BYVEhEjRLj1IQIclLxOUdalDLnkKn6KxS3sj1j69R8ccxfCoviRxOpewFXy2ptcAA5YAE0uCV5x4a7FJ_yZHnbmQ?width=1974&height=880&cropmode=none\"></p>\n<p><img src=\"https://s7hw4q.sn.files.1drv.com/y4mqS7GVMV8Xn9EXyUz0kumLBU1v6jBOuAj-vus0jBXa_jkrOOC-kE9dARm5pwWUXKH1KP15N-T0f87JVK13kpatBOs04cdOpRISI2kFRI-Hm9ClLWk5SsebT0BPKjOcCNnJH6oRoHq7c8NrodL2DRwTI3SNg9hdpG388J8xx2bAIEt0Ca6dy5rBQKNdJTi4_68YFdd0W1s-Xm5sRtejV521Q?width=4032&height=3024&cropmode=none\"></p>\n<h3 id=\"5、安装成功\"><a href=\"#5、安装成功\" class=\"headerlink\" title=\"5、安装成功\"></a>5、安装成功</h3><p>按回车结束，就完成了。<br>PS：文中截图不是一次截的，所以安装包路径会不同，无所谓了。</p>\n<p><img src=\"https://getkpg.sn.files.1drv.com/y4mvta_8bVI1h5_H-RTi_u1ahhjyRcKq2Ne5digY7xCVrAwRnvQplS-XwHjdoZiNIaFTCbYLKIXYsZxAZU3YqNdj9hoMEuG3TlVClZNS-eaGSD9cD2WRHAKsE0nyrSAvn2cyoohC7-LcnFH8EJejdQbP6nkjczh528-Z9dFPE81r1oN5zsikxdsu61VE-RGHq33Hwp03kcmCEHhfQ257Kp64Q?width=1216&height=928&cropmode=none\"></p>\n","excerpt":"","more":"<p>商店经常性会抽风，好多用户反映无法在商店下载和安装应用。这我也没办法啊，有的用户就回去打1星，然后描述为“垃圾软件，根本无法下载和安装”。真的很无奈，主动联系我的，我就发给他们离线包，但是好多人是不会怎么安装的，所以写这篇文章，记录一下具体的安装过程。</p>\n<h2 id=\"方法一：直接安装\"><a href=\"#方法一：直接安装\" class=\"headerlink\" title=\"方法一：直接安装\"></a>方法一：直接安装</h2><p><strong>首先去设置-更新和安全-开发者选项-开启旁加载应用（可以参考方法2中开启开发者模式）</strong></p>\n<h3 id=\"1、确认证书是否正确安装\"><a href=\"#1、确认证书是否正确安装\" class=\"headerlink\" title=\"1、确认证书是否正确安装\"></a>1、确认证书是否正确安装</h3><p>打开安装包内<code>.msixbundle</code> 后缀的文件</p>\n<p><img src=\"https://22qyaa.sn.files.1drv.com/y4mEprkomj044HjG_rrIbnOw3IoFlkSsEzPegLxfL29YOKy2y4uDH-w88FdUJCRjT2Ax1OcZGR0UldodiufqPgXwdD0NYnG7KA8GXsZxvLkaxYe2b2Neq2FBAFEtu-wb2tgPAplr-BISMNezzB9hi0M4xw14PVteC2G_i6G6D-amO0W_IYR8RD7idfCOFyY0VQyjor6xbUyJfljE4asRUc5qw?width=822&height=329&cropmode=none\"></p>\n<p>如果显示如下图所示，点安装等待完成即可。</p>\n<p><img src=\"https://evtnrq.sn.files.1drv.com/y4m_IyT6PlsJv20fBqV5Lj5BtcqnPzS7nZi7WPpJmxwg7inzId-X1arPItvDTqkCHdKLy_OCT6Ke9p9735NEmPIA6K0Tk_MEdV_7DnpzyyMpADgYe65ozNbt_sebYXDiH-0TYHMmbQkIFoKPjc_yhTYzLPiAGGiWZFva87GSkQ6eqUKnLCruuSBsObXo1Pq_Bxz6hLlwAt_jcyW29a-KWVB4g?width=650&height=415&cropmode=none\"></p>\n<h3 id=\"2、证书未安装\"><a href=\"#2、证书未安装\" class=\"headerlink\" title=\"2、证书未安装\"></a>2、证书未安装</h3><p><img src=\"https://rmio6a.sn.files.1drv.com/y4moZG-tv0z6k5YarjyJ3cP-ka8K88QRJRpvxdcEYBFbPYYJ_UQ1CWCFmkZL3QI8NXQSOYFsc46GWKyWUmJgJK4dP1RlYT5QlsVy1XCOd1C-lLgW2XjX1JGnfkX1d2wwAU4FbwjQa7ThRCEacJfVncN7gzep1J33_S9831ola8KRN1GYSbhzFPXwvJp9ubgbr2CSArlzeWdGP5Tqb6jQ3jEcw?width=657&height=414&cropmode=none\"></p>\n<p>右键安装包内<code>.cer</code> 后缀的文件，选择安装证书</p>\n<p><img src=\"https://hpjuoa.sn.files.1drv.com/y4mKqGLFq9p0sde-pQvRpCoKoaw9o5AzXB7yxvzERu0fbox_kLWu3QU-0kTMU2NGVQ2LY4hSMmObnKdInWoK6BJwFCGopF6b8RmLPhYdmmhe0ErAqnj791JcX81O5JSxCNsLUNdIghfF5aLtF2v-vyfZimQSNTQb_QBsYHHmRrWy5Greuzzm91TnbI8eyME355bn7-38XVDEvx71wScBwM-Wg?width=800&height=388&cropmode=none\"></p>\n<p>选择当前用户</p>\n<p><img src=\"https://ulywqw.sn.files.1drv.com/y4m_xRDe9ibuKuE-XZOP4wD5c7m-cxWjlxgSDx3mbdo0Bll-S2uVjfraxXpz8cs1yqF89stxCoyHt0aC8XBPcTqsK4mHyX8PFieIqIWYlzBCzMJz3dtAtMhgS-tlFGgkjuOheLCnG8m0xGxJqadEZFJhOc86GTtoNmhIiGXHnN-oEwohX-PCN11esLazvl75OVwz95vTbMA094HO3O7m0IhPg?width=615&height=635&cropmode=none\"></p>\n<p>按照下图说明操作</p>\n<p><img src=\"https://pyfjuw.sn.files.1drv.com/y4mnsGRdowTZRNcu-OjREjBm2VBUkX9BrlGC1M41RAuV2_mqFqMgaoREGhv8W_eMIcOXBg6p7qamABZD9MVYhfhcKdmwX4RDztN32sc_BAEbMI36j4YTtwMvOJTH1J0iRh8VWB7jJaK5Q08TEQm8HdDqnuB5IaySiwr8q66S5JQh9BwgyQM5j-x8dOV2H1qY936IvsdVwI-mNW-iqEQIK33og?width=914&height=631&cropmode=none\"></p>\n<p>然后点“完成”，提示导入成功，就完成了。重复1，继续安装应用。</p>\n<h2 id=\"方法二：使用PowerShell\"><a href=\"#方法二：使用PowerShell\" class=\"headerlink\" title=\"方法二：使用PowerShell\"></a>方法二：使用PowerShell</h2><h3 id=\"1、开启开发者模式\"><a href=\"#1、开启开发者模式\" class=\"headerlink\" title=\"1、开启开发者模式\"></a>1、开启开发者模式</h3><p>进入设置-更新和安全-开发者选项，打开开发者模式。</p>\n<p><img src=\"https://jtjtmq.sn.files.1drv.com/y4mn5xXQQrIF_6_TMvwGx3ZYTRypEqkU4SjlxuRMJeNfuFlkkpVtWMvrwMtT8kZvI0qGZyevmzD6N4Tr0RwOw0RqbVNZrd2Aw9vD50zYT7EYxSdTNK0FHrY-KafpdY-7ruMjmnUqaP0Nzb9Qjhnuo7FGsi1ZKgcbUUHbb7PuZCwUhUw2Af3omVuw92SvVxsryEP2GRyz2yQiAtZEofLE6QsuQ?width=1216&height=941&cropmode=none\"></p>\n<h3 id=\"2、使用PowerShell安装\"><a href=\"#2、使用PowerShell安装\" class=\"headerlink\" title=\"2、使用PowerShell安装\"></a>2、使用PowerShell安装</h3><p>找到安装包的“Add-AppDevPackage.ps1”，然后右键选择“使用PowerShell运行”。</p>\n<p><img src=\"https://wub7ow.sn.files.1drv.com/y4m0BYtiWZzKqwHCATUBjpP5z4NOieSW05-VN8S7Boie0TkQUsv4XoyIb-fVuMYXlakiz-1WOOkmV8bUDw10GWpXfzAeVzTGlk5z1c7L88Png81TTA3TuCOfzQEmJJHntfT6c7gwgeN6Hy9GUw1KPfWsT2Nkbz2pyltxcLZbhSbY5apGnd5krn9TtD5-MTCfrIki-dMXHiuLg3ijmbwMNNkqQ?width=709&height=387&cropmode=none\"></p>\n<p><img src=\"https://ts0rha.sn.files.1drv.com/y4mJExxPtV4VN8zptn5FRnmce6iMruQoaRInsYk-kYC6-VuVt2sGlX2IndEbY_9fkrrCdYrCtkci-2I7faxM0r51gPRt_wf3iAUkrl_pGPRgobTKxb3yQeDXa04CsExNLQ7G8jaLWN_saEN7rk35uXm_-8AVRnycE_RmVTq3mi77Waq9KhEWzA_mj5IqNCm9xYzF7xHfeIy5lGJonQtMNLXvg?width=717&height=457&cropmode=none\"></p>\n<h3 id=\"3、执行策略更改\"><a href=\"#3、执行策略更改\" class=\"headerlink\" title=\"3、执行策略更改\"></a>3、执行策略更改</h3><p>提示需要修改执行策略，此处输入“A”，也就是全是[A]，然后回车。以后再安装就不需要修改这个了。</p>\n<p><img src=\"https://hbzoyq.sn.files.1drv.com/y4mg0UZQ2yz9s0yDBIGpHr2dJyQ23bgvgI7giAxvzhNNyg5DXLtMhh4is60o5mnN-EeCrVlxYIT8LtV-BF67WfEuXxzjqJ1X45P99MYGghQiZfppSt8c1WFmCdklSCRgEL_5M4vnUQ2QZZ9qPuXRmsEwbayJMjJTqxmWXVAmedXMIc-CooGmn1OYrNI9-RMd-vW1Lr95Q2muS6H0p7gzwSYNA?width=1972&height=1556&cropmode=none\"></p>\n<p><img src=\"https://h4spba.sn.files.1drv.com/y4mn6MK5npB3-2W_-uN0EhiYraIttoUdsFModNcyNLQXBQYPnFFzyp-2-ZhdvLy0_cIsJVkc72se5O74fSIC63zSuE-thMBJBm5346zT7NU6RViX_LpFoNVuz7eq61jcItF6hbZPnS5OiytkBYqIXoUqP-fCF99ltWACw1dfoPnxNVBnuqUbQELdkiRIcTaUCQJpe1PZ6FAfqV_J2Lnepv5wA?width=1964&height=1560&cropmode=none\"></p>\n<h3 id=\"4、安装签名证书\"><a href=\"#4、安装签名证书\" class=\"headerlink\" title=\"4、安装签名证书\"></a>4、安装签名证书</h3><p>提示是否继续。此处选是，也就是输入“Y”，然后回车。此处会弹出账户控制，选是，即可安装证书。</p>\n<p><img src=\"https://4lp7pq.sn.files.1drv.com/y4muDm3W92I9beO18DIlqTiWbUOgCS95TtR22zlYg2p7asNKLjdYd_gXxw9VR8RRmkidvxfnX1AdUcig07ox5_mPWwTjTC__NGFMwaVIx3PiyeefYy6P-HbCn5E-5HBF-BYVEhEjRLj1IQIclLxOUdalDLnkKn6KxS3sj1j69R8ccxfCoviRxOpewFXy2ptcAA5YAE0uCV5x4a7FJ_yZHnbmQ?width=1974&height=880&cropmode=none\"></p>\n<p><img src=\"https://s7hw4q.sn.files.1drv.com/y4mqS7GVMV8Xn9EXyUz0kumLBU1v6jBOuAj-vus0jBXa_jkrOOC-kE9dARm5pwWUXKH1KP15N-T0f87JVK13kpatBOs04cdOpRISI2kFRI-Hm9ClLWk5SsebT0BPKjOcCNnJH6oRoHq7c8NrodL2DRwTI3SNg9hdpG388J8xx2bAIEt0Ca6dy5rBQKNdJTi4_68YFdd0W1s-Xm5sRtejV521Q?width=4032&height=3024&cropmode=none\"></p>\n<h3 id=\"5、安装成功\"><a href=\"#5、安装成功\" class=\"headerlink\" title=\"5、安装成功\"></a>5、安装成功</h3><p>按回车结束，就完成了。<br>PS：文中截图不是一次截的，所以安装包路径会不同，无所谓了。</p>\n<p><img src=\"https://getkpg.sn.files.1drv.com/y4mvta_8bVI1h5_H-RTi_u1ahhjyRcKq2Ne5digY7xCVrAwRnvQplS-XwHjdoZiNIaFTCbYLKIXYsZxAZU3YqNdj9hoMEuG3TlVClZNS-eaGSD9cD2WRHAKsE0nyrSAvn2cyoohC7-LcnFH8EJejdQbP6nkjczh528-Z9dFPE81r1oN5zsikxdsu61VE-RGHq33Hwp03kcmCEHhfQ257Kp64Q?width=1216&height=928&cropmode=none\"></p>\n"},{"title":"Win10 UWP播放视频时阻止屏幕锁定","date":"2019-01-25T08:20:15.000Z","_content":"\n在全屏播放视频时，设备屏幕会自动保持常亮。但是在非全屏状态下，屏幕就会自动关闭。所以我们需要让屏幕在播放状态时，保持常亮。\n\n微软的官方文档里面是有详细的介绍。[微软官方文档链接](https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/media-playback)  \n但是完全按照这个代码写会报错。也是真真的醉了～?\n\n![](https://gysbda.sn.files.1drv.com/y4mI_fPYfl2_Ro74tI1MxQ5kscY7zTkcisHtZG82Miqd13VmsS_gvwqqTbt3ahEycBZ1HB3dFK4JE6MlfFw1SOdp96DqJhBBb2avd1tb0NWM-7vDkwBjaaa6TI1JbEuePiu3_2kky5NTe6W8VxyVo1lEJpWvle4B0xZ74Am52L3hU2Hv7NcvMB7S7iSMIFMcRFTJmMTQOCz73UyhT-pZiYtIQ?width=1002&height=534&cropmode=none)\n\n解决方法：（按照如下代码就没问题了）\n\n```\n private async void PlaybackSession_PlaybackStateChanged(MediaPlaybackSession sender, object args)\n        {\n            if (sender is MediaPlaybackSession playbackSession && playbackSession.NaturalVideoHeight != 0)\n            {\n                if (playbackSession.PlaybackState == MediaPlaybackState.Playing)\n                {\n　　　　　　　　　　　// 跨线程操作UI　\n                    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n                    {\n                        if (appDisplayRequest == null)\n                        {\n                            // This call creates an instance of the DisplayRequest object\n                            appDisplayRequest = new DisplayRequest();\n                            appDisplayRequest.RequestActive();\n                        }\n                    });\n                    \n                }\n                else // PlaybackState is Buffering, None, Opening, or Paused.\n                {\n                    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n                    {\n                        if (appDisplayRequest != null)\n                        {\n                            // Deactivate the display request and set the var to null.\n                            appDisplayRequest.RequestRelease();\n                            appDisplayRequest = null;\n                        }\n                    });\n                    \n                }\n            }\n        }\n```\n\n话说，１６年微软官方博客写这个的时候下面就有人评论这个问题。官方文档对我这样的小白也太不友好了。?  \n链接：[How to prevent screen locks in your UWP apps](https://blogs.windows.com/buildingapps/2016/05/24/how-to-prevent-screen-locks-in-your-uwp-apps/)","source":"_posts/UWP/how-to-prevent-screen-locks-in-your-uwp-apps.md","raw":"---\ntitle: Win10 UWP播放视频时阻止屏幕锁定\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-01-25 16:20:15\n---\n\n在全屏播放视频时，设备屏幕会自动保持常亮。但是在非全屏状态下，屏幕就会自动关闭。所以我们需要让屏幕在播放状态时，保持常亮。\n\n微软的官方文档里面是有详细的介绍。[微软官方文档链接](https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/media-playback)  \n但是完全按照这个代码写会报错。也是真真的醉了～?\n\n![](https://gysbda.sn.files.1drv.com/y4mI_fPYfl2_Ro74tI1MxQ5kscY7zTkcisHtZG82Miqd13VmsS_gvwqqTbt3ahEycBZ1HB3dFK4JE6MlfFw1SOdp96DqJhBBb2avd1tb0NWM-7vDkwBjaaa6TI1JbEuePiu3_2kky5NTe6W8VxyVo1lEJpWvle4B0xZ74Am52L3hU2Hv7NcvMB7S7iSMIFMcRFTJmMTQOCz73UyhT-pZiYtIQ?width=1002&height=534&cropmode=none)\n\n解决方法：（按照如下代码就没问题了）\n\n```\n private async void PlaybackSession_PlaybackStateChanged(MediaPlaybackSession sender, object args)\n        {\n            if (sender is MediaPlaybackSession playbackSession && playbackSession.NaturalVideoHeight != 0)\n            {\n                if (playbackSession.PlaybackState == MediaPlaybackState.Playing)\n                {\n　　　　　　　　　　　// 跨线程操作UI　\n                    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n                    {\n                        if (appDisplayRequest == null)\n                        {\n                            // This call creates an instance of the DisplayRequest object\n                            appDisplayRequest = new DisplayRequest();\n                            appDisplayRequest.RequestActive();\n                        }\n                    });\n                    \n                }\n                else // PlaybackState is Buffering, None, Opening, or Paused.\n                {\n                    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n                    {\n                        if (appDisplayRequest != null)\n                        {\n                            // Deactivate the display request and set the var to null.\n                            appDisplayRequest.RequestRelease();\n                            appDisplayRequest = null;\n                        }\n                    });\n                    \n                }\n            }\n        }\n```\n\n话说，１６年微软官方博客写这个的时候下面就有人评论这个问题。官方文档对我这样的小白也太不友好了。?  \n链接：[How to prevent screen locks in your UWP apps](https://blogs.windows.com/buildingapps/2016/05/24/how-to-prevent-screen-locks-in-your-uwp-apps/)","slug":"UWP/how-to-prevent-screen-locks-in-your-uwp-apps","published":1,"updated":"2025-02-21T10:54:53.998Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1p000yews74ezz0omi","content":"<p>在全屏播放视频时，设备屏幕会自动保持常亮。但是在非全屏状态下，屏幕就会自动关闭。所以我们需要让屏幕在播放状态时，保持常亮。</p>\n<p>微软的官方文档里面是有详细的介绍。<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/media-playback\">微软官方文档链接</a><br>但是完全按照这个代码写会报错。也是真真的醉了～?</p>\n<p><img src=\"https://gysbda.sn.files.1drv.com/y4mI_fPYfl2_Ro74tI1MxQ5kscY7zTkcisHtZG82Miqd13VmsS_gvwqqTbt3ahEycBZ1HB3dFK4JE6MlfFw1SOdp96DqJhBBb2avd1tb0NWM-7vDkwBjaaa6TI1JbEuePiu3_2kky5NTe6W8VxyVo1lEJpWvle4B0xZ74Am52L3hU2Hv7NcvMB7S7iSMIFMcRFTJmMTQOCz73UyhT-pZiYtIQ?width=1002&height=534&cropmode=none\"></p>\n<p>解决方法：（按照如下代码就没问题了）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private async void PlaybackSession_PlaybackStateChanged(MediaPlaybackSession sender, object args)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           if (sender is MediaPlaybackSession playbackSession &amp;&amp; playbackSession.NaturalVideoHeight != 0)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               if (playbackSession.PlaybackState == MediaPlaybackState.Playing)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">　　　　　　　　　　　// 跨线程操作UI　</span><br><span class=\"line\">                   await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       if (appDisplayRequest == null)</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           // This call creates an instance of the DisplayRequest object</span><br><span class=\"line\">                           appDisplayRequest = new DisplayRequest();</span><br><span class=\"line\">                           appDisplayRequest.RequestActive();</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                   &#125;);</span><br><span class=\"line\">                   </span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               else // PlaybackState is Buffering, None, Opening, or Paused.</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       if (appDisplayRequest != null)</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           // Deactivate the display request and set the var to null.</span><br><span class=\"line\">                           appDisplayRequest.RequestRelease();</span><br><span class=\"line\">                           appDisplayRequest = null;</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                   &#125;);</span><br><span class=\"line\">                   </span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n\n<p>话说，１６年微软官方博客写这个的时候下面就有人评论这个问题。官方文档对我这样的小白也太不友好了。?<br>链接：<a href=\"https://blogs.windows.com/buildingapps/2016/05/24/how-to-prevent-screen-locks-in-your-uwp-apps/\">How to prevent screen locks in your UWP apps</a></p>\n","excerpt":"","more":"<p>在全屏播放视频时，设备屏幕会自动保持常亮。但是在非全屏状态下，屏幕就会自动关闭。所以我们需要让屏幕在播放状态时，保持常亮。</p>\n<p>微软的官方文档里面是有详细的介绍。<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/media-playback\">微软官方文档链接</a><br>但是完全按照这个代码写会报错。也是真真的醉了～?</p>\n<p><img src=\"https://gysbda.sn.files.1drv.com/y4mI_fPYfl2_Ro74tI1MxQ5kscY7zTkcisHtZG82Miqd13VmsS_gvwqqTbt3ahEycBZ1HB3dFK4JE6MlfFw1SOdp96DqJhBBb2avd1tb0NWM-7vDkwBjaaa6TI1JbEuePiu3_2kky5NTe6W8VxyVo1lEJpWvle4B0xZ74Am52L3hU2Hv7NcvMB7S7iSMIFMcRFTJmMTQOCz73UyhT-pZiYtIQ?width=1002&height=534&cropmode=none\"></p>\n<p>解决方法：（按照如下代码就没问题了）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private async void PlaybackSession_PlaybackStateChanged(MediaPlaybackSession sender, object args)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           if (sender is MediaPlaybackSession playbackSession &amp;&amp; playbackSession.NaturalVideoHeight != 0)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               if (playbackSession.PlaybackState == MediaPlaybackState.Playing)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">　　　　　　　　　　　// 跨线程操作UI　</span><br><span class=\"line\">                   await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       if (appDisplayRequest == null)</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           // This call creates an instance of the DisplayRequest object</span><br><span class=\"line\">                           appDisplayRequest = new DisplayRequest();</span><br><span class=\"line\">                           appDisplayRequest.RequestActive();</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                   &#125;);</span><br><span class=\"line\">                   </span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               else // PlaybackState is Buffering, None, Opening, or Paused.</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       if (appDisplayRequest != null)</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           // Deactivate the display request and set the var to null.</span><br><span class=\"line\">                           appDisplayRequest.RequestRelease();</span><br><span class=\"line\">                           appDisplayRequest = null;</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                   &#125;);</span><br><span class=\"line\">                   </span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n\n<p>话说，１６年微软官方博客写这个的时候下面就有人评论这个问题。官方文档对我这样的小白也太不友好了。?<br>链接：<a href=\"https://blogs.windows.com/buildingapps/2016/05/24/how-to-prevent-screen-locks-in-your-uwp-apps/\">How to prevent screen locks in your UWP apps</a></p>\n"},{"title":"Microsoft.Services.Store.Engagement was not included in compilation","date":"2019-12-30T17:44:38.000Z","_content":"\n本文章记录以前遇到的一个和`Microsoft.Services.Store.Engagement`有关的问题。当时解决后没想到最近有小伙伴又遇到了，所以在此做个记录。\n\n## 错误\n\nMethod 'StoreServicesEngagementManager.GetDefault()' from assembly 'Microsoft.Services.Store.Engagement' was not included in compilation, but was referenced in xxxxxxx.\n\n描述：只要使用**[Windows Template Studio 3.3](https://github.com/microsoft/WindowsTemplateStudio)** 以前的版本生成了使用`Microsoft.Services.Store.Engagement`的代码，上传商店后就会出现这个问题。本地测试正常。\n\n## 解决方法\n\n来自这个[issue](https://github.com/microsoft/WindowsTemplateStudio/issues/3206)\n\nThis is not an issue with using AppCenter. It can affect any app submitted to the store.\n\n**How to fix this in the code in your existing apps**\n\nManually open the csproj file.\n\nchange the following lines from\n\n    <SDKReference Include=\"Microsoft.Services.Store.Engagement, version=10.0\">\n      <Name>Microsoft Engagement Framework</Name>\n    </SDKReference>\n    <SDKReference Include=\"Microsoft.VCLibs, version=14.0\">\n      <Name>Visual C++ 2015 Runtime for Universal Windows Platform Apps</Name>\n    </SDKReference>\n\nto\n\n    <SDKReference Include=\"Microsoft.Services.Store.Engagement, Version=10.0\">\n      <Name>Microsoft Engagement Framework</Name>\n    </SDKReference>\n    <SDKReference Include=\"Microsoft.VCLibs, Version=14.0\">\n      <Name>Visual C++ 2015 Runtime for Universal Windows Platform Apps</Name>\n    </SDKReference>\n\nIn both cases, it must be `Version` (with a capital 'V') rather than `version`.\n\n其实就是把两个SDK的`version`改成首字母大写的`Version`。","source":"_posts/UWP/microsoft-services-store-engagement-crash.md","raw":"---\ntitle: Microsoft.Services.Store.Engagement was not included in compilation\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-12-31 01:44:38\n---\n\n本文章记录以前遇到的一个和`Microsoft.Services.Store.Engagement`有关的问题。当时解决后没想到最近有小伙伴又遇到了，所以在此做个记录。\n\n## 错误\n\nMethod 'StoreServicesEngagementManager.GetDefault()' from assembly 'Microsoft.Services.Store.Engagement' was not included in compilation, but was referenced in xxxxxxx.\n\n描述：只要使用**[Windows Template Studio 3.3](https://github.com/microsoft/WindowsTemplateStudio)** 以前的版本生成了使用`Microsoft.Services.Store.Engagement`的代码，上传商店后就会出现这个问题。本地测试正常。\n\n## 解决方法\n\n来自这个[issue](https://github.com/microsoft/WindowsTemplateStudio/issues/3206)\n\nThis is not an issue with using AppCenter. It can affect any app submitted to the store.\n\n**How to fix this in the code in your existing apps**\n\nManually open the csproj file.\n\nchange the following lines from\n\n    <SDKReference Include=\"Microsoft.Services.Store.Engagement, version=10.0\">\n      <Name>Microsoft Engagement Framework</Name>\n    </SDKReference>\n    <SDKReference Include=\"Microsoft.VCLibs, version=14.0\">\n      <Name>Visual C++ 2015 Runtime for Universal Windows Platform Apps</Name>\n    </SDKReference>\n\nto\n\n    <SDKReference Include=\"Microsoft.Services.Store.Engagement, Version=10.0\">\n      <Name>Microsoft Engagement Framework</Name>\n    </SDKReference>\n    <SDKReference Include=\"Microsoft.VCLibs, Version=14.0\">\n      <Name>Visual C++ 2015 Runtime for Universal Windows Platform Apps</Name>\n    </SDKReference>\n\nIn both cases, it must be `Version` (with a capital 'V') rather than `version`.\n\n其实就是把两个SDK的`version`改成首字母大写的`Version`。","slug":"UWP/microsoft-services-store-engagement-crash","published":1,"updated":"2025-02-21T10:54:53.999Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1q0011ews7f7whhir1","content":"<p>本文章记录以前遇到的一个和<code>Microsoft.Services.Store.Engagement</code>有关的问题。当时解决后没想到最近有小伙伴又遇到了，所以在此做个记录。</p>\n<h2 id=\"错误\"><a href=\"#错误\" class=\"headerlink\" title=\"错误\"></a>错误</h2><p>Method ‘StoreServicesEngagementManager.GetDefault()’ from assembly ‘Microsoft.Services.Store.Engagement’ was not included in compilation, but was referenced in xxxxxxx.</p>\n<p>描述：只要使用**<a href=\"https://github.com/microsoft/WindowsTemplateStudio\">Windows Template Studio 3.3</a>** 以前的版本生成了使用<code>Microsoft.Services.Store.Engagement</code>的代码，上传商店后就会出现这个问题。本地测试正常。</p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><p>来自这个<a href=\"https://github.com/microsoft/WindowsTemplateStudio/issues/3206\">issue</a></p>\n<p>This is not an issue with using AppCenter. It can affect any app submitted to the store.</p>\n<p><strong>How to fix this in the code in your existing apps</strong></p>\n<p>Manually open the csproj file.</p>\n<p>change the following lines from</p>\n<pre><code>&lt;SDKReference Include=&quot;Microsoft.Services.Store.Engagement, version=10.0&quot;&gt;\n  &lt;Name&gt;Microsoft Engagement Framework&lt;/Name&gt;\n&lt;/SDKReference&gt;\n&lt;SDKReference Include=&quot;Microsoft.VCLibs, version=14.0&quot;&gt;\n  &lt;Name&gt;Visual C++ 2015 Runtime for Universal Windows Platform Apps&lt;/Name&gt;\n&lt;/SDKReference&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;SDKReference Include=&quot;Microsoft.Services.Store.Engagement, Version=10.0&quot;&gt;\n  &lt;Name&gt;Microsoft Engagement Framework&lt;/Name&gt;\n&lt;/SDKReference&gt;\n&lt;SDKReference Include=&quot;Microsoft.VCLibs, Version=14.0&quot;&gt;\n  &lt;Name&gt;Visual C++ 2015 Runtime for Universal Windows Platform Apps&lt;/Name&gt;\n&lt;/SDKReference&gt;\n</code></pre>\n<p>In both cases, it must be <code>Version</code> (with a capital ‘V’) rather than <code>version</code>.</p>\n<p>其实就是把两个SDK的<code>version</code>改成首字母大写的<code>Version</code>。</p>\n","excerpt":"","more":"<p>本文章记录以前遇到的一个和<code>Microsoft.Services.Store.Engagement</code>有关的问题。当时解决后没想到最近有小伙伴又遇到了，所以在此做个记录。</p>\n<h2 id=\"错误\"><a href=\"#错误\" class=\"headerlink\" title=\"错误\"></a>错误</h2><p>Method ‘StoreServicesEngagementManager.GetDefault()’ from assembly ‘Microsoft.Services.Store.Engagement’ was not included in compilation, but was referenced in xxxxxxx.</p>\n<p>描述：只要使用**<a href=\"https://github.com/microsoft/WindowsTemplateStudio\">Windows Template Studio 3.3</a>** 以前的版本生成了使用<code>Microsoft.Services.Store.Engagement</code>的代码，上传商店后就会出现这个问题。本地测试正常。</p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><p>来自这个<a href=\"https://github.com/microsoft/WindowsTemplateStudio/issues/3206\">issue</a></p>\n<p>This is not an issue with using AppCenter. It can affect any app submitted to the store.</p>\n<p><strong>How to fix this in the code in your existing apps</strong></p>\n<p>Manually open the csproj file.</p>\n<p>change the following lines from</p>\n<pre><code>&lt;SDKReference Include=&quot;Microsoft.Services.Store.Engagement, version=10.0&quot;&gt;\n  &lt;Name&gt;Microsoft Engagement Framework&lt;/Name&gt;\n&lt;/SDKReference&gt;\n&lt;SDKReference Include=&quot;Microsoft.VCLibs, version=14.0&quot;&gt;\n  &lt;Name&gt;Visual C++ 2015 Runtime for Universal Windows Platform Apps&lt;/Name&gt;\n&lt;/SDKReference&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;SDKReference Include=&quot;Microsoft.Services.Store.Engagement, Version=10.0&quot;&gt;\n  &lt;Name&gt;Microsoft Engagement Framework&lt;/Name&gt;\n&lt;/SDKReference&gt;\n&lt;SDKReference Include=&quot;Microsoft.VCLibs, Version=14.0&quot;&gt;\n  &lt;Name&gt;Visual C++ 2015 Runtime for Universal Windows Platform Apps&lt;/Name&gt;\n&lt;/SDKReference&gt;\n</code></pre>\n<p>In both cases, it must be <code>Version</code> (with a capital ‘V’) rather than <code>version</code>.</p>\n<p>其实就是把两个SDK的<code>version</code>改成首字母大写的<code>Version</code>。</p>\n"},{"title":"Newtonsoft用法","date":"2019-11-08T08:18:30.000Z","_content":"\n参考文章： [https://www.cnblogs.com/yanweidie/p/4605212.html](https://www.cnblogs.com/yanweidie/p/4605212.html)","source":"_posts/UWP/newtonsoft用法.md","raw":"---\ntitle: Newtonsoft用法\ntags: \n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-11-08 16:18:30\n---\n\n参考文章： [https://www.cnblogs.com/yanweidie/p/4605212.html](https://www.cnblogs.com/yanweidie/p/4605212.html)","slug":"UWP/newtonsoft用法","published":1,"updated":"2025-02-21T10:54:53.999Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1r0015ews7e4y3b609","content":"<p>参考文章： <a href=\"https://www.cnblogs.com/yanweidie/p/4605212.html\">https://www.cnblogs.com/yanweidie/p/4605212.html</a></p>\n","excerpt":"","more":"<p>参考文章： <a href=\"https://www.cnblogs.com/yanweidie/p/4605212.html\">https://www.cnblogs.com/yanweidie/p/4605212.html</a></p>\n"},{"title":"UWP设置文件的默认保存位置","date":"2020-03-13T14:22:09.000Z","_content":"\n原先以为UWP只能使用默认的那几个库。但是后来发现别人的应用中可以随意设置默认的文件保存位置。于是找到了[林德熙大佬的这篇文章](https://blog.csdn.net/lindexi_gd/article/details/52724417/)。\n\n重点是`Windows.Storage.AccessCache`这个命名空间中的`FutureAccessList`类可以保存或者获取最近使用的文件或文件夹。不过获取文件或者文件夹时需要用的一个Token，可以在添加文件或文件夹的时候保存下来。\n\n## 1、保存文件夹\n\n        /// <summary>\n        /// 设置默认的下载文件夹\n        /// </summary>\n        /// <returns>\n        /// </returns>\n        internal static async Task SetDefaultPathAsync()\n        {\n            FolderPicker picker = new FolderPicker();\n            picker.FileTypeFilter.Add(\".png\");\n            var folder = await picker.PickSingleFolderAsync();\n            if (folder != null)\n            {\n                var token = StorageApplicationPermissions.FutureAccessList.Add(folder);\n               // 把token保存到了本地设置 \nAppSettingsHelper.SaveLocalSetting(AppLocalSettings.ImageSavePathTokenKey, token);\n            }\n            else\n            {\n                // NotifyPopup是自己定义的通知\n                var notify = new NotifyPopup(\"选择文件夹失败，请重试\");\n                notify.Show();\n            }\n        }\n\n## 2、获取文件夹\n\n这里在未获取到token，或者获取文件夹结果为`null`时，在图片库新建一个和应用名称相同的文件夹。\n\n        /// <summary>\n        /// 获取默认的下载文件夹\n        /// </summary>\n        /// <returns>\n        /// </returns>\n        internal async static Task<StorageFolder> GetImageFolderAsync()\n        {\n           // 从本地设置取出token\n            var token = AppSettingsHelper.GetLocalSetting(AppLocalSettings.ImageSavePathTokenKey);\n            if (token == null)\n            {\n                return await KnownFolders.PicturesLibrary.CreateFolderAsync(\"AppDisplayName\".GetLocalized(), CreationCollisionOption.OpenIfExists);\n            }\n            else\n            {\n                var folder = await StorageApplicationPermissions.FutureAccessList.GetFolderAsync(token);\n                if (folder == null)\n                {\n                    return await KnownFolders.PicturesLibrary.CreateFolderAsync(\"AppDisplayName\".GetLocalized(), CreationCollisionOption.OpenIfExists);\n                }\n                else\n                {\n                    return folder;\n                }\n            }\n        }\n\nPS:还可以使用系统自带的照片app来设置默认下载路径。以前发现的彩蛋。\n\n\\[post id=1187\\]","source":"_posts/UWP/uwp-set-file-default-save-path.md","raw":"---\ntitle: UWP设置文件的默认保存位置\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2020-03-13 22:22:09\n---\n\n原先以为UWP只能使用默认的那几个库。但是后来发现别人的应用中可以随意设置默认的文件保存位置。于是找到了[林德熙大佬的这篇文章](https://blog.csdn.net/lindexi_gd/article/details/52724417/)。\n\n重点是`Windows.Storage.AccessCache`这个命名空间中的`FutureAccessList`类可以保存或者获取最近使用的文件或文件夹。不过获取文件或者文件夹时需要用的一个Token，可以在添加文件或文件夹的时候保存下来。\n\n## 1、保存文件夹\n\n        /// <summary>\n        /// 设置默认的下载文件夹\n        /// </summary>\n        /// <returns>\n        /// </returns>\n        internal static async Task SetDefaultPathAsync()\n        {\n            FolderPicker picker = new FolderPicker();\n            picker.FileTypeFilter.Add(\".png\");\n            var folder = await picker.PickSingleFolderAsync();\n            if (folder != null)\n            {\n                var token = StorageApplicationPermissions.FutureAccessList.Add(folder);\n               // 把token保存到了本地设置 \nAppSettingsHelper.SaveLocalSetting(AppLocalSettings.ImageSavePathTokenKey, token);\n            }\n            else\n            {\n                // NotifyPopup是自己定义的通知\n                var notify = new NotifyPopup(\"选择文件夹失败，请重试\");\n                notify.Show();\n            }\n        }\n\n## 2、获取文件夹\n\n这里在未获取到token，或者获取文件夹结果为`null`时，在图片库新建一个和应用名称相同的文件夹。\n\n        /// <summary>\n        /// 获取默认的下载文件夹\n        /// </summary>\n        /// <returns>\n        /// </returns>\n        internal async static Task<StorageFolder> GetImageFolderAsync()\n        {\n           // 从本地设置取出token\n            var token = AppSettingsHelper.GetLocalSetting(AppLocalSettings.ImageSavePathTokenKey);\n            if (token == null)\n            {\n                return await KnownFolders.PicturesLibrary.CreateFolderAsync(\"AppDisplayName\".GetLocalized(), CreationCollisionOption.OpenIfExists);\n            }\n            else\n            {\n                var folder = await StorageApplicationPermissions.FutureAccessList.GetFolderAsync(token);\n                if (folder == null)\n                {\n                    return await KnownFolders.PicturesLibrary.CreateFolderAsync(\"AppDisplayName\".GetLocalized(), CreationCollisionOption.OpenIfExists);\n                }\n                else\n                {\n                    return folder;\n                }\n            }\n        }\n\nPS:还可以使用系统自带的照片app来设置默认下载路径。以前发现的彩蛋。\n\n\\[post id=1187\\]","slug":"UWP/uwp-set-file-default-save-path","published":1,"updated":"2025-02-21T10:54:53.999Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1r0017ews71b0mb0wc","content":"<p>原先以为UWP只能使用默认的那几个库。但是后来发现别人的应用中可以随意设置默认的文件保存位置。于是找到了<a href=\"https://blog.csdn.net/lindexi_gd/article/details/52724417/\">林德熙大佬的这篇文章</a>。</p>\n<p>重点是<code>Windows.Storage.AccessCache</code>这个命名空间中的<code>FutureAccessList</code>类可以保存或者获取最近使用的文件或文件夹。不过获取文件或者文件夹时需要用的一个Token，可以在添加文件或文件夹的时候保存下来。</p>\n<h2 id=\"1、保存文件夹\"><a href=\"#1、保存文件夹\" class=\"headerlink\" title=\"1、保存文件夹\"></a>1、保存文件夹</h2><pre><code>    /// &lt;summary&gt;\n    /// 设置默认的下载文件夹\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;\n    /// &lt;/returns&gt;\n    internal static async Task SetDefaultPathAsync()\n    &#123;\n        FolderPicker picker = new FolderPicker();\n        picker.FileTypeFilter.Add(&quot;.png&quot;);\n        var folder = await picker.PickSingleFolderAsync();\n        if (folder != null)\n        &#123;\n            var token = StorageApplicationPermissions.FutureAccessList.Add(folder);\n           // 把token保存到了本地设置 \n</code></pre>\n<p>AppSettingsHelper.SaveLocalSetting(AppLocalSettings.ImageSavePathTokenKey, token);<br>            }<br>            else<br>            {<br>                &#x2F;&#x2F; NotifyPopup是自己定义的通知<br>                var notify &#x3D; new NotifyPopup(“选择文件夹失败，请重试”);<br>                notify.Show();<br>            }<br>        }</p>\n<h2 id=\"2、获取文件夹\"><a href=\"#2、获取文件夹\" class=\"headerlink\" title=\"2、获取文件夹\"></a>2、获取文件夹</h2><p>这里在未获取到token，或者获取文件夹结果为<code>null</code>时，在图片库新建一个和应用名称相同的文件夹。</p>\n<pre><code>    /// &lt;summary&gt;\n    /// 获取默认的下载文件夹\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;\n    /// &lt;/returns&gt;\n    internal async static Task&lt;StorageFolder&gt; GetImageFolderAsync()\n    &#123;\n       // 从本地设置取出token\n        var token = AppSettingsHelper.GetLocalSetting(AppLocalSettings.ImageSavePathTokenKey);\n        if (token == null)\n        &#123;\n            return await KnownFolders.PicturesLibrary.CreateFolderAsync(&quot;AppDisplayName&quot;.GetLocalized(), CreationCollisionOption.OpenIfExists);\n        &#125;\n        else\n        &#123;\n            var folder = await StorageApplicationPermissions.FutureAccessList.GetFolderAsync(token);\n            if (folder == null)\n            &#123;\n                return await KnownFolders.PicturesLibrary.CreateFolderAsync(&quot;AppDisplayName&quot;.GetLocalized(), CreationCollisionOption.OpenIfExists);\n            &#125;\n            else\n            &#123;\n                return folder;\n            &#125;\n        &#125;\n    &#125;\n</code></pre>\n<p>PS:还可以使用系统自带的照片app来设置默认下载路径。以前发现的彩蛋。</p>\n<p>[post id&#x3D;1187]</p>\n","excerpt":"","more":"<p>原先以为UWP只能使用默认的那几个库。但是后来发现别人的应用中可以随意设置默认的文件保存位置。于是找到了<a href=\"https://blog.csdn.net/lindexi_gd/article/details/52724417/\">林德熙大佬的这篇文章</a>。</p>\n<p>重点是<code>Windows.Storage.AccessCache</code>这个命名空间中的<code>FutureAccessList</code>类可以保存或者获取最近使用的文件或文件夹。不过获取文件或者文件夹时需要用的一个Token，可以在添加文件或文件夹的时候保存下来。</p>\n<h2 id=\"1、保存文件夹\"><a href=\"#1、保存文件夹\" class=\"headerlink\" title=\"1、保存文件夹\"></a>1、保存文件夹</h2><pre><code>    /// &lt;summary&gt;\n    /// 设置默认的下载文件夹\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;\n    /// &lt;/returns&gt;\n    internal static async Task SetDefaultPathAsync()\n    &#123;\n        FolderPicker picker = new FolderPicker();\n        picker.FileTypeFilter.Add(&quot;.png&quot;);\n        var folder = await picker.PickSingleFolderAsync();\n        if (folder != null)\n        &#123;\n            var token = StorageApplicationPermissions.FutureAccessList.Add(folder);\n           // 把token保存到了本地设置 \n</code></pre>\n<p>AppSettingsHelper.SaveLocalSetting(AppLocalSettings.ImageSavePathTokenKey, token);<br>            }<br>            else<br>            {<br>                &#x2F;&#x2F; NotifyPopup是自己定义的通知<br>                var notify &#x3D; new NotifyPopup(“选择文件夹失败，请重试”);<br>                notify.Show();<br>            }<br>        }</p>\n<h2 id=\"2、获取文件夹\"><a href=\"#2、获取文件夹\" class=\"headerlink\" title=\"2、获取文件夹\"></a>2、获取文件夹</h2><p>这里在未获取到token，或者获取文件夹结果为<code>null</code>时，在图片库新建一个和应用名称相同的文件夹。</p>\n<pre><code>    /// &lt;summary&gt;\n    /// 获取默认的下载文件夹\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;\n    /// &lt;/returns&gt;\n    internal async static Task&lt;StorageFolder&gt; GetImageFolderAsync()\n    &#123;\n       // 从本地设置取出token\n        var token = AppSettingsHelper.GetLocalSetting(AppLocalSettings.ImageSavePathTokenKey);\n        if (token == null)\n        &#123;\n            return await KnownFolders.PicturesLibrary.CreateFolderAsync(&quot;AppDisplayName&quot;.GetLocalized(), CreationCollisionOption.OpenIfExists);\n        &#125;\n        else\n        &#123;\n            var folder = await StorageApplicationPermissions.FutureAccessList.GetFolderAsync(token);\n            if (folder == null)\n            &#123;\n                return await KnownFolders.PicturesLibrary.CreateFolderAsync(&quot;AppDisplayName&quot;.GetLocalized(), CreationCollisionOption.OpenIfExists);\n            &#125;\n            else\n            &#123;\n                return folder;\n            &#125;\n        &#125;\n    &#125;\n</code></pre>\n<p>PS:还可以使用系统自带的照片app来设置默认下载路径。以前发现的彩蛋。</p>\n<p>[post id&#x3D;1187]</p>\n"},{"title":"UWP 通过KnownFolders.PicturesLibrary任意选择保存文件的位置","date":"2019-08-11T18:06:02.000Z","_content":"\n发现这个彩蛋，源于我的应用“[爱美图](https://www.microsoft.com/store/apps/9NJLDD2934RK)”，有一个用户在应用下面的评论说：\n\n> 不知道下载到了哪里（后来找到了在OneDrive\\\\图片\\\\爱美图），不能自定义下载位置，很不方便\n\n但是看到评论的我一脸懵逼，我使用的是KnownFolders.PicturesLibrary创建的文件夹，按道理不应该在C盘的图片文件夹吗？怎么回到OneDrive里面去了。直到我发现我的台式机也是这样，我又打开surface看了一下，确实在C盘，没错。这就奇怪了。\n\n不过我突然想起来其几天设置过系统自带的照片应用的图片源。这下发现了不得了的事情。\n\n## 情况一\n\n下面这是Surface上照片-设置里源的顺序，**系统C盘的图片在上面，OneDrive在下面**。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在**系统C盘的图片**。\n\n![](https://hcdyxa.sn.files.1drv.com/y4mzkjNsG-tpTvio79mCThbU37CND_pGGIJnaDWDOG1QTDdP0o3TfM8leTFmVMbJ3O5i1ivi2fE5E_3BHTvnWpordTBagaLNrkeWYPD89q1LFby9vRmaqW_eI7w1bIc1-7vWSkQlvovFvO8klhFDAYpmGLG1XvcZUSDZdCWv61AJsGkJfUAALk05ATj0Ce92ooSJCVM3wUzL7WUC6p0N721_A?width=2052&height=1602&cropmode=none)\n\nSurface上的图片-设置\n\n## 情况二\n\n下面这是台式机上照片-设置里源的顺序， **OneDrive** **在上面，** **系统C盘的图片** **在下面**。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在 **OneDrive里的图片文件夹**。\n\n![](https://vivpra.sn.files.1drv.com/y4m3IyimbjuY6ekwvokukg2zZIWsrOB6oIm0nz3mQfOJWJFDRWasE_aHec_NeIkRRqAIxWQcJrOvjhfdNunO3OY_Mua6FGO-JbzXt5NWrXPaUWFxRbkr32QffXdnkrqrN0uB7Jhedd6M5y5r76RKymzWtt0wH-l9wyoEeKVd-xIqVT-EVT6MGsBqeTvY2rBObZuHvCf-2p8TtlNraMFqNNqdw?width=2052&height=1602&cropmode=none)\n\n台式机上图片-设置\n\n## 猜想\n\n这么看来是不是最上面的路径就是 PicturesLibrary 获取到的路径呢？那么我把最上面的路径改成D盘的任意文件夹会怎么样呢？设置如下图。\n\n![](https://yt5mza.sn.files.1drv.com/y4m3LywuxIyH7ydcg6tJ24Np6L0_vz5RoTbvTdHcjbLHxPkIUOcvDF-NdFBTFAcjYSNHM9Vi8edR7b-rPSf7ez0lxKgk7izYGUx-LmQj3E5JU_5dORmy9_XKgmxqpTQ_NMeqIYWRgiywd-ksP2qYMhN3QWTKYvct8hLcmEfeOMqy_h_WF8ZVCCwjMmPFKIm7_CIlNaq8Tut2QAtP00CtD7aEw?width=2052&height=1602&cropmode=none)\n\n然后神奇的事情发生了！！！\n\n![](https://zlpzbg.sn.files.1drv.com/y4mH8I53tG-7Hi_BM0YGK0B6UwP4RDwChn2ani8IllUmZxbD1-X76JxjEnWDBEIxzdYmPo2XIK4Fs8BdY9A__Erf5eC1Z8w2JPndhjFTOCxDd6Adjkyx5GKpOLS4ctVJ83HgwPiQK8jeSaYBMYtRCq1UqjtPogSucjoobH12M3dLNc_sS7sMgF8KKOw5V2EoEpCAqDOygz3dOJxSnkRpcexsg?width=2736&height=1824&cropmode=none)\n\n竟然真的可以，这样其实可以变相的随意设置UWP应用下载图片的位置了！！！\n\n这样来说，那么电影和电视里设置查找视频的源，是不是能达到同样的效果呢？没有测试，有需要可以去试试哦。\n\nPS:大半夜发现了，忍不住想写个文章。。。虽然没人看😂","source":"_posts/UWP/uwp-use-pictureslibrary-savefile-everywhere.md","raw":"---\ntitle: UWP 通过KnownFolders.PicturesLibrary任意选择保存文件的位置\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-08-12 02:06:02\n---\n\n发现这个彩蛋，源于我的应用“[爱美图](https://www.microsoft.com/store/apps/9NJLDD2934RK)”，有一个用户在应用下面的评论说：\n\n> 不知道下载到了哪里（后来找到了在OneDrive\\\\图片\\\\爱美图），不能自定义下载位置，很不方便\n\n但是看到评论的我一脸懵逼，我使用的是KnownFolders.PicturesLibrary创建的文件夹，按道理不应该在C盘的图片文件夹吗？怎么回到OneDrive里面去了。直到我发现我的台式机也是这样，我又打开surface看了一下，确实在C盘，没错。这就奇怪了。\n\n不过我突然想起来其几天设置过系统自带的照片应用的图片源。这下发现了不得了的事情。\n\n## 情况一\n\n下面这是Surface上照片-设置里源的顺序，**系统C盘的图片在上面，OneDrive在下面**。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在**系统C盘的图片**。\n\n![](https://hcdyxa.sn.files.1drv.com/y4mzkjNsG-tpTvio79mCThbU37CND_pGGIJnaDWDOG1QTDdP0o3TfM8leTFmVMbJ3O5i1ivi2fE5E_3BHTvnWpordTBagaLNrkeWYPD89q1LFby9vRmaqW_eI7w1bIc1-7vWSkQlvovFvO8klhFDAYpmGLG1XvcZUSDZdCWv61AJsGkJfUAALk05ATj0Ce92ooSJCVM3wUzL7WUC6p0N721_A?width=2052&height=1602&cropmode=none)\n\nSurface上的图片-设置\n\n## 情况二\n\n下面这是台式机上照片-设置里源的顺序， **OneDrive** **在上面，** **系统C盘的图片** **在下面**。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在 **OneDrive里的图片文件夹**。\n\n![](https://vivpra.sn.files.1drv.com/y4m3IyimbjuY6ekwvokukg2zZIWsrOB6oIm0nz3mQfOJWJFDRWasE_aHec_NeIkRRqAIxWQcJrOvjhfdNunO3OY_Mua6FGO-JbzXt5NWrXPaUWFxRbkr32QffXdnkrqrN0uB7Jhedd6M5y5r76RKymzWtt0wH-l9wyoEeKVd-xIqVT-EVT6MGsBqeTvY2rBObZuHvCf-2p8TtlNraMFqNNqdw?width=2052&height=1602&cropmode=none)\n\n台式机上图片-设置\n\n## 猜想\n\n这么看来是不是最上面的路径就是 PicturesLibrary 获取到的路径呢？那么我把最上面的路径改成D盘的任意文件夹会怎么样呢？设置如下图。\n\n![](https://yt5mza.sn.files.1drv.com/y4m3LywuxIyH7ydcg6tJ24Np6L0_vz5RoTbvTdHcjbLHxPkIUOcvDF-NdFBTFAcjYSNHM9Vi8edR7b-rPSf7ez0lxKgk7izYGUx-LmQj3E5JU_5dORmy9_XKgmxqpTQ_NMeqIYWRgiywd-ksP2qYMhN3QWTKYvct8hLcmEfeOMqy_h_WF8ZVCCwjMmPFKIm7_CIlNaq8Tut2QAtP00CtD7aEw?width=2052&height=1602&cropmode=none)\n\n然后神奇的事情发生了！！！\n\n![](https://zlpzbg.sn.files.1drv.com/y4mH8I53tG-7Hi_BM0YGK0B6UwP4RDwChn2ani8IllUmZxbD1-X76JxjEnWDBEIxzdYmPo2XIK4Fs8BdY9A__Erf5eC1Z8w2JPndhjFTOCxDd6Adjkyx5GKpOLS4ctVJ83HgwPiQK8jeSaYBMYtRCq1UqjtPogSucjoobH12M3dLNc_sS7sMgF8KKOw5V2EoEpCAqDOygz3dOJxSnkRpcexsg?width=2736&height=1824&cropmode=none)\n\n竟然真的可以，这样其实可以变相的随意设置UWP应用下载图片的位置了！！！\n\n这样来说，那么电影和电视里设置查找视频的源，是不是能达到同样的效果呢？没有测试，有需要可以去试试哦。\n\nPS:大半夜发现了，忍不住想写个文章。。。虽然没人看😂","slug":"UWP/uwp-use-pictureslibrary-savefile-everywhere","published":1,"updated":"2025-02-21T10:54:54.000Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1s0019ews71iwogt6g","content":"<p>发现这个彩蛋，源于我的应用“<a href=\"https://www.microsoft.com/store/apps/9NJLDD2934RK\">爱美图</a>”，有一个用户在应用下面的评论说：</p>\n<blockquote>\n<p>不知道下载到了哪里（后来找到了在OneDrive\\图片\\爱美图），不能自定义下载位置，很不方便</p>\n</blockquote>\n<p>但是看到评论的我一脸懵逼，我使用的是KnownFolders.PicturesLibrary创建的文件夹，按道理不应该在C盘的图片文件夹吗？怎么回到OneDrive里面去了。直到我发现我的台式机也是这样，我又打开surface看了一下，确实在C盘，没错。这就奇怪了。</p>\n<p>不过我突然想起来其几天设置过系统自带的照片应用的图片源。这下发现了不得了的事情。</p>\n<h2 id=\"情况一\"><a href=\"#情况一\" class=\"headerlink\" title=\"情况一\"></a>情况一</h2><p>下面这是Surface上照片-设置里源的顺序，<strong>系统C盘的图片在上面，OneDrive在下面</strong>。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在<strong>系统C盘的图片</strong>。</p>\n<p><img src=\"https://hcdyxa.sn.files.1drv.com/y4mzkjNsG-tpTvio79mCThbU37CND_pGGIJnaDWDOG1QTDdP0o3TfM8leTFmVMbJ3O5i1ivi2fE5E_3BHTvnWpordTBagaLNrkeWYPD89q1LFby9vRmaqW_eI7w1bIc1-7vWSkQlvovFvO8klhFDAYpmGLG1XvcZUSDZdCWv61AJsGkJfUAALk05ATj0Ce92ooSJCVM3wUzL7WUC6p0N721_A?width=2052&height=1602&cropmode=none\"></p>\n<p>Surface上的图片-设置</p>\n<h2 id=\"情况二\"><a href=\"#情况二\" class=\"headerlink\" title=\"情况二\"></a>情况二</h2><p>下面这是台式机上照片-设置里源的顺序， <strong>OneDrive</strong> <strong>在上面，</strong> <strong>系统C盘的图片</strong> <strong>在下面</strong>。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在 <strong>OneDrive里的图片文件夹</strong>。</p>\n<p><img src=\"https://vivpra.sn.files.1drv.com/y4m3IyimbjuY6ekwvokukg2zZIWsrOB6oIm0nz3mQfOJWJFDRWasE_aHec_NeIkRRqAIxWQcJrOvjhfdNunO3OY_Mua6FGO-JbzXt5NWrXPaUWFxRbkr32QffXdnkrqrN0uB7Jhedd6M5y5r76RKymzWtt0wH-l9wyoEeKVd-xIqVT-EVT6MGsBqeTvY2rBObZuHvCf-2p8TtlNraMFqNNqdw?width=2052&height=1602&cropmode=none\"></p>\n<p>台式机上图片-设置</p>\n<h2 id=\"猜想\"><a href=\"#猜想\" class=\"headerlink\" title=\"猜想\"></a>猜想</h2><p>这么看来是不是最上面的路径就是 PicturesLibrary 获取到的路径呢？那么我把最上面的路径改成D盘的任意文件夹会怎么样呢？设置如下图。</p>\n<p><img src=\"https://yt5mza.sn.files.1drv.com/y4m3LywuxIyH7ydcg6tJ24Np6L0_vz5RoTbvTdHcjbLHxPkIUOcvDF-NdFBTFAcjYSNHM9Vi8edR7b-rPSf7ez0lxKgk7izYGUx-LmQj3E5JU_5dORmy9_XKgmxqpTQ_NMeqIYWRgiywd-ksP2qYMhN3QWTKYvct8hLcmEfeOMqy_h_WF8ZVCCwjMmPFKIm7_CIlNaq8Tut2QAtP00CtD7aEw?width=2052&height=1602&cropmode=none\"></p>\n<p>然后神奇的事情发生了！！！</p>\n<p><img src=\"https://zlpzbg.sn.files.1drv.com/y4mH8I53tG-7Hi_BM0YGK0B6UwP4RDwChn2ani8IllUmZxbD1-X76JxjEnWDBEIxzdYmPo2XIK4Fs8BdY9A__Erf5eC1Z8w2JPndhjFTOCxDd6Adjkyx5GKpOLS4ctVJ83HgwPiQK8jeSaYBMYtRCq1UqjtPogSucjoobH12M3dLNc_sS7sMgF8KKOw5V2EoEpCAqDOygz3dOJxSnkRpcexsg?width=2736&height=1824&cropmode=none\"></p>\n<p>竟然真的可以，这样其实可以变相的随意设置UWP应用下载图片的位置了！！！</p>\n<p>这样来说，那么电影和电视里设置查找视频的源，是不是能达到同样的效果呢？没有测试，有需要可以去试试哦。</p>\n<p>PS:大半夜发现了，忍不住想写个文章。。。虽然没人看😂</p>\n","excerpt":"","more":"<p>发现这个彩蛋，源于我的应用“<a href=\"https://www.microsoft.com/store/apps/9NJLDD2934RK\">爱美图</a>”，有一个用户在应用下面的评论说：</p>\n<blockquote>\n<p>不知道下载到了哪里（后来找到了在OneDrive\\图片\\爱美图），不能自定义下载位置，很不方便</p>\n</blockquote>\n<p>但是看到评论的我一脸懵逼，我使用的是KnownFolders.PicturesLibrary创建的文件夹，按道理不应该在C盘的图片文件夹吗？怎么回到OneDrive里面去了。直到我发现我的台式机也是这样，我又打开surface看了一下，确实在C盘，没错。这就奇怪了。</p>\n<p>不过我突然想起来其几天设置过系统自带的照片应用的图片源。这下发现了不得了的事情。</p>\n<h2 id=\"情况一\"><a href=\"#情况一\" class=\"headerlink\" title=\"情况一\"></a>情况一</h2><p>下面这是Surface上照片-设置里源的顺序，<strong>系统C盘的图片在上面，OneDrive在下面</strong>。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在<strong>系统C盘的图片</strong>。</p>\n<p><img src=\"https://hcdyxa.sn.files.1drv.com/y4mzkjNsG-tpTvio79mCThbU37CND_pGGIJnaDWDOG1QTDdP0o3TfM8leTFmVMbJ3O5i1ivi2fE5E_3BHTvnWpordTBagaLNrkeWYPD89q1LFby9vRmaqW_eI7w1bIc1-7vWSkQlvovFvO8klhFDAYpmGLG1XvcZUSDZdCWv61AJsGkJfUAALk05ATj0Ce92ooSJCVM3wUzL7WUC6p0N721_A?width=2052&height=1602&cropmode=none\"></p>\n<p>Surface上的图片-设置</p>\n<h2 id=\"情况二\"><a href=\"#情况二\" class=\"headerlink\" title=\"情况二\"></a>情况二</h2><p>下面这是台式机上照片-设置里源的顺序， <strong>OneDrive</strong> <strong>在上面，</strong> <strong>系统C盘的图片</strong> <strong>在下面</strong>。这种情况下使用“KnownFolders.PicturesLibrary.CreateFolderAsync”获取的文件夹路径在 <strong>OneDrive里的图片文件夹</strong>。</p>\n<p><img src=\"https://vivpra.sn.files.1drv.com/y4m3IyimbjuY6ekwvokukg2zZIWsrOB6oIm0nz3mQfOJWJFDRWasE_aHec_NeIkRRqAIxWQcJrOvjhfdNunO3OY_Mua6FGO-JbzXt5NWrXPaUWFxRbkr32QffXdnkrqrN0uB7Jhedd6M5y5r76RKymzWtt0wH-l9wyoEeKVd-xIqVT-EVT6MGsBqeTvY2rBObZuHvCf-2p8TtlNraMFqNNqdw?width=2052&height=1602&cropmode=none\"></p>\n<p>台式机上图片-设置</p>\n<h2 id=\"猜想\"><a href=\"#猜想\" class=\"headerlink\" title=\"猜想\"></a>猜想</h2><p>这么看来是不是最上面的路径就是 PicturesLibrary 获取到的路径呢？那么我把最上面的路径改成D盘的任意文件夹会怎么样呢？设置如下图。</p>\n<p><img src=\"https://yt5mza.sn.files.1drv.com/y4m3LywuxIyH7ydcg6tJ24Np6L0_vz5RoTbvTdHcjbLHxPkIUOcvDF-NdFBTFAcjYSNHM9Vi8edR7b-rPSf7ez0lxKgk7izYGUx-LmQj3E5JU_5dORmy9_XKgmxqpTQ_NMeqIYWRgiywd-ksP2qYMhN3QWTKYvct8hLcmEfeOMqy_h_WF8ZVCCwjMmPFKIm7_CIlNaq8Tut2QAtP00CtD7aEw?width=2052&height=1602&cropmode=none\"></p>\n<p>然后神奇的事情发生了！！！</p>\n<p><img src=\"https://zlpzbg.sn.files.1drv.com/y4mH8I53tG-7Hi_BM0YGK0B6UwP4RDwChn2ani8IllUmZxbD1-X76JxjEnWDBEIxzdYmPo2XIK4Fs8BdY9A__Erf5eC1Z8w2JPndhjFTOCxDd6Adjkyx5GKpOLS4ctVJ83HgwPiQK8jeSaYBMYtRCq1UqjtPogSucjoobH12M3dLNc_sS7sMgF8KKOw5V2EoEpCAqDOygz3dOJxSnkRpcexsg?width=2736&height=1824&cropmode=none\"></p>\n<p>竟然真的可以，这样其实可以变相的随意设置UWP应用下载图片的位置了！！！</p>\n<p>这样来说，那么电影和电视里设置查找视频的源，是不是能达到同样的效果呢？没有测试，有需要可以去试试哦。</p>\n<p>PS:大半夜发现了，忍不住想写个文章。。。虽然没人看😂</p>\n"},{"title":"UWP WebView修改User-Agent","date":"2020-01-01T14:56:41.000Z","_content":"\n这个需求源于开发[开眼UWP](http://t.cn/E5CXWi4)的时候，有一个[网页](https://www.eyepetizer.net/campaign/rewind2019.html?shareable=true#1)无法正常播放音频和视频。有小伙伴说可能是因为网页限制了只能在手机端使用（其实不是）。所以找到了以下方法。\n\n## 解决方法\n\n方法出处：[Setting a custom User-Agent in the UWP WebView control](https://www.pedrolamas.com/2017/03/21/setting-a-custom-user-agent-in-the-uwp-webview-control/)\n\n首先写了一个类，导入了“urlmon.dll”这个win32的api。 [Win32 APIs在UWP中可用的列表。](https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis)\n\n public class UserAgentHelper\n    {\n        \\[DllImport(\"urlmon.dll\", CharSet = CharSet.Ansi, ExactSpelling = true)\\]\n        private static extern int UrlMkSetSessionOption(int dwOption, string pBuffer, int dwBufferLength, int dwReserved);\n\n        private const int URLMON\\_OPTION\\_USERAGENT = 0x10000001;\n\n        public static void SetDefaultUserAgent(string userAgent)\n        {\n            UrlMkSetSessionOption(URLMON\\_OPTION\\_USERAGENT, userAgent, userAgent.Length, 0);\n        }\n    }\n\n然后在App.cs\n\n public App()\n        {\n            InitializeComponent();\n\n            UserAgentHelper.SetDefaultUserAgent(\"Mozilla/5.0 (Linux; U; Android 10; zh-cn; MIX 2S Build/QKQ1.190828.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.4.15\");\n\n        }\n\n就这样，应用中所有的WebView都修改了User-Agent。不用单独设置。\n\n## 顺便提一下\n\n在网上搜索修改UA出现最多的是通过修改`NavigateWithHttpRequestMessage`来修改。当时我试了没有效果，不知道什么原因。下面把我的代码放上来，希望那天有大佬看到了，指导一下。\n\n首先订阅`NavigationStarting`事件\n\n\\_webView.NavigationStarting += \\_webView\\_NavigationStarting;\n\n然后在 `NavigationStarting` 事件中取消事件，相当于拦截了webview的加载，然后在Header中添加UA。\n\n  private void \\_webView\\_NavigationStarting(WebView sender, WebViewNavigationStartingEventArgs args)\n        {\n            \\_webView.NavigationStarting -= \\_webView\\_NavigationStarting;\n            args.Cancel = true;\n            AddUserAgent(args.Uri);\n        }\n\nprivate void AddUserAgent(Uri uri)\n        {\n            var httpRequestMessage = new HttpRequestMessage(HttpMethod.Get, uri);\n            var userAgent = \"MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/GRJ22; CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1\";\n            httpRequestMessage.Headers.Add(\"User-Agent\", userAgent);\n            \\_webView.NavigateWithHttpRequestMessage(httpRequestMessage);\n        }","source":"_posts/UWP/uwp-webview-edit-user-agent.md","raw":"---\ntitle: UWP WebView修改User-Agent\ntags:\n  - UWP\n  - WebView\ncategories:\n  - - 开发笔记\ndate: 2020-01-01 22:56:41\n---\n\n这个需求源于开发[开眼UWP](http://t.cn/E5CXWi4)的时候，有一个[网页](https://www.eyepetizer.net/campaign/rewind2019.html?shareable=true#1)无法正常播放音频和视频。有小伙伴说可能是因为网页限制了只能在手机端使用（其实不是）。所以找到了以下方法。\n\n## 解决方法\n\n方法出处：[Setting a custom User-Agent in the UWP WebView control](https://www.pedrolamas.com/2017/03/21/setting-a-custom-user-agent-in-the-uwp-webview-control/)\n\n首先写了一个类，导入了“urlmon.dll”这个win32的api。 [Win32 APIs在UWP中可用的列表。](https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis)\n\n public class UserAgentHelper\n    {\n        \\[DllImport(\"urlmon.dll\", CharSet = CharSet.Ansi, ExactSpelling = true)\\]\n        private static extern int UrlMkSetSessionOption(int dwOption, string pBuffer, int dwBufferLength, int dwReserved);\n\n        private const int URLMON\\_OPTION\\_USERAGENT = 0x10000001;\n\n        public static void SetDefaultUserAgent(string userAgent)\n        {\n            UrlMkSetSessionOption(URLMON\\_OPTION\\_USERAGENT, userAgent, userAgent.Length, 0);\n        }\n    }\n\n然后在App.cs\n\n public App()\n        {\n            InitializeComponent();\n\n            UserAgentHelper.SetDefaultUserAgent(\"Mozilla/5.0 (Linux; U; Android 10; zh-cn; MIX 2S Build/QKQ1.190828.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.4.15\");\n\n        }\n\n就这样，应用中所有的WebView都修改了User-Agent。不用单独设置。\n\n## 顺便提一下\n\n在网上搜索修改UA出现最多的是通过修改`NavigateWithHttpRequestMessage`来修改。当时我试了没有效果，不知道什么原因。下面把我的代码放上来，希望那天有大佬看到了，指导一下。\n\n首先订阅`NavigationStarting`事件\n\n\\_webView.NavigationStarting += \\_webView\\_NavigationStarting;\n\n然后在 `NavigationStarting` 事件中取消事件，相当于拦截了webview的加载，然后在Header中添加UA。\n\n  private void \\_webView\\_NavigationStarting(WebView sender, WebViewNavigationStartingEventArgs args)\n        {\n            \\_webView.NavigationStarting -= \\_webView\\_NavigationStarting;\n            args.Cancel = true;\n            AddUserAgent(args.Uri);\n        }\n\nprivate void AddUserAgent(Uri uri)\n        {\n            var httpRequestMessage = new HttpRequestMessage(HttpMethod.Get, uri);\n            var userAgent = \"MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/GRJ22; CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1\";\n            httpRequestMessage.Headers.Add(\"User-Agent\", userAgent);\n            \\_webView.NavigateWithHttpRequestMessage(httpRequestMessage);\n        }","slug":"UWP/uwp-webview-edit-user-agent","published":1,"updated":"2025-02-21T10:54:54.000Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1s001dews71p1yfalm","content":"<p>这个需求源于开发<a href=\"http://t.cn/E5CXWi4\">开眼UWP</a>的时候，有一个<a href=\"https://www.eyepetizer.net/campaign/rewind2019.html?shareable=true#1\">网页</a>无法正常播放音频和视频。有小伙伴说可能是因为网页限制了只能在手机端使用（其实不是）。所以找到了以下方法。</p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><p>方法出处：<a href=\"https://www.pedrolamas.com/2017/03/21/setting-a-custom-user-agent-in-the-uwp-webview-control/\">Setting a custom User-Agent in the UWP WebView control</a></p>\n<p>首先写了一个类，导入了“urlmon.dll”这个win32的api。 <a href=\"https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis\">Win32 APIs在UWP中可用的列表。</a></p>\n<p> public class UserAgentHelper<br>    {<br>        [DllImport(“urlmon.dll”, CharSet &#x3D; CharSet.Ansi, ExactSpelling &#x3D; true)]<br>        private static extern int UrlMkSetSessionOption(int dwOption, string pBuffer, int dwBufferLength, int dwReserved);</p>\n<pre><code>    private const int URLMON\\_OPTION\\_USERAGENT = 0x10000001;\n\n    public static void SetDefaultUserAgent(string userAgent)\n    &#123;\n        UrlMkSetSessionOption(URLMON\\_OPTION\\_USERAGENT, userAgent, userAgent.Length, 0);\n    &#125;\n&#125;\n</code></pre>\n<p>然后在App.cs</p>\n<p> public App()<br>        {<br>            InitializeComponent();</p>\n<pre><code>        UserAgentHelper.SetDefaultUserAgent(&quot;Mozilla/5.0 (Linux; U; Android 10; zh-cn; MIX 2S Build/QKQ1.190828.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.4.15&quot;);\n\n    &#125;\n</code></pre>\n<p>就这样，应用中所有的WebView都修改了User-Agent。不用单独设置。</p>\n<h2 id=\"顺便提一下\"><a href=\"#顺便提一下\" class=\"headerlink\" title=\"顺便提一下\"></a>顺便提一下</h2><p>在网上搜索修改UA出现最多的是通过修改<code>NavigateWithHttpRequestMessage</code>来修改。当时我试了没有效果，不知道什么原因。下面把我的代码放上来，希望那天有大佬看到了，指导一下。</p>\n<p>首先订阅<code>NavigationStarting</code>事件</p>\n<p>_webView.NavigationStarting +&#x3D; _webView_NavigationStarting;</p>\n<p>然后在 <code>NavigationStarting</code> 事件中取消事件，相当于拦截了webview的加载，然后在Header中添加UA。</p>\n<p>  private void _webView_NavigationStarting(WebView sender, WebViewNavigationStartingEventArgs args)<br>        {<br>            _webView.NavigationStarting -&#x3D; _webView_NavigationStarting;<br>            args.Cancel &#x3D; true;<br>            AddUserAgent(args.Uri);<br>        }</p>\n<p>private void AddUserAgent(Uri uri)<br>        {<br>            var httpRequestMessage &#x3D; new HttpRequestMessage(HttpMethod.Get, uri);<br>            var userAgent &#x3D; “MQQBrowser&#x2F;26 Mozilla&#x2F;5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build&#x2F;GRJ22; CyanogenMod-7) AppleWebKit&#x2F;533.1 (KHTML, like Gecko) Version&#x2F;4.0 Mobile Safari&#x2F;533.1”;<br>            httpRequestMessage.Headers.Add(“User-Agent”, userAgent);<br>            _webView.NavigateWithHttpRequestMessage(httpRequestMessage);<br>        }</p>\n","excerpt":"","more":"<p>这个需求源于开发<a href=\"http://t.cn/E5CXWi4\">开眼UWP</a>的时候，有一个<a href=\"https://www.eyepetizer.net/campaign/rewind2019.html?shareable=true#1\">网页</a>无法正常播放音频和视频。有小伙伴说可能是因为网页限制了只能在手机端使用（其实不是）。所以找到了以下方法。</p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><p>方法出处：<a href=\"https://www.pedrolamas.com/2017/03/21/setting-a-custom-user-agent-in-the-uwp-webview-control/\">Setting a custom User-Agent in the UWP WebView control</a></p>\n<p>首先写了一个类，导入了“urlmon.dll”这个win32的api。 <a href=\"https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis\">Win32 APIs在UWP中可用的列表。</a></p>\n<p> public class UserAgentHelper<br>    {<br>        [DllImport(“urlmon.dll”, CharSet &#x3D; CharSet.Ansi, ExactSpelling &#x3D; true)]<br>        private static extern int UrlMkSetSessionOption(int dwOption, string pBuffer, int dwBufferLength, int dwReserved);</p>\n<pre><code>    private const int URLMON\\_OPTION\\_USERAGENT = 0x10000001;\n\n    public static void SetDefaultUserAgent(string userAgent)\n    &#123;\n        UrlMkSetSessionOption(URLMON\\_OPTION\\_USERAGENT, userAgent, userAgent.Length, 0);\n    &#125;\n&#125;\n</code></pre>\n<p>然后在App.cs</p>\n<p> public App()<br>        {<br>            InitializeComponent();</p>\n<pre><code>        UserAgentHelper.SetDefaultUserAgent(&quot;Mozilla/5.0 (Linux; U; Android 10; zh-cn; MIX 2S Build/QKQ1.190828.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.4.15&quot;);\n\n    &#125;\n</code></pre>\n<p>就这样，应用中所有的WebView都修改了User-Agent。不用单独设置。</p>\n<h2 id=\"顺便提一下\"><a href=\"#顺便提一下\" class=\"headerlink\" title=\"顺便提一下\"></a>顺便提一下</h2><p>在网上搜索修改UA出现最多的是通过修改<code>NavigateWithHttpRequestMessage</code>来修改。当时我试了没有效果，不知道什么原因。下面把我的代码放上来，希望那天有大佬看到了，指导一下。</p>\n<p>首先订阅<code>NavigationStarting</code>事件</p>\n<p>_webView.NavigationStarting +&#x3D; _webView_NavigationStarting;</p>\n<p>然后在 <code>NavigationStarting</code> 事件中取消事件，相当于拦截了webview的加载，然后在Header中添加UA。</p>\n<p>  private void _webView_NavigationStarting(WebView sender, WebViewNavigationStartingEventArgs args)<br>        {<br>            _webView.NavigationStarting -&#x3D; _webView_NavigationStarting;<br>            args.Cancel &#x3D; true;<br>            AddUserAgent(args.Uri);<br>        }</p>\n<p>private void AddUserAgent(Uri uri)<br>        {<br>            var httpRequestMessage &#x3D; new HttpRequestMessage(HttpMethod.Get, uri);<br>            var userAgent &#x3D; “MQQBrowser&#x2F;26 Mozilla&#x2F;5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build&#x2F;GRJ22; CyanogenMod-7) AppleWebKit&#x2F;533.1 (KHTML, like Gecko) Version&#x2F;4.0 Mobile Safari&#x2F;533.1”;<br>            httpRequestMessage.Headers.Add(“User-Agent”, userAgent);<br>            _webView.NavigateWithHttpRequestMessage(httpRequestMessage);<br>        }</p>\n"},{"title":"UWP使用WTS问题-Toast Notification","date":"2019-11-08T08:18:56.000Z","_content":"\n[Windows Template Studio](https://github.com/microsoft/WindowsTemplateStudio)(WTS)非常好用，极大的简化了开发UWP的工作。但是我也遇到了一个问题。并且在Github的WTS项目下面发了[issue](https://github.com/microsoft/WindowsTemplateStudio/issues/3291)。\n\n关于 [ActivationService & ActivationHandlers](https://github.com/microsoft/WindowsTemplateStudio/blob/dev/docs/activation.md)的文档。","source":"_posts/UWP/uwp-use-windowstemplatestudio-problem-toast.md","raw":"---\ntitle: UWP使用WTS问题-Toast Notification\ntags:\n  - UWP\n  - WTS\ncategories:\n  - - 开发笔记\ndate: 2019-11-08 16:18:56\n---\n\n[Windows Template Studio](https://github.com/microsoft/WindowsTemplateStudio)(WTS)非常好用，极大的简化了开发UWP的工作。但是我也遇到了一个问题。并且在Github的WTS项目下面发了[issue](https://github.com/microsoft/WindowsTemplateStudio/issues/3291)。\n\n关于 [ActivationService & ActivationHandlers](https://github.com/microsoft/WindowsTemplateStudio/blob/dev/docs/activation.md)的文档。","slug":"UWP/uwp-use-windowstemplatestudio-problem-toast","published":1,"updated":"2025-02-21T10:54:54.000Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1t001gews7fl87emun","content":"<p><a href=\"https://github.com/microsoft/WindowsTemplateStudio\">Windows Template Studio</a>(WTS)非常好用，极大的简化了开发UWP的工作。但是我也遇到了一个问题。并且在Github的WTS项目下面发了<a href=\"https://github.com/microsoft/WindowsTemplateStudio/issues/3291\">issue</a>。</p>\n<p>关于 <a href=\"https://github.com/microsoft/WindowsTemplateStudio/blob/dev/docs/activation.md\">ActivationService &amp; ActivationHandlers</a>的文档。</p>\n","excerpt":"","more":"<p><a href=\"https://github.com/microsoft/WindowsTemplateStudio\">Windows Template Studio</a>(WTS)非常好用，极大的简化了开发UWP的工作。但是我也遇到了一个问题。并且在Github的WTS项目下面发了<a href=\"https://github.com/microsoft/WindowsTemplateStudio/issues/3291\">issue</a>。</p>\n<p>关于 <a href=\"https://github.com/microsoft/WindowsTemplateStudio/blob/dev/docs/activation.md\">ActivationService &amp; ActivationHandlers</a>的文档。</p>\n"},{"title":"UWP WebView注入JS","date":"2020-01-01T15:03:21.000Z","_content":"\n\\[post id=1372\\]\n\n接上面这篇文章，在修改UA还是失败后，感谢蓝火火大佬，告诉我是因为没有响应点击事件，只响应了触摸事件。并且亲自操刀写下了下面的js代码：\n\n(function (d) {\n    const fun = function (e) {\n        if (e.touches === undefined) {\n            e.touches = \\[{ pageX: e.screenX, pageY: e.screenY }\\]\n        }\n    }\n    d.addEventListener('pointerdown', fun, true)\n    d.addEventListener('pointermove', fun, true)\n    d.body.style\\[\"userSelect\"\\] = \"none\"\n    d.body.style\\[\"webkitUserSelect\"\\] = \"none\"\n})(document)\n\n然后我只需要在WebView里面无脑注入就可以了。\n\nawait \\_webView.InvokeScriptAsync(\"eval\", new string\\[\\]\n             {\n                 @\"(function (d) {\n     const fun = function (e) {\n         if (e.touches === undefined) {\n             e.touches = \\[{ pageX: e.screenX, pageY: e.screenY }\\]\n         }\n     }\n     d.addEventListener('pointerdown', fun, true)\n     d.addEventListener('pointermove', fun, true)\n     d.body.style\\['userSelect'\\] = 'none'\n     d.body.style\\['webkitUserSelect'\\] = 'none'\n })(document)\"\n             });","source":"_posts/UWP/uwp-webview-injection-js.md","raw":"---\ntitle: UWP WebView注入JS\ntags:\n  - UWP\n  - WebView\ncategories:\n  - - 开发笔记\ndate: 2020-01-01 23:03:21\n---\n\n\\[post id=1372\\]\n\n接上面这篇文章，在修改UA还是失败后，感谢蓝火火大佬，告诉我是因为没有响应点击事件，只响应了触摸事件。并且亲自操刀写下了下面的js代码：\n\n(function (d) {\n    const fun = function (e) {\n        if (e.touches === undefined) {\n            e.touches = \\[{ pageX: e.screenX, pageY: e.screenY }\\]\n        }\n    }\n    d.addEventListener('pointerdown', fun, true)\n    d.addEventListener('pointermove', fun, true)\n    d.body.style\\[\"userSelect\"\\] = \"none\"\n    d.body.style\\[\"webkitUserSelect\"\\] = \"none\"\n})(document)\n\n然后我只需要在WebView里面无脑注入就可以了。\n\nawait \\_webView.InvokeScriptAsync(\"eval\", new string\\[\\]\n             {\n                 @\"(function (d) {\n     const fun = function (e) {\n         if (e.touches === undefined) {\n             e.touches = \\[{ pageX: e.screenX, pageY: e.screenY }\\]\n         }\n     }\n     d.addEventListener('pointerdown', fun, true)\n     d.addEventListener('pointermove', fun, true)\n     d.body.style\\['userSelect'\\] = 'none'\n     d.body.style\\['webkitUserSelect'\\] = 'none'\n })(document)\"\n             });","slug":"UWP/uwp-webview-injection-js","published":1,"updated":"2025-02-21T10:54:54.001Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1t001jews77hi9allx","content":"<p>[post id&#x3D;1372]</p>\n<p>接上面这篇文章，在修改UA还是失败后，感谢蓝火火大佬，告诉我是因为没有响应点击事件，只响应了触摸事件。并且亲自操刀写下了下面的js代码：</p>\n<p>(function (d) {<br>    const fun &#x3D; function (e) {<br>        if (e.touches &#x3D;&#x3D;&#x3D; undefined) {<br>            e.touches &#x3D; [{ pageX: e.screenX, pageY: e.screenY }]<br>        }<br>    }<br>    d.addEventListener(‘pointerdown’, fun, true)<br>    d.addEventListener(‘pointermove’, fun, true)<br>    d.body.style[“userSelect”] &#x3D; “none”<br>    d.body.style[“webkitUserSelect”] &#x3D; “none”<br>})(document)</p>\n<p>然后我只需要在WebView里面无脑注入就可以了。</p>\n<p>await _webView.InvokeScriptAsync(“eval”, new string[]<br>             {<br>                 @”(function (d) {<br>     const fun &#x3D; function (e) {<br>         if (e.touches &#x3D;&#x3D;&#x3D; undefined) {<br>             e.touches &#x3D; [{ pageX: e.screenX, pageY: e.screenY }]<br>         }<br>     }<br>     d.addEventListener(‘pointerdown’, fun, true)<br>     d.addEventListener(‘pointermove’, fun, true)<br>     d.body.style[‘userSelect’] &#x3D; ‘none’<br>     d.body.style[‘webkitUserSelect’] &#x3D; ‘none’<br> })(document)”<br>             });</p>\n","excerpt":"","more":"<p>[post id&#x3D;1372]</p>\n<p>接上面这篇文章，在修改UA还是失败后，感谢蓝火火大佬，告诉我是因为没有响应点击事件，只响应了触摸事件。并且亲自操刀写下了下面的js代码：</p>\n<p>(function (d) {<br>    const fun &#x3D; function (e) {<br>        if (e.touches &#x3D;&#x3D;&#x3D; undefined) {<br>            e.touches &#x3D; [{ pageX: e.screenX, pageY: e.screenY }]<br>        }<br>    }<br>    d.addEventListener(‘pointerdown’, fun, true)<br>    d.addEventListener(‘pointermove’, fun, true)<br>    d.body.style[“userSelect”] &#x3D; “none”<br>    d.body.style[“webkitUserSelect”] &#x3D; “none”<br>})(document)</p>\n<p>然后我只需要在WebView里面无脑注入就可以了。</p>\n<p>await _webView.InvokeScriptAsync(“eval”, new string[]<br>             {<br>                 @”(function (d) {<br>     const fun &#x3D; function (e) {<br>         if (e.touches &#x3D;&#x3D;&#x3D; undefined) {<br>             e.touches &#x3D; [{ pageX: e.screenX, pageY: e.screenY }]<br>         }<br>     }<br>     d.addEventListener(‘pointerdown’, fun, true)<br>     d.addEventListener(‘pointermove’, fun, true)<br>     d.body.style[‘userSelect’] &#x3D; ‘none’<br>     d.body.style[‘webkitUserSelect’] &#x3D; ‘none’<br> })(document)”<br>             });</p>\n"},{"title":"Win10 UWP初始屏幕设计","date":"2017-09-01T18:30:30.000Z","_content":"\n首先说一下初始屏幕设计的必要性。\n\n*   如果UWP应用的启动后需要加载的资源比较多，初始屏幕过后，有较长的等待时间，这时一个延长的初始屏幕可以很好的解决这个问题。\n*   系统默认的初始屏幕过于单调简单，一个更好的初始屏幕，会使app更加优秀。\n<!-- more -->\n初始屏幕的设置，在widows开发者文档中有详细介绍（[延长显示初始屏幕的时间](https://docs.microsoft.com/zh-cn/windows/uwp/launch-resume/create-a-customized-splash-screen)），但是按照这种方法做出来的有一个问题就是手机界面兼容性不好，会出现错位等问题，在博客园MS-UAP的“[人群中看到你的第一眼-初始屏幕](http://www.cnblogs.com/ms-uap/p/5314026.html)”中有解决办法。 完成后的代码如下：\n```\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Navigation;\nusing Windows.ApplicationModel.Activation;\nusing Windows.UI.Core;\nusing Windows.UI.ViewManagement;\nusing PasswordTest.Helpers;\nusing Windows.UI;\nusing System.Reflection;\n// https://go.microsoft.com/fwlink/?LinkId=234238 上介绍了“空白页”项模板\n\nnamespace PasswordTest\n{\n///\n\n/// 可用于自身或导航至 Frame 内部的空白页。\n///\n\npublic sealed partial class SplashPage : Page\n{\ninternal Rect splashImageRect; // 用来获取屏幕显示区域的大小\nprivate SplashScreen splash; // Variable to hold the splash screen object.\ninternal bool dismissed = false; //追踪启动画面解除状态的变量。\ninternal Frame rootFrame;\n\n// Define methods and constructor\npublic SplashPage(SplashScreen splashscreen, bool loadState)\n{\nInitializeComponent();\n\n// Listen for window resize events to reposition the extended splash screen image accordingly.\n// This ensures that the extended splash screen formats properly in response to window resizing.\nWindow.Current.SizeChanged += new WindowSizeChangedEventHandler(ExtendedSplash\\_OnResize);\n\nsplash = splashscreen;\nif (splash != null)\n{\n// 注册一个事件处理程序，以便在启动屏幕被关闭时执行。\nsplash.Dismissed += new TypedEventHandler<SplashScreen, Object>(DismissedEventHandler);\n\n// 检索启动屏幕图像的窗口坐标。\nsplashImageRect = splash.ImageLocation;\nPositionImage();\n\n// 如果使用，请包括一个定位进度控制的方法。\nPositionRing();\n}\n\n// Create a Frame to act as the navigation context\nrootFrame = new Frame();\n}\n\nvoid PositionImage()\n{\n// desktop\nif (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.desktop\", StringComparison.CurrentCultureIgnoreCase))\n{\nextendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X);\nextendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y);\nextendedSplashImage.Height = splashImageRect.Height;\nextendedSplashImage.Width = splashImageRect.Width;\n}\n// mobile\nelse if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.mobile\", StringComparison.CurrentCultureIgnoreCase))\n{\nif (Windows.Foundation.Metadata.ApiInformation.IsTypePresent(\"Windows.UI.ViewManagement.StatusBar\"))\n{\n// 需要引用Windows Mobile Extensions for the UWP\nStatusBar sb = StatusBar.GetForCurrentView();\n// 调整为透明，也可以用启动屏幕的背景色+不透明\nsb.BackgroundOpacity = 0;\nsb.ForegroundColor = Colors.Black;\n\n// 撑满手机屏幕\nWindows.UI.ViewManagement.ApplicationView.GetForCurrentView().SetDesiredBoundsMode(Windows.UI.ViewManagement.ApplicationViewBoundsMode.UseCoreWindow);\n}\n// 获取一个值，该值表示每个视图（布局）像素的原始（物理）像素数。\ndouble density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n\nextendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X / density);\nextendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y / density);\nextendedSplashImage.Height = splashImageRect.Height / density;\nextendedSplashImage.Width = splashImageRect.Width / density;\n}\n}\n\nvoid PositionRing()\n{\nsplashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\nsplashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n}\n// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。\nasync void DismissedEventHandler(SplashScreen sender, object e)\n{\ndismissed = true;\n// 在这儿完成应用设置的操作\n\n//在应用设置完成后，自动跳转到主页\nawait Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n{\n//操作UI的代码\nDismissExtendedSplash();\n});\n}\n\nvoid DismissExtendedSplash()\n{\n// 导航到mainpage\nrootFrame.Navigate(typeof(MainPage));\n// 将frame放在当前窗口中\nWindow.Current.Content = rootFrame;\n}\n\nvoid ExtendedSplash\\_OnResize(Object sender, WindowSizeChangedEventArgs e)\n{\n// 安全更新extended splash screen image的坐标.\n//当用户调整窗口大小时，将执行此功能。\nif (splash != null)\n{\n// Update the coordinates of the splash screen image.\nsplashImageRect = splash.ImageLocation;\nPositionImage();\n\n// If applicable, include a method for positioning a progress control.\n// PositionRing();\n}\n}\n\n//测试按钮\nprivate void DismissSplashButton\\_Click(object sender, RoutedEventArgs e)\n{\nDismissExtendedSplash();\n}\n\n//async void RestoreStateAsync(bool loadState)\n//{\n// if (loadState)\n// {\n// // 代码可以在这里加载你的应用程序的状态\n\n// }\n//}\n}\n\n}\n\n但是，我按照这两篇帖子做后发现在初始界面加载完后需要导航到主页时，却发生异常。 提示跨线程操作UI，经过一番研究后，解决方法如下：\n\n// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。\nasync void DismissedEventHandler(SplashScreen sender, object e)\n{\ndismissed = true;\n// 在这儿完成应用设置的操作\n\n//在应用设置完成后，自动跳转到主页\nawait Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n{\n//操作UI的代码\nDismissExtendedSplash();\n});\n}\n```\n非UI线程访问UI参考这篇文章。[点击链接](https://lindexi.oschina.io/lindexi/post/win10-uwp-%E9%9D%9Eui%E7%BA%BF%E7%A8%8B%E8%AE%BF%E9%97%AE-ui.html) 这样一个延长的初始屏幕就完成了，并且适配手机和pc，其他的就看自己发挥了。 还有一个问题是，在手机上ProgressRing不显示的问题，目前还没时间研究，等有结果了，再更新~ 更新：手机上不显示ProgressRing问题的原因找到了，是因为ProgressRing的位置有问题，就是它的坐标超出屏幕的显示范围了，所以看不到，具体解决方法及位置计算方法，详见[UWP手机启动屏幕控件位置计算](https://www.yzj0308.com/uwp%E6%89%8B%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%B1%8F%E5%B9%95%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97/)。","source":"_posts/UWP/uwp初始屏幕设计.md","raw":"---\ntitle: Win10 UWP初始屏幕设计\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2017-09-02 02:30:30\n---\n\n首先说一下初始屏幕设计的必要性。\n\n*   如果UWP应用的启动后需要加载的资源比较多，初始屏幕过后，有较长的等待时间，这时一个延长的初始屏幕可以很好的解决这个问题。\n*   系统默认的初始屏幕过于单调简单，一个更好的初始屏幕，会使app更加优秀。\n<!-- more -->\n初始屏幕的设置，在widows开发者文档中有详细介绍（[延长显示初始屏幕的时间](https://docs.microsoft.com/zh-cn/windows/uwp/launch-resume/create-a-customized-splash-screen)），但是按照这种方法做出来的有一个问题就是手机界面兼容性不好，会出现错位等问题，在博客园MS-UAP的“[人群中看到你的第一眼-初始屏幕](http://www.cnblogs.com/ms-uap/p/5314026.html)”中有解决办法。 完成后的代码如下：\n```\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Navigation;\nusing Windows.ApplicationModel.Activation;\nusing Windows.UI.Core;\nusing Windows.UI.ViewManagement;\nusing PasswordTest.Helpers;\nusing Windows.UI;\nusing System.Reflection;\n// https://go.microsoft.com/fwlink/?LinkId=234238 上介绍了“空白页”项模板\n\nnamespace PasswordTest\n{\n///\n\n/// 可用于自身或导航至 Frame 内部的空白页。\n///\n\npublic sealed partial class SplashPage : Page\n{\ninternal Rect splashImageRect; // 用来获取屏幕显示区域的大小\nprivate SplashScreen splash; // Variable to hold the splash screen object.\ninternal bool dismissed = false; //追踪启动画面解除状态的变量。\ninternal Frame rootFrame;\n\n// Define methods and constructor\npublic SplashPage(SplashScreen splashscreen, bool loadState)\n{\nInitializeComponent();\n\n// Listen for window resize events to reposition the extended splash screen image accordingly.\n// This ensures that the extended splash screen formats properly in response to window resizing.\nWindow.Current.SizeChanged += new WindowSizeChangedEventHandler(ExtendedSplash\\_OnResize);\n\nsplash = splashscreen;\nif (splash != null)\n{\n// 注册一个事件处理程序，以便在启动屏幕被关闭时执行。\nsplash.Dismissed += new TypedEventHandler<SplashScreen, Object>(DismissedEventHandler);\n\n// 检索启动屏幕图像的窗口坐标。\nsplashImageRect = splash.ImageLocation;\nPositionImage();\n\n// 如果使用，请包括一个定位进度控制的方法。\nPositionRing();\n}\n\n// Create a Frame to act as the navigation context\nrootFrame = new Frame();\n}\n\nvoid PositionImage()\n{\n// desktop\nif (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.desktop\", StringComparison.CurrentCultureIgnoreCase))\n{\nextendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X);\nextendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y);\nextendedSplashImage.Height = splashImageRect.Height;\nextendedSplashImage.Width = splashImageRect.Width;\n}\n// mobile\nelse if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.mobile\", StringComparison.CurrentCultureIgnoreCase))\n{\nif (Windows.Foundation.Metadata.ApiInformation.IsTypePresent(\"Windows.UI.ViewManagement.StatusBar\"))\n{\n// 需要引用Windows Mobile Extensions for the UWP\nStatusBar sb = StatusBar.GetForCurrentView();\n// 调整为透明，也可以用启动屏幕的背景色+不透明\nsb.BackgroundOpacity = 0;\nsb.ForegroundColor = Colors.Black;\n\n// 撑满手机屏幕\nWindows.UI.ViewManagement.ApplicationView.GetForCurrentView().SetDesiredBoundsMode(Windows.UI.ViewManagement.ApplicationViewBoundsMode.UseCoreWindow);\n}\n// 获取一个值，该值表示每个视图（布局）像素的原始（物理）像素数。\ndouble density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n\nextendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X / density);\nextendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y / density);\nextendedSplashImage.Height = splashImageRect.Height / density;\nextendedSplashImage.Width = splashImageRect.Width / density;\n}\n}\n\nvoid PositionRing()\n{\nsplashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\nsplashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n}\n// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。\nasync void DismissedEventHandler(SplashScreen sender, object e)\n{\ndismissed = true;\n// 在这儿完成应用设置的操作\n\n//在应用设置完成后，自动跳转到主页\nawait Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n{\n//操作UI的代码\nDismissExtendedSplash();\n});\n}\n\nvoid DismissExtendedSplash()\n{\n// 导航到mainpage\nrootFrame.Navigate(typeof(MainPage));\n// 将frame放在当前窗口中\nWindow.Current.Content = rootFrame;\n}\n\nvoid ExtendedSplash\\_OnResize(Object sender, WindowSizeChangedEventArgs e)\n{\n// 安全更新extended splash screen image的坐标.\n//当用户调整窗口大小时，将执行此功能。\nif (splash != null)\n{\n// Update the coordinates of the splash screen image.\nsplashImageRect = splash.ImageLocation;\nPositionImage();\n\n// If applicable, include a method for positioning a progress control.\n// PositionRing();\n}\n}\n\n//测试按钮\nprivate void DismissSplashButton\\_Click(object sender, RoutedEventArgs e)\n{\nDismissExtendedSplash();\n}\n\n//async void RestoreStateAsync(bool loadState)\n//{\n// if (loadState)\n// {\n// // 代码可以在这里加载你的应用程序的状态\n\n// }\n//}\n}\n\n}\n\n但是，我按照这两篇帖子做后发现在初始界面加载完后需要导航到主页时，却发生异常。 提示跨线程操作UI，经过一番研究后，解决方法如下：\n\n// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。\nasync void DismissedEventHandler(SplashScreen sender, object e)\n{\ndismissed = true;\n// 在这儿完成应用设置的操作\n\n//在应用设置完成后，自动跳转到主页\nawait Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>\n{\n//操作UI的代码\nDismissExtendedSplash();\n});\n}\n```\n非UI线程访问UI参考这篇文章。[点击链接](https://lindexi.oschina.io/lindexi/post/win10-uwp-%E9%9D%9Eui%E7%BA%BF%E7%A8%8B%E8%AE%BF%E9%97%AE-ui.html) 这样一个延长的初始屏幕就完成了，并且适配手机和pc，其他的就看自己发挥了。 还有一个问题是，在手机上ProgressRing不显示的问题，目前还没时间研究，等有结果了，再更新~ 更新：手机上不显示ProgressRing问题的原因找到了，是因为ProgressRing的位置有问题，就是它的坐标超出屏幕的显示范围了，所以看不到，具体解决方法及位置计算方法，详见[UWP手机启动屏幕控件位置计算](https://www.yzj0308.com/uwp%E6%89%8B%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%B1%8F%E5%B9%95%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97/)。","slug":"UWP/uwp初始屏幕设计","published":1,"updated":"2025-02-21T10:54:54.001Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1u001lews7awv608t1","content":"<p>首先说一下初始屏幕设计的必要性。</p>\n<ul>\n<li>如果UWP应用的启动后需要加载的资源比较多，初始屏幕过后，有较长的等待时间，这时一个延长的初始屏幕可以很好的解决这个问题。</li>\n<li>系统默认的初始屏幕过于单调简单，一个更好的初始屏幕，会使app更加优秀。<span id=\"more\"></span>\n初始屏幕的设置，在widows开发者文档中有详细介绍（<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/launch-resume/create-a-customized-splash-screen\">延长显示初始屏幕的时间</a>），但是按照这种方法做出来的有一个问题就是手机界面兼容性不好，会出现错位等问题，在博客园MS-UAP的“<a href=\"http://www.cnblogs.com/ms-uap/p/5314026.html\">人群中看到你的第一眼-初始屏幕</a>”中有解决办法。 完成后的代码如下：<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">using System;</span><br><span class=\"line\">using System.Collections.Generic;</span><br><span class=\"line\">using System.IO;</span><br><span class=\"line\">using System.Linq;</span><br><span class=\"line\">using System.Runtime.InteropServices.WindowsRuntime;</span><br><span class=\"line\">using Windows.Foundation;</span><br><span class=\"line\">using Windows.Foundation.Collections;</span><br><span class=\"line\">using Windows.UI.Xaml;</span><br><span class=\"line\">using Windows.UI.Xaml.Controls;</span><br><span class=\"line\">using Windows.UI.Xaml.Controls.Primitives;</span><br><span class=\"line\">using Windows.UI.Xaml.Data;</span><br><span class=\"line\">using Windows.UI.Xaml.Input;</span><br><span class=\"line\">using Windows.UI.Xaml.Media;</span><br><span class=\"line\">using Windows.UI.Xaml.Navigation;</span><br><span class=\"line\">using Windows.ApplicationModel.Activation;</span><br><span class=\"line\">using Windows.UI.Core;</span><br><span class=\"line\">using Windows.UI.ViewManagement;</span><br><span class=\"line\">using PasswordTest.Helpers;</span><br><span class=\"line\">using Windows.UI;</span><br><span class=\"line\">using System.Reflection;</span><br><span class=\"line\">// https://go.microsoft.com/fwlink/?LinkId=234238 上介绍了“空白页”项模板</span><br><span class=\"line\"></span><br><span class=\"line\">namespace PasswordTest</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">///</span><br><span class=\"line\"></span><br><span class=\"line\">/// 可用于自身或导航至 Frame 内部的空白页。</span><br><span class=\"line\">///</span><br><span class=\"line\"></span><br><span class=\"line\">public sealed partial class SplashPage : Page</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">internal Rect splashImageRect; // 用来获取屏幕显示区域的大小</span><br><span class=\"line\">private SplashScreen splash; // Variable to hold the splash screen object.</span><br><span class=\"line\">internal bool dismissed = false; //追踪启动画面解除状态的变量。</span><br><span class=\"line\">internal Frame rootFrame;</span><br><span class=\"line\"></span><br><span class=\"line\">// Define methods and constructor</span><br><span class=\"line\">public SplashPage(SplashScreen splashscreen, bool loadState)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">InitializeComponent();</span><br><span class=\"line\"></span><br><span class=\"line\">// Listen for window resize events to reposition the extended splash screen image accordingly.</span><br><span class=\"line\">// This ensures that the extended splash screen formats properly in response to window resizing.</span><br><span class=\"line\">Window.Current.SizeChanged += new WindowSizeChangedEventHandler(ExtendedSplash\\_OnResize);</span><br><span class=\"line\"></span><br><span class=\"line\">splash = splashscreen;</span><br><span class=\"line\">if (splash != null)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 注册一个事件处理程序，以便在启动屏幕被关闭时执行。</span><br><span class=\"line\">splash.Dismissed += new TypedEventHandler&lt;SplashScreen, Object&gt;(DismissedEventHandler);</span><br><span class=\"line\"></span><br><span class=\"line\">// 检索启动屏幕图像的窗口坐标。</span><br><span class=\"line\">splashImageRect = splash.ImageLocation;</span><br><span class=\"line\">PositionImage();</span><br><span class=\"line\"></span><br><span class=\"line\">// 如果使用，请包括一个定位进度控制的方法。</span><br><span class=\"line\">PositionRing();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// Create a Frame to act as the navigation context</span><br><span class=\"line\">rootFrame = new Frame();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void PositionImage()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// desktop</span><br><span class=\"line\">if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.desktop&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X);</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y);</span><br><span class=\"line\">extendedSplashImage.Height = splashImageRect.Height;</span><br><span class=\"line\">extendedSplashImage.Width = splashImageRect.Width;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// mobile</span><br><span class=\"line\">else if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.mobile&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">if (Windows.Foundation.Metadata.ApiInformation.IsTypePresent(&quot;Windows.UI.ViewManagement.StatusBar&quot;))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 需要引用Windows Mobile Extensions for the UWP</span><br><span class=\"line\">StatusBar sb = StatusBar.GetForCurrentView();</span><br><span class=\"line\">// 调整为透明，也可以用启动屏幕的背景色+不透明</span><br><span class=\"line\">sb.BackgroundOpacity = 0;</span><br><span class=\"line\">sb.ForegroundColor = Colors.Black;</span><br><span class=\"line\"></span><br><span class=\"line\">// 撑满手机屏幕</span><br><span class=\"line\">Windows.UI.ViewManagement.ApplicationView.GetForCurrentView().SetDesiredBoundsMode(Windows.UI.ViewManagement.ApplicationViewBoundsMode.UseCoreWindow);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 获取一个值，该值表示每个视图（布局）像素的原始（物理）像素数。</span><br><span class=\"line\">double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br><span class=\"line\"></span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X / density);</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y / density);</span><br><span class=\"line\">extendedSplashImage.Height = splashImageRect.Height / density;</span><br><span class=\"line\">extendedSplashImage.Width = splashImageRect.Width / density;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。</span><br><span class=\"line\">async void DismissedEventHandler(SplashScreen sender, object e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">dismissed = true;</span><br><span class=\"line\">// 在这儿完成应用设置的操作</span><br><span class=\"line\"></span><br><span class=\"line\">//在应用设置完成后，自动跳转到主页</span><br><span class=\"line\">await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//操作UI的代码</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void DismissExtendedSplash()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 导航到mainpage</span><br><span class=\"line\">rootFrame.Navigate(typeof(MainPage));</span><br><span class=\"line\">// 将frame放在当前窗口中</span><br><span class=\"line\">Window.Current.Content = rootFrame;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void ExtendedSplash\\_OnResize(Object sender, WindowSizeChangedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 安全更新extended splash screen image的坐标.</span><br><span class=\"line\">//当用户调整窗口大小时，将执行此功能。</span><br><span class=\"line\">if (splash != null)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// Update the coordinates of the splash screen image.</span><br><span class=\"line\">splashImageRect = splash.ImageLocation;</span><br><span class=\"line\">PositionImage();</span><br><span class=\"line\"></span><br><span class=\"line\">// If applicable, include a method for positioning a progress control.</span><br><span class=\"line\">// PositionRing();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//测试按钮</span><br><span class=\"line\">private void DismissSplashButton\\_Click(object sender, RoutedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//async void RestoreStateAsync(bool loadState)</span><br><span class=\"line\">//&#123;</span><br><span class=\"line\">// if (loadState)</span><br><span class=\"line\">// &#123;</span><br><span class=\"line\">// // 代码可以在这里加载你的应用程序的状态</span><br><span class=\"line\"></span><br><span class=\"line\">// &#125;</span><br><span class=\"line\">//&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">但是，我按照这两篇帖子做后发现在初始界面加载完后需要导航到主页时，却发生异常。 提示跨线程操作UI，经过一番研究后，解决方法如下：</span><br><span class=\"line\"></span><br><span class=\"line\">// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。</span><br><span class=\"line\">async void DismissedEventHandler(SplashScreen sender, object e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">dismissed = true;</span><br><span class=\"line\">// 在这儿完成应用设置的操作</span><br><span class=\"line\"></span><br><span class=\"line\">//在应用设置完成后，自动跳转到主页</span><br><span class=\"line\">await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//操作UI的代码</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n非UI线程访问UI参考这篇文章。<a href=\"https://lindexi.oschina.io/lindexi/post/win10-uwp-%E9%9D%9Eui%E7%BA%BF%E7%A8%8B%E8%AE%BF%E9%97%AE-ui.html\">点击链接</a> 这样一个延长的初始屏幕就完成了，并且适配手机和pc，其他的就看自己发挥了。 还有一个问题是，在手机上ProgressRing不显示的问题，目前还没时间研究，等有结果了，再更新~ 更新：手机上不显示ProgressRing问题的原因找到了，是因为ProgressRing的位置有问题，就是它的坐标超出屏幕的显示范围了，所以看不到，具体解决方法及位置计算方法，详见<a href=\"https://www.yzj0308.com/uwp%E6%89%8B%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%B1%8F%E5%B9%95%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97/\">UWP手机启动屏幕控件位置计算</a>。</li>\n</ul>\n","excerpt":"<p>首先说一下初始屏幕设计的必要性。</p>\n<ul>\n<li>如果UWP应用的启动后需要加载的资源比较多，初始屏幕过后，有较长的等待时间，这时一个延长的初始屏幕可以很好的解决这个问题。</li>\n<li>系统默认的初始屏幕过于单调简单，一个更好的初始屏幕，会使app更加优秀。","more":"初始屏幕的设置，在widows开发者文档中有详细介绍（<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/launch-resume/create-a-customized-splash-screen\">延长显示初始屏幕的时间</a>），但是按照这种方法做出来的有一个问题就是手机界面兼容性不好，会出现错位等问题，在博客园MS-UAP的“<a href=\"http://www.cnblogs.com/ms-uap/p/5314026.html\">人群中看到你的第一眼-初始屏幕</a>”中有解决办法。 完成后的代码如下：<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">using System;</span><br><span class=\"line\">using System.Collections.Generic;</span><br><span class=\"line\">using System.IO;</span><br><span class=\"line\">using System.Linq;</span><br><span class=\"line\">using System.Runtime.InteropServices.WindowsRuntime;</span><br><span class=\"line\">using Windows.Foundation;</span><br><span class=\"line\">using Windows.Foundation.Collections;</span><br><span class=\"line\">using Windows.UI.Xaml;</span><br><span class=\"line\">using Windows.UI.Xaml.Controls;</span><br><span class=\"line\">using Windows.UI.Xaml.Controls.Primitives;</span><br><span class=\"line\">using Windows.UI.Xaml.Data;</span><br><span class=\"line\">using Windows.UI.Xaml.Input;</span><br><span class=\"line\">using Windows.UI.Xaml.Media;</span><br><span class=\"line\">using Windows.UI.Xaml.Navigation;</span><br><span class=\"line\">using Windows.ApplicationModel.Activation;</span><br><span class=\"line\">using Windows.UI.Core;</span><br><span class=\"line\">using Windows.UI.ViewManagement;</span><br><span class=\"line\">using PasswordTest.Helpers;</span><br><span class=\"line\">using Windows.UI;</span><br><span class=\"line\">using System.Reflection;</span><br><span class=\"line\">// https://go.microsoft.com/fwlink/?LinkId=234238 上介绍了“空白页”项模板</span><br><span class=\"line\"></span><br><span class=\"line\">namespace PasswordTest</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">///</span><br><span class=\"line\"></span><br><span class=\"line\">/// 可用于自身或导航至 Frame 内部的空白页。</span><br><span class=\"line\">///</span><br><span class=\"line\"></span><br><span class=\"line\">public sealed partial class SplashPage : Page</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">internal Rect splashImageRect; // 用来获取屏幕显示区域的大小</span><br><span class=\"line\">private SplashScreen splash; // Variable to hold the splash screen object.</span><br><span class=\"line\">internal bool dismissed = false; //追踪启动画面解除状态的变量。</span><br><span class=\"line\">internal Frame rootFrame;</span><br><span class=\"line\"></span><br><span class=\"line\">// Define methods and constructor</span><br><span class=\"line\">public SplashPage(SplashScreen splashscreen, bool loadState)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">InitializeComponent();</span><br><span class=\"line\"></span><br><span class=\"line\">// Listen for window resize events to reposition the extended splash screen image accordingly.</span><br><span class=\"line\">// This ensures that the extended splash screen formats properly in response to window resizing.</span><br><span class=\"line\">Window.Current.SizeChanged += new WindowSizeChangedEventHandler(ExtendedSplash\\_OnResize);</span><br><span class=\"line\"></span><br><span class=\"line\">splash = splashscreen;</span><br><span class=\"line\">if (splash != null)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 注册一个事件处理程序，以便在启动屏幕被关闭时执行。</span><br><span class=\"line\">splash.Dismissed += new TypedEventHandler&lt;SplashScreen, Object&gt;(DismissedEventHandler);</span><br><span class=\"line\"></span><br><span class=\"line\">// 检索启动屏幕图像的窗口坐标。</span><br><span class=\"line\">splashImageRect = splash.ImageLocation;</span><br><span class=\"line\">PositionImage();</span><br><span class=\"line\"></span><br><span class=\"line\">// 如果使用，请包括一个定位进度控制的方法。</span><br><span class=\"line\">PositionRing();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// Create a Frame to act as the navigation context</span><br><span class=\"line\">rootFrame = new Frame();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void PositionImage()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// desktop</span><br><span class=\"line\">if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.desktop&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X);</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y);</span><br><span class=\"line\">extendedSplashImage.Height = splashImageRect.Height;</span><br><span class=\"line\">extendedSplashImage.Width = splashImageRect.Width;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// mobile</span><br><span class=\"line\">else if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.mobile&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">if (Windows.Foundation.Metadata.ApiInformation.IsTypePresent(&quot;Windows.UI.ViewManagement.StatusBar&quot;))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 需要引用Windows Mobile Extensions for the UWP</span><br><span class=\"line\">StatusBar sb = StatusBar.GetForCurrentView();</span><br><span class=\"line\">// 调整为透明，也可以用启动屏幕的背景色+不透明</span><br><span class=\"line\">sb.BackgroundOpacity = 0;</span><br><span class=\"line\">sb.ForegroundColor = Colors.Black;</span><br><span class=\"line\"></span><br><span class=\"line\">// 撑满手机屏幕</span><br><span class=\"line\">Windows.UI.ViewManagement.ApplicationView.GetForCurrentView().SetDesiredBoundsMode(Windows.UI.ViewManagement.ApplicationViewBoundsMode.UseCoreWindow);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 获取一个值，该值表示每个视图（布局）像素的原始（物理）像素数。</span><br><span class=\"line\">double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br><span class=\"line\"></span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.LeftProperty, splashImageRect.X / density);</span><br><span class=\"line\">extendedSplashImage.SetValue(Canvas.TopProperty, splashImageRect.Y / density);</span><br><span class=\"line\">extendedSplashImage.Height = splashImageRect.Height / density;</span><br><span class=\"line\">extendedSplashImage.Width = splashImageRect.Width / density;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。</span><br><span class=\"line\">async void DismissedEventHandler(SplashScreen sender, object e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">dismissed = true;</span><br><span class=\"line\">// 在这儿完成应用设置的操作</span><br><span class=\"line\"></span><br><span class=\"line\">//在应用设置完成后，自动跳转到主页</span><br><span class=\"line\">await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//操作UI的代码</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void DismissExtendedSplash()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 导航到mainpage</span><br><span class=\"line\">rootFrame.Navigate(typeof(MainPage));</span><br><span class=\"line\">// 将frame放在当前窗口中</span><br><span class=\"line\">Window.Current.Content = rootFrame;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void ExtendedSplash\\_OnResize(Object sender, WindowSizeChangedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// 安全更新extended splash screen image的坐标.</span><br><span class=\"line\">//当用户调整窗口大小时，将执行此功能。</span><br><span class=\"line\">if (splash != null)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">// Update the coordinates of the splash screen image.</span><br><span class=\"line\">splashImageRect = splash.ImageLocation;</span><br><span class=\"line\">PositionImage();</span><br><span class=\"line\"></span><br><span class=\"line\">// If applicable, include a method for positioning a progress control.</span><br><span class=\"line\">// PositionRing();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//测试按钮</span><br><span class=\"line\">private void DismissSplashButton\\_Click(object sender, RoutedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//async void RestoreStateAsync(bool loadState)</span><br><span class=\"line\">//&#123;</span><br><span class=\"line\">// if (loadState)</span><br><span class=\"line\">// &#123;</span><br><span class=\"line\">// // 代码可以在这里加载你的应用程序的状态</span><br><span class=\"line\"></span><br><span class=\"line\">// &#125;</span><br><span class=\"line\">//&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">但是，我按照这两篇帖子做后发现在初始界面加载完后需要导航到主页时，却发生异常。 提示跨线程操作UI，经过一番研究后，解决方法如下：</span><br><span class=\"line\"></span><br><span class=\"line\">// 包括当系统从启动屏幕转换到扩展启动屏幕（应用程序的第一个视图）时要执行的代码。</span><br><span class=\"line\">async void DismissedEventHandler(SplashScreen sender, object e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">dismissed = true;</span><br><span class=\"line\">// 在这儿完成应用设置的操作</span><br><span class=\"line\"></span><br><span class=\"line\">//在应用设置完成后，自动跳转到主页</span><br><span class=\"line\">await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//操作UI的代码</span><br><span class=\"line\">DismissExtendedSplash();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n非UI线程访问UI参考这篇文章。<a href=\"https://lindexi.oschina.io/lindexi/post/win10-uwp-%E9%9D%9Eui%E7%BA%BF%E7%A8%8B%E8%AE%BF%E9%97%AE-ui.html\">点击链接</a> 这样一个延长的初始屏幕就完成了，并且适配手机和pc，其他的就看自己发挥了。 还有一个问题是，在手机上ProgressRing不显示的问题，目前还没时间研究，等有结果了，再更新~ 更新：手机上不显示ProgressRing问题的原因找到了，是因为ProgressRing的位置有问题，就是它的坐标超出屏幕的显示范围了，所以看不到，具体解决方法及位置计算方法，详见<a href=\"https://www.yzj0308.com/uwp%E6%89%8B%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%B1%8F%E5%B9%95%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97/\">UWP手机启动屏幕控件位置计算</a>。</li>\n</ul>"},{"title":"Win10 UWP 手机启动屏幕控件位置计算","date":"2017-09-07T18:15:03.000Z","_content":"\n在[uwp初始屏幕设计](https://www.yzj0308.com/uwp%E5%88%9D%E5%A7%8B%E5%B1%8F%E5%B9%95%E8%AE%BE%E8%AE%A1/)中，最后在手机上调试，发现ProgressRing及文字都不显示的问题。最后，经过调试发现是它们的位置超出屏幕的显示范围了，所以才会看不到。下面我将已实际的例子，说明我自己的手机上计算位置方法。 以我的手机Lumia640xl为例，手机的分辨率是1280x720。\n<!-- more -->\n所以使用`// 检索启动屏幕图像的窗口坐标。 splashImageRect = splash.ImageLocation;` 获取的值：X=0,Y=0,Width = 720,Height = 1280。经过测试，坐标系的原点在屏幕左上角，以下面的方法计算，\n```\nvoid PositionRing()\n{\n    splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\n    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n}\n```\n得出的结果是splashProgressRing的x= 336(splashProgressRing.Width = 48），splashProgressRing的Y= 1480；而实际手机屏幕的有效像素是多少呢？\n```\ndouble density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n```\n使用这个方法可以获取，手机屏幕有效像素和分辨率的一个转换值（我个人的理解），调试得到的这个值为1.75（不同手机这个值可能会不一样，没试过，好像是和显示缩放有关系）。计算一下，得到有效像素约等于411x731,所以在屏幕上肯定看不到（336,1428）。知道这个换算方法以后，就很好解决了，只需要把控件按照现有的坐标系计算坐标就可以了（x最大值411，y最大值731）。但是为了适配不同分辨率的手机，因此，还是建议尽量不要直接给出具体的坐标，而是有一定的参照。我使用下面的算式，使得ProgressRing的位置正常了。（但是由于手里只有这一种型号的手机，所以，不肯定是否完美解决了问题）\n```\nvoid PositionRing()\n{\n//desktop\nif (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.desktop\", StringComparison.CurrentCultureIgnoreCase))\n{\nsplashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\nsplashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n\n}\n//mobile\nelse if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.mobile\", StringComparison.CurrentCultureIgnoreCase))\n{\n    double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n    splashProgressRing.SetValue(Canvas.LeftProperty, (splashImageRect.Width / density) \\* 0.5 - splashProgressRing.Width \\* 0.5);\n    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Height/density)\\*0.5 +(splashImageRect.Height/density)\\*0.2);\n}\n}\n```\n目前为止，也就这么多了，以后发现问题了再更新~","source":"_posts/UWP/uwp手机启动屏幕控件位置计算.md","raw":"---\ntitle: Win10 UWP 手机启动屏幕控件位置计算\ntags:\n  - UWP\n  - Windows 10\ncategories:\n  - - 开发笔记\ndate: 2017-09-08 02:15:03\n---\n\n在[uwp初始屏幕设计](https://www.yzj0308.com/uwp%E5%88%9D%E5%A7%8B%E5%B1%8F%E5%B9%95%E8%AE%BE%E8%AE%A1/)中，最后在手机上调试，发现ProgressRing及文字都不显示的问题。最后，经过调试发现是它们的位置超出屏幕的显示范围了，所以才会看不到。下面我将已实际的例子，说明我自己的手机上计算位置方法。 以我的手机Lumia640xl为例，手机的分辨率是1280x720。\n<!-- more -->\n所以使用`// 检索启动屏幕图像的窗口坐标。 splashImageRect = splash.ImageLocation;` 获取的值：X=0,Y=0,Width = 720,Height = 1280。经过测试，坐标系的原点在屏幕左上角，以下面的方法计算，\n```\nvoid PositionRing()\n{\n    splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\n    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n}\n```\n得出的结果是splashProgressRing的x= 336(splashProgressRing.Width = 48），splashProgressRing的Y= 1480；而实际手机屏幕的有效像素是多少呢？\n```\ndouble density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n```\n使用这个方法可以获取，手机屏幕有效像素和分辨率的一个转换值（我个人的理解），调试得到的这个值为1.75（不同手机这个值可能会不一样，没试过，好像是和显示缩放有关系）。计算一下，得到有效像素约等于411x731,所以在屏幕上肯定看不到（336,1428）。知道这个换算方法以后，就很好解决了，只需要把控件按照现有的坐标系计算坐标就可以了（x最大值411，y最大值731）。但是为了适配不同分辨率的手机，因此，还是建议尽量不要直接给出具体的坐标，而是有一定的参照。我使用下面的算式，使得ProgressRing的位置正常了。（但是由于手里只有这一种型号的手机，所以，不肯定是否完美解决了问题）\n```\nvoid PositionRing()\n{\n//desktop\nif (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.desktop\", StringComparison.CurrentCultureIgnoreCase))\n{\nsplashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));\nsplashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));\n\n}\n//mobile\nelse if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(\"windows.mobile\", StringComparison.CurrentCultureIgnoreCase))\n{\n    double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n    splashProgressRing.SetValue(Canvas.LeftProperty, (splashImageRect.Width / density) \\* 0.5 - splashProgressRing.Width \\* 0.5);\n    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Height/density)\\*0.5 +(splashImageRect.Height/density)\\*0.2);\n}\n}\n```\n目前为止，也就这么多了，以后发现问题了再更新~","slug":"UWP/uwp手机启动屏幕控件位置计算","published":1,"updated":"2025-02-21T10:54:54.002Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1u001oews7hycj2ge5","content":"<p>在<a href=\"https://www.yzj0308.com/uwp%E5%88%9D%E5%A7%8B%E5%B1%8F%E5%B9%95%E8%AE%BE%E8%AE%A1/\">uwp初始屏幕设计</a>中，最后在手机上调试，发现ProgressRing及文字都不显示的问题。最后，经过调试发现是它们的位置超出屏幕的显示范围了，所以才会看不到。下面我将已实际的例子，说明我自己的手机上计算位置方法。 以我的手机Lumia640xl为例，手机的分辨率是1280x720。</p>\n<span id=\"more\"></span>\n<p>所以使用<code>// 检索启动屏幕图像的窗口坐标。 splashImageRect = splash.ImageLocation;</code> 获取的值：X&#x3D;0,Y&#x3D;0,Width &#x3D; 720,Height &#x3D; 1280。经过测试，坐标系的原点在屏幕左上角，以下面的方法计算，</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>得出的结果是splashProgressRing的x&#x3D; 336(splashProgressRing.Width &#x3D; 48），splashProgressRing的Y&#x3D; 1480；而实际手机屏幕的有效像素是多少呢？</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br></pre></td></tr></table></figure>\n<p>使用这个方法可以获取，手机屏幕有效像素和分辨率的一个转换值（我个人的理解），调试得到的这个值为1.75（不同手机这个值可能会不一样，没试过，好像是和显示缩放有关系）。计算一下，得到有效像素约等于411x731,所以在屏幕上肯定看不到（336,1428）。知道这个换算方法以后，就很好解决了，只需要把控件按照现有的坐标系计算坐标就可以了（x最大值411，y最大值731）。但是为了适配不同分辨率的手机，因此，还是建议尽量不要直接给出具体的坐标，而是有一定的参照。我使用下面的算式，使得ProgressRing的位置正常了。（但是由于手里只有这一种型号的手机，所以，不肯定是否完美解决了问题）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//desktop</span><br><span class=\"line\">if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.desktop&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//mobile</span><br><span class=\"line\">else if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.mobile&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.LeftProperty, (splashImageRect.Width / density) \\* 0.5 - splashProgressRing.Width \\* 0.5);</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Height/density)\\*0.5 +(splashImageRect.Height/density)\\*0.2);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>目前为止，也就这么多了，以后发现问题了再更新~</p>\n","excerpt":"<p>在<a href=\"https://www.yzj0308.com/uwp%E5%88%9D%E5%A7%8B%E5%B1%8F%E5%B9%95%E8%AE%BE%E8%AE%A1/\">uwp初始屏幕设计</a>中，最后在手机上调试，发现ProgressRing及文字都不显示的问题。最后，经过调试发现是它们的位置超出屏幕的显示范围了，所以才会看不到。下面我将已实际的例子，说明我自己的手机上计算位置方法。 以我的手机Lumia640xl为例，手机的分辨率是1280x720。</p>","more":"<p>所以使用<code>// 检索启动屏幕图像的窗口坐标。 splashImageRect = splash.ImageLocation;</code> 获取的值：X&#x3D;0,Y&#x3D;0,Width &#x3D; 720,Height &#x3D; 1280。经过测试，坐标系的原点在屏幕左上角，以下面的方法计算，</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>得出的结果是splashProgressRing的x&#x3D; 336(splashProgressRing.Width &#x3D; 48），splashProgressRing的Y&#x3D; 1480；而实际手机屏幕的有效像素是多少呢？</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br></pre></td></tr></table></figure>\n<p>使用这个方法可以获取，手机屏幕有效像素和分辨率的一个转换值（我个人的理解），调试得到的这个值为1.75（不同手机这个值可能会不一样，没试过，好像是和显示缩放有关系）。计算一下，得到有效像素约等于411x731,所以在屏幕上肯定看不到（336,1428）。知道这个换算方法以后，就很好解决了，只需要把控件按照现有的坐标系计算坐标就可以了（x最大值411，y最大值731）。但是为了适配不同分辨率的手机，因此，还是建议尽量不要直接给出具体的坐标，而是有一定的参照。我使用下面的算式，使得ProgressRing的位置正常了。（但是由于手里只有这一种型号的手机，所以，不肯定是否完美解决了问题）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void PositionRing()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">//desktop</span><br><span class=\"line\">if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.desktop&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.LeftProperty, splashImageRect.X + (splashImageRect.Width \\* 0.5) - (splashProgressRing.Width \\* 0.5));</span><br><span class=\"line\">splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Y + splashImageRect.Height + splashImageRect.Height \\* 0.1));</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//mobile</span><br><span class=\"line\">else if (Windows.System.Profile.AnalyticsInfo.VersionInfo.DeviceFamily.Equals(&quot;windows.mobile&quot;, StringComparison.CurrentCultureIgnoreCase))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.LeftProperty, (splashImageRect.Width / density) \\* 0.5 - splashProgressRing.Width \\* 0.5);</span><br><span class=\"line\">    splashProgressRing.SetValue(Canvas.TopProperty, (splashImageRect.Height/density)\\*0.5 +(splashImageRect.Height/density)\\*0.2);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>目前为止，也就这么多了，以后发现问题了再更新~</p>"},{"title":"Visual Studio 2019下载地址及激活码","date":"2019-04-07T08:34:54.000Z","_content":"\n## 2019下载地址：\n\n[点击下载](https://visualstudio.microsoft.com/zh-hans/downloads/?rr=https%3A%2F%2Fdevblogs.microsoft.com%2Fvisualstudio%2Fvisual-studio-2019-code-faster-work-smarter-create-the-future%2F%3Futm_source%3Dvs_developer_news%26utm_medium%3Dreferral)\n\n## 2019激活码：\n\nVisual Studio 2019 Enterprise：  \nBF8Y8-GN2QH-T84XB-QVY3B-RC4DF  \nVisual Studio 2019 Professional：  \nNYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y\n\n## 2017激活码：\n\n专业版：KBJFW-NXHK6-W4WJM-CRMQB-G3CDH  \n企业版：NJVYC-BMHX2-G77MM-4XJMR-6Q8QF","source":"_posts/UWP/visual-studio-2019-download-and-key.md","raw":"---\ntitle: Visual Studio 2019下载地址及激活码\ntags:\n  - Visual Studio\ncategories:\n  - - 随笔\ndate: 2019-04-07 16:34:54\n---\n\n## 2019下载地址：\n\n[点击下载](https://visualstudio.microsoft.com/zh-hans/downloads/?rr=https%3A%2F%2Fdevblogs.microsoft.com%2Fvisualstudio%2Fvisual-studio-2019-code-faster-work-smarter-create-the-future%2F%3Futm_source%3Dvs_developer_news%26utm_medium%3Dreferral)\n\n## 2019激活码：\n\nVisual Studio 2019 Enterprise：  \nBF8Y8-GN2QH-T84XB-QVY3B-RC4DF  \nVisual Studio 2019 Professional：  \nNYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y\n\n## 2017激活码：\n\n专业版：KBJFW-NXHK6-W4WJM-CRMQB-G3CDH  \n企业版：NJVYC-BMHX2-G77MM-4XJMR-6Q8QF","slug":"UWP/visual-studio-2019-download-and-key","published":1,"updated":"2025-02-21T10:54:54.002Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1v001rews72od79avw","content":"<h2 id=\"2019下载地址：\"><a href=\"#2019下载地址：\" class=\"headerlink\" title=\"2019下载地址：\"></a>2019下载地址：</h2><p><a href=\"https://visualstudio.microsoft.com/zh-hans/downloads/?rr=https://devblogs.microsoft.com/visualstudio/visual-studio-2019-code-faster-work-smarter-create-the-future/?utm_source=vs_developer_news&utm_medium=referral\">点击下载</a></p>\n<h2 id=\"2019激活码：\"><a href=\"#2019激活码：\" class=\"headerlink\" title=\"2019激活码：\"></a>2019激活码：</h2><p>Visual Studio 2019 Enterprise：<br>BF8Y8-GN2QH-T84XB-QVY3B-RC4DF<br>Visual Studio 2019 Professional：<br>NYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y</p>\n<h2 id=\"2017激活码：\"><a href=\"#2017激活码：\" class=\"headerlink\" title=\"2017激活码：\"></a>2017激活码：</h2><p>专业版：KBJFW-NXHK6-W4WJM-CRMQB-G3CDH<br>企业版：NJVYC-BMHX2-G77MM-4XJMR-6Q8QF</p>\n","excerpt":"","more":"<h2 id=\"2019下载地址：\"><a href=\"#2019下载地址：\" class=\"headerlink\" title=\"2019下载地址：\"></a>2019下载地址：</h2><p><a href=\"https://visualstudio.microsoft.com/zh-hans/downloads/?rr=https://devblogs.microsoft.com/visualstudio/visual-studio-2019-code-faster-work-smarter-create-the-future/?utm_source=vs_developer_news&utm_medium=referral\">点击下载</a></p>\n<h2 id=\"2019激活码：\"><a href=\"#2019激活码：\" class=\"headerlink\" title=\"2019激活码：\"></a>2019激活码：</h2><p>Visual Studio 2019 Enterprise：<br>BF8Y8-GN2QH-T84XB-QVY3B-RC4DF<br>Visual Studio 2019 Professional：<br>NYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y</p>\n<h2 id=\"2017激活码：\"><a href=\"#2017激活码：\" class=\"headerlink\" title=\"2017激活码：\"></a>2017激活码：</h2><p>专业版：KBJFW-NXHK6-W4WJM-CRMQB-G3CDH<br>企业版：NJVYC-BMHX2-G77MM-4XJMR-6Q8QF</p>\n"},{"title":"Visual Studio一直提示刷新凭据","date":"2019-05-06T19:33:57.000Z","_content":"\n前几天遇到VS登陆后一直需要重新验证凭据的问题。但是验证的时候会陷入循环登录的过程。即使你不厌其烦的一直登陆。结束后也并没有成功，关闭窗口重新打开，就会发现。又需要验证了。。。\n\n[![循环登陆gif](https://www.yzj0308.com/wp-content/uploads/2019/06/2019061002372347.gif)](https://www.yzj0308.com/visual-studio%e4%b8%80%e7%9b%b4%e6%8f%90%e7%a4%ba%e5%88%b7%e6%96%b0%e5%87%ad%e6%8d%ae/attachment/2019061002372347/)\n\n在折腾搞几天后，终于在网上发现了这篇文章。[救命的文章](https://blog.csdn.net/lindexi_gd/article/details/84251977)\n\n只需要电脑资源管理器，进入下面的路径，删除里面所有的内容即可。重写打开VS,再次登录，一切正常。?\n\n```\n%USERPROFILE%\\AppData\\Local\\.IdentityService\n```\n\nPS:林更新大佬就是牛逼。","source":"_posts/UWP/visual-studio一直提示刷新凭据.md","raw":"---\ntitle: Visual Studio一直提示刷新凭据\ntags:\n  - Visual Studio\ncategories:\n  - - 开发笔记\ndate: 2019-05-07 03:33:57\n---\n\n前几天遇到VS登陆后一直需要重新验证凭据的问题。但是验证的时候会陷入循环登录的过程。即使你不厌其烦的一直登陆。结束后也并没有成功，关闭窗口重新打开，就会发现。又需要验证了。。。\n\n[![循环登陆gif](https://www.yzj0308.com/wp-content/uploads/2019/06/2019061002372347.gif)](https://www.yzj0308.com/visual-studio%e4%b8%80%e7%9b%b4%e6%8f%90%e7%a4%ba%e5%88%b7%e6%96%b0%e5%87%ad%e6%8d%ae/attachment/2019061002372347/)\n\n在折腾搞几天后，终于在网上发现了这篇文章。[救命的文章](https://blog.csdn.net/lindexi_gd/article/details/84251977)\n\n只需要电脑资源管理器，进入下面的路径，删除里面所有的内容即可。重写打开VS,再次登录，一切正常。?\n\n```\n%USERPROFILE%\\AppData\\Local\\.IdentityService\n```\n\nPS:林更新大佬就是牛逼。","slug":"UWP/visual-studio一直提示刷新凭据","published":1,"updated":"2025-02-21T10:54:54.002Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1v001vews772et6sct","content":"<p>前几天遇到VS登陆后一直需要重新验证凭据的问题。但是验证的时候会陷入循环登录的过程。即使你不厌其烦的一直登陆。结束后也并没有成功，关闭窗口重新打开，就会发现。又需要验证了。。。</p>\n<p><a href=\"https://www.yzj0308.com/visual-studio%e4%b8%80%e7%9b%b4%e6%8f%90%e7%a4%ba%e5%88%b7%e6%96%b0%e5%87%ad%e6%8d%ae/attachment/2019061002372347/\"><img src=\"https://www.yzj0308.com/wp-content/uploads/2019/06/2019061002372347.gif\" alt=\"循环登陆gif\"></a></p>\n<p>在折腾搞几天后，终于在网上发现了这篇文章。<a href=\"https://blog.csdn.net/lindexi_gd/article/details/84251977\">救命的文章</a></p>\n<p>只需要电脑资源管理器，进入下面的路径，删除里面所有的内容即可。重写打开VS,再次登录，一切正常。?</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%USERPROFILE%\\AppData\\Local\\.IdentityService</span><br></pre></td></tr></table></figure>\n\n<p>PS:林更新大佬就是牛逼。</p>\n","excerpt":"","more":"<p>前几天遇到VS登陆后一直需要重新验证凭据的问题。但是验证的时候会陷入循环登录的过程。即使你不厌其烦的一直登陆。结束后也并没有成功，关闭窗口重新打开，就会发现。又需要验证了。。。</p>\n<p><a href=\"https://www.yzj0308.com/visual-studio%e4%b8%80%e7%9b%b4%e6%8f%90%e7%a4%ba%e5%88%b7%e6%96%b0%e5%87%ad%e6%8d%ae/attachment/2019061002372347/\"><img src=\"https://www.yzj0308.com/wp-content/uploads/2019/06/2019061002372347.gif\" alt=\"循环登陆gif\"></a></p>\n<p>在折腾搞几天后，终于在网上发现了这篇文章。<a href=\"https://blog.csdn.net/lindexi_gd/article/details/84251977\">救命的文章</a></p>\n<p>只需要电脑资源管理器，进入下面的路径，删除里面所有的内容即可。重写打开VS,再次登录，一切正常。?</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%USERPROFILE%\\AppData\\Local\\.IdentityService</span><br></pre></td></tr></table></figure>\n\n<p>PS:林更新大佬就是牛逼。</p>\n"},{"title":"Win10 UWP 获取屏幕分辨率","date":"2019-06-13T07:46:08.000Z","_content":"\n获取屏幕真实的分辨率。\n```c#\nusing Windows.Graphics.Display;\n\nvar displayInformation = DisplayInformation.GetForCurrentView();\nvar screenSize = new Size(displayInformation.ScreenWidthInRawPixels, \n                          displayInformation.ScreenHeightInRawPixels);\n```","source":"_posts/UWP/win10-uwp-get-screem-resolution.md","raw":"---\ntitle: Win10 UWP 获取屏幕分辨率\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-06-13 15:46:08\n---\n\n获取屏幕真实的分辨率。\n```c#\nusing Windows.Graphics.Display;\n\nvar displayInformation = DisplayInformation.GetForCurrentView();\nvar screenSize = new Size(displayInformation.ScreenWidthInRawPixels, \n                          displayInformation.ScreenHeightInRawPixels);\n```","slug":"UWP/win10-uwp-get-screem-resolution","published":1,"updated":"2025-02-21T10:54:54.004Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1w001xews758ns2lq2","content":"<p>获取屏幕真实的分辨率。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Windows.Graphics.Display;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> displayInformation = DisplayInformation.GetForCurrentView();</span><br><span class=\"line\"><span class=\"keyword\">var</span> screenSize = <span class=\"keyword\">new</span> Size(displayInformation.ScreenWidthInRawPixels, </span><br><span class=\"line\">                          displayInformation.ScreenHeightInRawPixels);</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>获取屏幕真实的分辨率。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Windows.Graphics.Display;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> displayInformation = DisplayInformation.GetForCurrentView();</span><br><span class=\"line\"><span class=\"keyword\">var</span> screenSize = <span class=\"keyword\">new</span> Size(displayInformation.ScreenWidthInRawPixels, </span><br><span class=\"line\">                          displayInformation.ScreenHeightInRawPixels);</span><br></pre></td></tr></table></figure>"},{"title":"Win 10 UWP使用Microsoft Graph上传和下载OneDrive文件（一）","date":"2018-05-27T21:03:42.000Z","_content":"\n在UWP应用中如何使用Microsoft Graph上传和下载OneDrive文件？使用Graph可以调用微软的office，OneDrive，联系人，邮件，日历等很多的接口，因此使用Graph是非常方便的一种做法来开发win10 UWP应用。这是我开发过程中使用OneDrive的方法，记录下来。本篇先讲述如何使用Microsoft Graph登陆账户。\n<!-- more -->\n一、首先，使用Microsoft Graph，需要安装两个Nuget包。\n\n> Microsoft.Graph; Microsoft.Identity.Client;(搜索时需要勾选“包括预发行版”，否则找不到）\n\n  二、注册ClientID（[apps.dev.microsoft.com](http://apps.dev.microsoft.com)）\n\n1.  打开上面地址后，登陆后，点击“添加应用”\n2.  创建应用后，获取你自己的“应用程序ID”和“自定义重定向URL\"。（不要使用我举例的这个，需要获取自己的）\n\n“应用程序Id”：9a032f4d-b5bb-49f7-8156-fb387b43ff94 “自定义重定向URL\"：msal9a032f4d-b5bb-49f7-8156-fb387b43ff94://auth 三、登陆和退出 1.我将获取令牌和退出写成了一个类（MicrosoftGraphHelper），便于调用。\n```c#\nusing Microsoft.Graph;\nusing Microsoft.Identity.Client;\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Net.Http.Headers;\nusing System.Text;\nusing System.Threading.Tasks;\nnamespace Microsoft\\_Graph\\_Demo\n{\n    public class MicrosoftGraphHelper\n    {\n        static string ClientId = \"9a032f4d-b5bb-49f7-8156-fb387b43ff94\";\n        public static string\\[\\] Scopes = { \"User.Read\" }; // 设置权限，登陆账户读取\n        public static PublicClientApplication IdentityClientApp = new PublicClientApplication(ClientId);\n        public static string TokenForUser = null;\n        public static DateTimeOffset Expiration;\n        private static GraphServiceClient graphClient = null;\n        public static GraphServiceClient GetAuthenticatedClient()\n        {\n            if (graphClient == null)\n            {\n                // 创建 Microsoft Graph client.\n                try\n                {\n                    graphClient = new GraphServiceClient(\n                    \"https://graph.microsoft.com/v1.0\",\n                    new DelegateAuthenticationProvider(\n                    async (requestMessage) =>\n                    {\n                        var token = await GetTokenForUserAsync();\n                        requestMessage.Headers.Authorization = new AuthenticationHeaderValue(\"bearer\", token);\n                    }));\n                    return graphClient;\n                }\n                catch (Exception ex)\n                {\n                    Debug.WriteLine(\"Could not create a graph client: \" + ex.Message);\n                }\n            }\n            return graphClient;\n        }\n        // 获取用户标记\n        public static async Task GetTokenForUserAsync()\n        {\n            AuthenticationResult authResult;\n            try\n            {\n                authResult = await IdentityClientApp.AcquireTokenSilentAsync(Scopes, IdentityClientApp.Users.First());\n                TokenForUser = authResult.AccessToken;\n            }\n            catch (Exception)\n            {\n                if (TokenForUser == null  Expiration <= DateTimeOffset.UtcNow.AddMinutes(5))\n                {\n                    authResult = await IdentityClientApp.AcquireTokenAsync(Scopes);\n                    TokenForUser = authResult.AccessToken;\n                    Expiration = authResult.ExpiresOn;\n                }\n            }\n            return TokenForUser;\n        }\n        // 退出登陆\n        public static void SignOut()\n        {\n            foreach (var user in IdentityClientApp.Users)\n            {\n                IdentityClientApp.Remove(user);\n            }\n            graphClient = null;\n            TokenForUser = null;\n        }\n    }\n}\n```\n2.登陆，并获取登陆账户信息 MainPage.xaml\n```xml\n<button name=\"LoginButton\"></button>\n<button name=\"SignOutButton\"></button>\n```\n```c#\nMainPage.xaml.cs\n\n    private async void LoginButton\\_Click(object sender, RoutedEventArgs e)\n    {\n        try\n        {\n            var graphClient = MicrosoftGraphHelper.GetAuthenticatedClient();\n            if (graphClient != null)\n            {\n                var user = await graphClient.Me.Request().GetAsync(); \n                // 获取登陆账户的信息 \n                ResultTextBlock.Text = user.DisplayName + \"-\" + user.UserPrincipalName; }\n            else { ResultTextBlock.Text = \"GraphClient = null\"; } }\n        catch (MsalException) { ResultTextBlock.Text = \"Login Failed\"; } }\n    private void SignOutButton\\_Click(object sender, RoutedEventArgs e)\n    {\n        try\n        {\n            MicrosoftGraphHelper.SignOut();\n            ResultTextBlock.Text = \"Sign Out Success\"; }\n        catch (Exception)\n        {\n            ResultTextBlock.Text = \"Sign Out Failed\";\n        }\n    }\n```\n以上就完成了Microsoft Graph的登陆，效果如下：\n![](Demo.gif)\n\n使用Microsoft Graph上传和下载文件到OneDrive将在下一篇文章中介绍。\n\n本文Demo: \n\nOneDrive: 链接：[Microsoft-Graph-Demo.rar](https://1drv.ms/u/s!ApMNS_xXtxUkmcQdol_pRtT4S_QBDA) \n\n百度云：链接：[Microsoft-Graph-Demo.rar](https://pan.baidu.com/s/1Sfn6iaFYN12RAhQBLB0DcA) 密码：m5kp","source":"_posts/UWP/win10-uwp-graph-onedrive.md","raw":"---\ntitle: Win 10 UWP使用Microsoft Graph上传和下载OneDrive文件（一）\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2018-05-28 05:03:42\n---\n\n在UWP应用中如何使用Microsoft Graph上传和下载OneDrive文件？使用Graph可以调用微软的office，OneDrive，联系人，邮件，日历等很多的接口，因此使用Graph是非常方便的一种做法来开发win10 UWP应用。这是我开发过程中使用OneDrive的方法，记录下来。本篇先讲述如何使用Microsoft Graph登陆账户。\n<!-- more -->\n一、首先，使用Microsoft Graph，需要安装两个Nuget包。\n\n> Microsoft.Graph; Microsoft.Identity.Client;(搜索时需要勾选“包括预发行版”，否则找不到）\n\n  二、注册ClientID（[apps.dev.microsoft.com](http://apps.dev.microsoft.com)）\n\n1.  打开上面地址后，登陆后，点击“添加应用”\n2.  创建应用后，获取你自己的“应用程序ID”和“自定义重定向URL\"。（不要使用我举例的这个，需要获取自己的）\n\n“应用程序Id”：9a032f4d-b5bb-49f7-8156-fb387b43ff94 “自定义重定向URL\"：msal9a032f4d-b5bb-49f7-8156-fb387b43ff94://auth 三、登陆和退出 1.我将获取令牌和退出写成了一个类（MicrosoftGraphHelper），便于调用。\n```c#\nusing Microsoft.Graph;\nusing Microsoft.Identity.Client;\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Net.Http.Headers;\nusing System.Text;\nusing System.Threading.Tasks;\nnamespace Microsoft\\_Graph\\_Demo\n{\n    public class MicrosoftGraphHelper\n    {\n        static string ClientId = \"9a032f4d-b5bb-49f7-8156-fb387b43ff94\";\n        public static string\\[\\] Scopes = { \"User.Read\" }; // 设置权限，登陆账户读取\n        public static PublicClientApplication IdentityClientApp = new PublicClientApplication(ClientId);\n        public static string TokenForUser = null;\n        public static DateTimeOffset Expiration;\n        private static GraphServiceClient graphClient = null;\n        public static GraphServiceClient GetAuthenticatedClient()\n        {\n            if (graphClient == null)\n            {\n                // 创建 Microsoft Graph client.\n                try\n                {\n                    graphClient = new GraphServiceClient(\n                    \"https://graph.microsoft.com/v1.0\",\n                    new DelegateAuthenticationProvider(\n                    async (requestMessage) =>\n                    {\n                        var token = await GetTokenForUserAsync();\n                        requestMessage.Headers.Authorization = new AuthenticationHeaderValue(\"bearer\", token);\n                    }));\n                    return graphClient;\n                }\n                catch (Exception ex)\n                {\n                    Debug.WriteLine(\"Could not create a graph client: \" + ex.Message);\n                }\n            }\n            return graphClient;\n        }\n        // 获取用户标记\n        public static async Task GetTokenForUserAsync()\n        {\n            AuthenticationResult authResult;\n            try\n            {\n                authResult = await IdentityClientApp.AcquireTokenSilentAsync(Scopes, IdentityClientApp.Users.First());\n                TokenForUser = authResult.AccessToken;\n            }\n            catch (Exception)\n            {\n                if (TokenForUser == null  Expiration <= DateTimeOffset.UtcNow.AddMinutes(5))\n                {\n                    authResult = await IdentityClientApp.AcquireTokenAsync(Scopes);\n                    TokenForUser = authResult.AccessToken;\n                    Expiration = authResult.ExpiresOn;\n                }\n            }\n            return TokenForUser;\n        }\n        // 退出登陆\n        public static void SignOut()\n        {\n            foreach (var user in IdentityClientApp.Users)\n            {\n                IdentityClientApp.Remove(user);\n            }\n            graphClient = null;\n            TokenForUser = null;\n        }\n    }\n}\n```\n2.登陆，并获取登陆账户信息 MainPage.xaml\n```xml\n<button name=\"LoginButton\"></button>\n<button name=\"SignOutButton\"></button>\n```\n```c#\nMainPage.xaml.cs\n\n    private async void LoginButton\\_Click(object sender, RoutedEventArgs e)\n    {\n        try\n        {\n            var graphClient = MicrosoftGraphHelper.GetAuthenticatedClient();\n            if (graphClient != null)\n            {\n                var user = await graphClient.Me.Request().GetAsync(); \n                // 获取登陆账户的信息 \n                ResultTextBlock.Text = user.DisplayName + \"-\" + user.UserPrincipalName; }\n            else { ResultTextBlock.Text = \"GraphClient = null\"; } }\n        catch (MsalException) { ResultTextBlock.Text = \"Login Failed\"; } }\n    private void SignOutButton\\_Click(object sender, RoutedEventArgs e)\n    {\n        try\n        {\n            MicrosoftGraphHelper.SignOut();\n            ResultTextBlock.Text = \"Sign Out Success\"; }\n        catch (Exception)\n        {\n            ResultTextBlock.Text = \"Sign Out Failed\";\n        }\n    }\n```\n以上就完成了Microsoft Graph的登陆，效果如下：\n![](Demo.gif)\n\n使用Microsoft Graph上传和下载文件到OneDrive将在下一篇文章中介绍。\n\n本文Demo: \n\nOneDrive: 链接：[Microsoft-Graph-Demo.rar](https://1drv.ms/u/s!ApMNS_xXtxUkmcQdol_pRtT4S_QBDA) \n\n百度云：链接：[Microsoft-Graph-Demo.rar](https://pan.baidu.com/s/1Sfn6iaFYN12RAhQBLB0DcA) 密码：m5kp","slug":"UWP/win10-uwp-graph-onedrive","published":1,"updated":"2025-02-21T10:54:54.004Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1w0021ews7g0vvc49v","content":"<p>在UWP应用中如何使用Microsoft Graph上传和下载OneDrive文件？使用Graph可以调用微软的office，OneDrive，联系人，邮件，日历等很多的接口，因此使用Graph是非常方便的一种做法来开发win10 UWP应用。这是我开发过程中使用OneDrive的方法，记录下来。本篇先讲述如何使用Microsoft Graph登陆账户。</p>\n<span id=\"more\"></span>\n<p>一、首先，使用Microsoft Graph，需要安装两个Nuget包。</p>\n<blockquote>\n<p>Microsoft.Graph; Microsoft.Identity.Client;(搜索时需要勾选“包括预发行版”，否则找不到）</p>\n</blockquote>\n<p>  二、注册ClientID（<a href=\"http://apps.dev.microsoft.com/\">apps.dev.microsoft.com</a>）</p>\n<ol>\n<li>打开上面地址后，登陆后，点击“添加应用”</li>\n<li>创建应用后，获取你自己的“应用程序ID”和“自定义重定向URL”。（不要使用我举例的这个，需要获取自己的）</li>\n</ol>\n<p>“应用程序Id”：9a032f4d-b5bb-49f7-8156-fb387b43ff94 “自定义重定向URL”：msal9a032f4d-b5bb-49f7-8156-fb387b43ff94:&#x2F;&#x2F;auth 三、登陆和退出 1.我将获取令牌和退出写成了一个类（MicrosoftGraphHelper），便于调用。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Graph;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Identity.Client;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http.Headers;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Microsoft</span>\\_<span class=\"title\">Graph</span>\\_<span class=\"title\">Demo</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MicrosoftGraphHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> ClientId = <span class=\"string\">&quot;9a032f4d-b5bb-49f7-8156-fb387b43ff94&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span>\\[\\] Scopes = &#123; <span class=\"string\">&quot;User.Read&quot;</span> &#125;; <span class=\"comment\">// 设置权限，登陆账户读取</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> PublicClientApplication IdentityClientApp = <span class=\"keyword\">new</span> PublicClientApplication(ClientId);</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> TokenForUser = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> DateTimeOffset Expiration;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> GraphServiceClient graphClient = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> GraphServiceClient <span class=\"title\">GetAuthenticatedClient</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (graphClient == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 创建 Microsoft Graph client.</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    graphClient = <span class=\"keyword\">new</span> GraphServiceClient(</span><br><span class=\"line\">                    <span class=\"string\">&quot;https://graph.microsoft.com/v1.0&quot;</span>,</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> DelegateAuthenticationProvider(</span><br><span class=\"line\">                    <span class=\"keyword\">async</span> (requestMessage) =&gt;</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> token = <span class=\"keyword\">await</span> GetTokenForUserAsync();</span><br><span class=\"line\">                        requestMessage.Headers.Authorization = <span class=\"keyword\">new</span> AuthenticationHeaderValue(<span class=\"string\">&quot;bearer&quot;</span>, token);</span><br><span class=\"line\">                    &#125;));</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> graphClient;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Debug.WriteLine(<span class=\"string\">&quot;Could not create a graph client: &quot;</span> + ex.Message);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> graphClient;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 获取用户标记</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">GetTokenForUserAsync</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            AuthenticationResult authResult;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                authResult = <span class=\"keyword\">await</span> IdentityClientApp.AcquireTokenSilentAsync(Scopes, IdentityClientApp.Users.First());</span><br><span class=\"line\">                TokenForUser = authResult.AccessToken;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (TokenForUser == <span class=\"literal\">null</span>  Expiration &lt;= DateTimeOffset.UtcNow.AddMinutes(<span class=\"number\">5</span>))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    authResult = <span class=\"keyword\">await</span> IdentityClientApp.AcquireTokenAsync(Scopes);</span><br><span class=\"line\">                    TokenForUser = authResult.AccessToken;</span><br><span class=\"line\">                    Expiration = authResult.ExpiresOn;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> TokenForUser;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 退出登陆</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">SignOut</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> user <span class=\"keyword\">in</span> IdentityClientApp.Users)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IdentityClientApp.Remove(user);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            graphClient = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            TokenForUser = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2.登陆，并获取登陆账户信息 MainPage.xaml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;LoginButton&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;SignOutButton&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MainPage.xaml.cs</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">async</span> <span class=\"keyword\">void</span> LoginButton\\_Click(<span class=\"built_in\">object</span> sender, RoutedEventArgs e)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> graphClient = MicrosoftGraphHelper.GetAuthenticatedClient();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (graphClient != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> user = <span class=\"keyword\">await</span> graphClient.Me.Request().GetAsync(); </span><br><span class=\"line\">                <span class=\"comment\">// 获取登陆账户的信息 </span></span><br><span class=\"line\">                ResultTextBlock.Text = user.DisplayName + <span class=\"string\">&quot;-&quot;</span> + user.UserPrincipalName; &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123; ResultTextBlock.Text = <span class=\"string\">&quot;GraphClient = null&quot;</span>; &#125; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (MsalException) &#123; ResultTextBlock.Text = <span class=\"string\">&quot;Login Failed&quot;</span>; &#125; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> SignOutButton\\_Click(<span class=\"built_in\">object</span> sender, RoutedEventArgs e)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            MicrosoftGraphHelper.SignOut();</span><br><span class=\"line\">            ResultTextBlock.Text = <span class=\"string\">&quot;Sign Out Success&quot;</span>; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ResultTextBlock.Text = <span class=\"string\">&quot;Sign Out Failed&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>以上就完成了Microsoft Graph的登陆，效果如下：<br><img src=\"/Demo.gif\"></p>\n<p>使用Microsoft Graph上传和下载文件到OneDrive将在下一篇文章中介绍。</p>\n<p>本文Demo: </p>\n<p>OneDrive: 链接：<a href=\"https://1drv.ms/u/s!ApMNS_xXtxUkmcQdol_pRtT4S_QBDA\">Microsoft-Graph-Demo.rar</a> </p>\n<p>百度云：链接：<a href=\"https://pan.baidu.com/s/1Sfn6iaFYN12RAhQBLB0DcA\">Microsoft-Graph-Demo.rar</a> 密码：m5kp</p>\n","excerpt":"<p>在UWP应用中如何使用Microsoft Graph上传和下载OneDrive文件？使用Graph可以调用微软的office，OneDrive，联系人，邮件，日历等很多的接口，因此使用Graph是非常方便的一种做法来开发win10 UWP应用。这是我开发过程中使用OneDrive的方法，记录下来。本篇先讲述如何使用Microsoft Graph登陆账户。</p>","more":"<p>一、首先，使用Microsoft Graph，需要安装两个Nuget包。</p>\n<blockquote>\n<p>Microsoft.Graph; Microsoft.Identity.Client;(搜索时需要勾选“包括预发行版”，否则找不到）</p>\n</blockquote>\n<p>  二、注册ClientID（<a href=\"http://apps.dev.microsoft.com/\">apps.dev.microsoft.com</a>）</p>\n<ol>\n<li>打开上面地址后，登陆后，点击“添加应用”</li>\n<li>创建应用后，获取你自己的“应用程序ID”和“自定义重定向URL”。（不要使用我举例的这个，需要获取自己的）</li>\n</ol>\n<p>“应用程序Id”：9a032f4d-b5bb-49f7-8156-fb387b43ff94 “自定义重定向URL”：msal9a032f4d-b5bb-49f7-8156-fb387b43ff94:&#x2F;&#x2F;auth 三、登陆和退出 1.我将获取令牌和退出写成了一个类（MicrosoftGraphHelper），便于调用。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Graph;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Identity.Client;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http.Headers;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Microsoft</span>\\_<span class=\"title\">Graph</span>\\_<span class=\"title\">Demo</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MicrosoftGraphHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> ClientId = <span class=\"string\">&quot;9a032f4d-b5bb-49f7-8156-fb387b43ff94&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span>\\[\\] Scopes = &#123; <span class=\"string\">&quot;User.Read&quot;</span> &#125;; <span class=\"comment\">// 设置权限，登陆账户读取</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> PublicClientApplication IdentityClientApp = <span class=\"keyword\">new</span> PublicClientApplication(ClientId);</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> TokenForUser = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> DateTimeOffset Expiration;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> GraphServiceClient graphClient = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> GraphServiceClient <span class=\"title\">GetAuthenticatedClient</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (graphClient == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 创建 Microsoft Graph client.</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    graphClient = <span class=\"keyword\">new</span> GraphServiceClient(</span><br><span class=\"line\">                    <span class=\"string\">&quot;https://graph.microsoft.com/v1.0&quot;</span>,</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> DelegateAuthenticationProvider(</span><br><span class=\"line\">                    <span class=\"keyword\">async</span> (requestMessage) =&gt;</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> token = <span class=\"keyword\">await</span> GetTokenForUserAsync();</span><br><span class=\"line\">                        requestMessage.Headers.Authorization = <span class=\"keyword\">new</span> AuthenticationHeaderValue(<span class=\"string\">&quot;bearer&quot;</span>, token);</span><br><span class=\"line\">                    &#125;));</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> graphClient;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Debug.WriteLine(<span class=\"string\">&quot;Could not create a graph client: &quot;</span> + ex.Message);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> graphClient;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 获取用户标记</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task <span class=\"title\">GetTokenForUserAsync</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            AuthenticationResult authResult;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                authResult = <span class=\"keyword\">await</span> IdentityClientApp.AcquireTokenSilentAsync(Scopes, IdentityClientApp.Users.First());</span><br><span class=\"line\">                TokenForUser = authResult.AccessToken;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (TokenForUser == <span class=\"literal\">null</span>  Expiration &lt;= DateTimeOffset.UtcNow.AddMinutes(<span class=\"number\">5</span>))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    authResult = <span class=\"keyword\">await</span> IdentityClientApp.AcquireTokenAsync(Scopes);</span><br><span class=\"line\">                    TokenForUser = authResult.AccessToken;</span><br><span class=\"line\">                    Expiration = authResult.ExpiresOn;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> TokenForUser;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 退出登陆</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">SignOut</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> user <span class=\"keyword\">in</span> IdentityClientApp.Users)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IdentityClientApp.Remove(user);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            graphClient = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            TokenForUser = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>2.登陆，并获取登陆账户信息 MainPage.xaml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;LoginButton&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;SignOutButton&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MainPage.xaml.cs</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">async</span> <span class=\"keyword\">void</span> LoginButton\\_Click(<span class=\"built_in\">object</span> sender, RoutedEventArgs e)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> graphClient = MicrosoftGraphHelper.GetAuthenticatedClient();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (graphClient != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> user = <span class=\"keyword\">await</span> graphClient.Me.Request().GetAsync(); </span><br><span class=\"line\">                <span class=\"comment\">// 获取登陆账户的信息 </span></span><br><span class=\"line\">                ResultTextBlock.Text = user.DisplayName + <span class=\"string\">&quot;-&quot;</span> + user.UserPrincipalName; &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123; ResultTextBlock.Text = <span class=\"string\">&quot;GraphClient = null&quot;</span>; &#125; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (MsalException) &#123; ResultTextBlock.Text = <span class=\"string\">&quot;Login Failed&quot;</span>; &#125; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> SignOutButton\\_Click(<span class=\"built_in\">object</span> sender, RoutedEventArgs e)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            MicrosoftGraphHelper.SignOut();</span><br><span class=\"line\">            ResultTextBlock.Text = <span class=\"string\">&quot;Sign Out Success&quot;</span>; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ResultTextBlock.Text = <span class=\"string\">&quot;Sign Out Failed&quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>以上就完成了Microsoft Graph的登陆，效果如下：<br><img src=\"/Demo.gif\"></p>\n<p>使用Microsoft Graph上传和下载文件到OneDrive将在下一篇文章中介绍。</p>\n<p>本文Demo: </p>\n<p>OneDrive: 链接：<a href=\"https://1drv.ms/u/s!ApMNS_xXtxUkmcQdol_pRtT4S_QBDA\">Microsoft-Graph-Demo.rar</a> </p>\n<p>百度云：链接：<a href=\"https://pan.baidu.com/s/1Sfn6iaFYN12RAhQBLB0DcA\">Microsoft-Graph-Demo.rar</a> 密码：m5kp</p>"},{"title":"Win10 UWP GridView和ListView列表虚拟化问题","date":"2018-11-07T05:02:43.000Z","_content":"\n当我们使用GridView和ListView加载大量数据的时候，为了提高列表的效率，就会用到虚拟化技术。虚拟化技术会计算可见项的数量，然后只为可见项创建UI。GridView和ListView是已经实现虚拟化的。但是为什么有时候没效果呢？看看下文也许对你有所帮助。\n<!-- more -->\n## 一、数据虚拟化结构\n\nListView和GridView是支持虚拟化的。其他控件只要实现了虚拟化面板（ItemsWarpGrid或ItemsStackPanel）就可以支持虚拟化。但是要注意以下情况，否则虚拟化会失效。\n\n### ListView外面嵌套ScrollViewer\n\n```xml\n<ScrollViewer>\n    <ListView/>\n</ScrollViewer>\n```\n\n像上面这样数据的虚拟化就会失效（其实很多人外面套ScrollViewer是为了实现增量加载）。为什么呢，因为ListView虚拟化结构其实是这样的。\n\n```xml\n<ListView >\n    <ListView.Template>\n         <ControlTemplate>\n              <ScrollViewer>\n                  <ItemsPresenter />\n              </ScrollViewer>\n          </ControlTemplate>\n     </ListView.Template>\n </ListView>\n```\n\n那如果我非要在外面套一个ScrollViewer怎么实现虚拟化呢？可以像下面这样做。去掉ItemsPresenter外面的ScrollViewer.\n\n```xml\n<ScrollViewer>\n   <ListView >\n    <ListView.Template>\n         <ControlTemplate>\n              <ItemsPresenter />\n          </ControlTemplate>\n     </ListView.Template>\n   </ListView>\n</ScrollViewer>\n```\n\n## 二、一些说明\n\n**例子1**：做简单的数据加载的时候，比如下面这个例子（滚动到底部自动加载数据,后记：其实到底部加载数据其实有更优雅的方式，外面套ScrollViewer太土狗了）。这个其实破坏了ListView原有的虚拟化结构。\n\n```xml\n   <ScrollViewer x:Name=\"ScrollRoot\"\n                  ViewChanged=\"ScrollRoot_ViewChanged\"\n                  ScrollViewer.VerticalScrollMode=\"Auto\">\n        <ListView SelectionMode=\"None\"\n                  IsItemClickEnabled=\"True\"\n                  ItemsSource=\"{Binding Allperson}\"\n                  ItemTemplate=\"{StaticResource NumberTemplate}\">\n            <ListView.Template>\n                <ControlTemplate>\n                    <ItemsPresenter />\n                </ControlTemplate>\n            </ListView.Template>\n        </ListView>\n    </ScrollViewer>\n```\n\n![](https://i9jcsq.sn.files.1drv.com/y4mQuDaen0GoZLmja0jJAKb3r2Qm6gN9fsbmr8ZwA0V9cWPV0pdbkoFsOorUKu5LVHXSWFoYcHHmkrNnEJmz-8weWyBbNLNhmvRcxIMv0zYcO1W9ZScRTIXYPtQJ_dSmgZylNZOymc_T9jp-tLNg9PPqEZBM8HRdAiJq8-Wq0x0Oqd1Uoiq_ZhMvsz1kfNtBqTdHw0eyWVT_Ev2jNYyfGrL-g?width=660&height=516&cropmode=none)\n\n开启数据虚拟化，首次加载10000个数据，到底部后每次加载1000个，实时可视化树和内存占用如下图所示：\n\n![](https://31pseq.sn.files.1drv.com/y4m2wI4QrSMIhaMh9jyFWEFpSn6EdKRTcygK9IDWz1zSkLRsKhTvBb4hw166PYVj9eThtss6ZLnmdKAHbe8h65_80HcAQqtFUi8UGM6H974g2Ia07HUp1bk4MZT1P02BJQicYEEdHat2Oq1E7XZEcaC_T4y12xDtG67Hx-ZiK4ZEmRq7nmAEdrZ7zgQ3u0R61qlhIboq4FTMI5N5Vka3C2JcQ?width=326&height=298&cropmode=none)\n\n![](https://5qgxpg.sn.files.1drv.com/y4mTNSmQ5S-Ky0S_f7ZR-I131vok9q-3doXLrhfzLAsI4YC84_vVw_6hnjWvGCkLRtocaguCKPF4wWkLKgr3DGs7THnBLU6ko3yJqXiXDHr-y6PDoaP93u3wnkhjCDf6KlUFGK-QQExkFBwQ9-Jlbdblw5K7gHCIWiRD_k3BzV5HIYzmqbILJxCii3msaWPJ9s5GqQ7cyL5_vUvukJuJF9hbw?width=344&height=562&cropmode=none)\n\n上面的例子很明显虚拟化是生效的。但是我们实际做项目的时候，数据模型可不会这么简单。这时候我们就会发现实时可视化树的数量一直在增加，内存也一直在上涨。似乎虚拟化是失效的。那到底怎样呢？看看下个例子。\n\n**例子2**：**[开眼UWP](http://https://www.microsoft.com/store/apps/9NPG6WJ98L88)** 的首页推荐页是一个ListView，ListView里存在多个不同的模板。有的模板里还嵌套着GridView，GridView里还有两个不同的模板。\n\n[![](https://f0thpg.dm.files.1drv.com/y4mPwyjF0slBqmFrB_t1fuzAZV7s2oUyMyAgTHa6eGZCA2ueODUKZtpeHTLbr_T3hSe_RCnv9w3usxVTtnymtoh_H_EmtDoruK1KxFpch76IrARvRqvSAqU2BzexFsRoj9ndNcDnRb7bTAF64_0niihUnG3xOGYwBffeQvza3kYI_a-rfegtriGpAKTO3MJ4jyefTurFuYUvHa_w2H_urU9cw?width=2736&height=1824&cropmode=none)](https://grzz4q.sn.files.1drv.com/y4mTZzZlRn94B0o1MarjjRP8dypypCFSuEsiTbxbZkAMp9UnWuyugzsAaVQMdHxl9TI3e8HnHIzUyCjeFKp9f6WUPaCXRKcB3RvVElh7_6DdlzksRippGE5mWN96QCA8wz_hNpllk8T5lfzZ86esxndubvi2UI-Cu8nj6KgWzWvDzHu3WKCZcqo9qTv5hZBPBU5oK83ZBmBX9H1YTpXFJFyzQ?width=1024&height=676&cropmode=none)\n\n这个问题就比较棘手，这个页面虽然虚拟化是正常的。但是内存一直很高。达到了将近500MB（一直上下滚动）。直到我看到了[官方文档](https://docs.microsoft.com/zh-cn/windows/uwp/debug-test-perf/optimize-gridview-and-listview#container-recycling-with-heterogeneous-collections)的下面文字：\n\n>   \n> 项目模板选择器 ([**DataTemplateSelector**](https://msdn.microsoft.com/library/windows/apps/BR209469)) 允许应用根据要显示的数据项目类型在运行时返回不同的项目模板。 这使开发更高效，但也使 UI 虚拟化更困难，因为不是每一个项目模板都可重复用于每个数据项目。  \n> 在循环使用项目 (**ListViewItem**/**GridViewItem**) 时，框架必须确定可用于循环队列（循环队列是当前未用于显示数据的项目的缓存）的项目是否具有可与当前数据项目所需的项目模板匹配的项目模板。 如果循环队列中没有带有相应项目模板的项目，则将创建一个新项目，并为其实例化相应的项目模板。 另一方面，如果循环队列包含带有相应项目模板的项目，则该项目将从循环队列中删除并用于当前数据项目。 在仅使用少量项目模板以及在使用不同项目模板的项目集锦分布均匀的情况下，项目模板选择器有效。  \n> 当使用不同项目模板的项目分布不均匀时，可能需要在平移期间创建新项目模板，并且这将取消虚拟化所提供的许多好处。 此外，在评估是否可为当前数据项目重复使用特定的容器时，项目模板选择器仅考虑五个可能的候选项。 因此，在应用中使用项目模板选择器前，你应谨慎考虑你的数据是否适用于项目模板选择器。 如果你的集锦大部分是同类，则选择器将在大多数时间（可能是所有时间）返回相同的类型。 请注意你要为上述罕见的同质例外所付出的代价，并考虑是否首选使用 [**ChoosingItemContainer**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.listviewbase.choosingitemcontainer)（或两个项目控件）。\n\nChoosingItemContainer目前我还不会使用。等学会了看看是否可以解决这个问题。\n\n**例子3**：在[爱美图](https://www.microsoft.com/store/apps/9NJLDD2934RK)中，是一个GridView增量加载数据，在虚拟化被破坏时，内存一直上涨，甚至超过1GB。但是修复虚拟化以后。情况如下：\n\n![](https://es8tta.sn.files.1drv.com/y4mQYcSGjN8vRPn4DM0lq2ESxci3S3zcCPbVT7cGtCvYSfXfMS8ej3H6b9gnFpU6LjMEyxX9XoygUUNndw-H_RJKia4hNCBBE75aKfTj_FLjvzRV73BFVSJpKKQSTC9Lhn4ouToMajCjFxapILa1ZQVsgjHZHWvRikxar2EvIuvmlUlQbZdLo-9FLFPWZuZIlO6c2AaMI4r2Jf9H2QWNcoVuw?width=1003&height=792&cropmode=none)\n\n![](https://sy0kna.sn.files.1drv.com/y4m2KFiHy4BfyWQ30315TWtN1xnVDCxBrEJzMvaY5cusT49o5UrlkFHy6S6o7y9-UxZxvL2rSLi5EIQCorvqu3Pyfu5G-i8MNsURZXGtdHPACH-yTSNAWE-p7nyHPtd2QMhfN7ESxJheDhna8sMCuim77NxI2yi7aaSYrZrmzsBLUFRSL0QLDUuNtKDZVWUj4yc2DRy507-WHBXGh0WLbHwJQ?width=329&height=368&cropmode=none)\n\n![](https://hisaha.sn.files.1drv.com/y4m2orZZJ5pS1ZZaQjFWJpmJ7IFfCEJTMDYHa4rD_6iN_uA9K-rR3J4ySh_q1sLFuA_eiYSJk9QWtHX-zNbRleyNB1NtfmUYEv9jqqvEg3UdM2Qh47cdvyLK3Bbdlifha02hK3OhwqWSz87K7B30dhlnJvyW28v4Xy3Xa_vQJosL3e8dBBYHEsmhPI0bKVixrbyfOpQpJDdjK8CR2A3h9qAxg?width=338&height=564&cropmode=none)\n\n这个里面也用了模板选择器，不过就一个广告和图片的选择，比较简单。所以虚拟化的性能没怎么影响。","source":"_posts/UWP/win10-uwp-gridview和listview实现虚拟化技术.md","raw":"---\ntitle: Win10 UWP GridView和ListView列表虚拟化问题\ntags:\n  - GridView\n  - ListView\n  - UWP\n  - 虚拟化\ncategories:\n  - - 开发笔记\ndate: 2018-11-07 13:02:43\n---\n\n当我们使用GridView和ListView加载大量数据的时候，为了提高列表的效率，就会用到虚拟化技术。虚拟化技术会计算可见项的数量，然后只为可见项创建UI。GridView和ListView是已经实现虚拟化的。但是为什么有时候没效果呢？看看下文也许对你有所帮助。\n<!-- more -->\n## 一、数据虚拟化结构\n\nListView和GridView是支持虚拟化的。其他控件只要实现了虚拟化面板（ItemsWarpGrid或ItemsStackPanel）就可以支持虚拟化。但是要注意以下情况，否则虚拟化会失效。\n\n### ListView外面嵌套ScrollViewer\n\n```xml\n<ScrollViewer>\n    <ListView/>\n</ScrollViewer>\n```\n\n像上面这样数据的虚拟化就会失效（其实很多人外面套ScrollViewer是为了实现增量加载）。为什么呢，因为ListView虚拟化结构其实是这样的。\n\n```xml\n<ListView >\n    <ListView.Template>\n         <ControlTemplate>\n              <ScrollViewer>\n                  <ItemsPresenter />\n              </ScrollViewer>\n          </ControlTemplate>\n     </ListView.Template>\n </ListView>\n```\n\n那如果我非要在外面套一个ScrollViewer怎么实现虚拟化呢？可以像下面这样做。去掉ItemsPresenter外面的ScrollViewer.\n\n```xml\n<ScrollViewer>\n   <ListView >\n    <ListView.Template>\n         <ControlTemplate>\n              <ItemsPresenter />\n          </ControlTemplate>\n     </ListView.Template>\n   </ListView>\n</ScrollViewer>\n```\n\n## 二、一些说明\n\n**例子1**：做简单的数据加载的时候，比如下面这个例子（滚动到底部自动加载数据,后记：其实到底部加载数据其实有更优雅的方式，外面套ScrollViewer太土狗了）。这个其实破坏了ListView原有的虚拟化结构。\n\n```xml\n   <ScrollViewer x:Name=\"ScrollRoot\"\n                  ViewChanged=\"ScrollRoot_ViewChanged\"\n                  ScrollViewer.VerticalScrollMode=\"Auto\">\n        <ListView SelectionMode=\"None\"\n                  IsItemClickEnabled=\"True\"\n                  ItemsSource=\"{Binding Allperson}\"\n                  ItemTemplate=\"{StaticResource NumberTemplate}\">\n            <ListView.Template>\n                <ControlTemplate>\n                    <ItemsPresenter />\n                </ControlTemplate>\n            </ListView.Template>\n        </ListView>\n    </ScrollViewer>\n```\n\n![](https://i9jcsq.sn.files.1drv.com/y4mQuDaen0GoZLmja0jJAKb3r2Qm6gN9fsbmr8ZwA0V9cWPV0pdbkoFsOorUKu5LVHXSWFoYcHHmkrNnEJmz-8weWyBbNLNhmvRcxIMv0zYcO1W9ZScRTIXYPtQJ_dSmgZylNZOymc_T9jp-tLNg9PPqEZBM8HRdAiJq8-Wq0x0Oqd1Uoiq_ZhMvsz1kfNtBqTdHw0eyWVT_Ev2jNYyfGrL-g?width=660&height=516&cropmode=none)\n\n开启数据虚拟化，首次加载10000个数据，到底部后每次加载1000个，实时可视化树和内存占用如下图所示：\n\n![](https://31pseq.sn.files.1drv.com/y4m2wI4QrSMIhaMh9jyFWEFpSn6EdKRTcygK9IDWz1zSkLRsKhTvBb4hw166PYVj9eThtss6ZLnmdKAHbe8h65_80HcAQqtFUi8UGM6H974g2Ia07HUp1bk4MZT1P02BJQicYEEdHat2Oq1E7XZEcaC_T4y12xDtG67Hx-ZiK4ZEmRq7nmAEdrZ7zgQ3u0R61qlhIboq4FTMI5N5Vka3C2JcQ?width=326&height=298&cropmode=none)\n\n![](https://5qgxpg.sn.files.1drv.com/y4mTNSmQ5S-Ky0S_f7ZR-I131vok9q-3doXLrhfzLAsI4YC84_vVw_6hnjWvGCkLRtocaguCKPF4wWkLKgr3DGs7THnBLU6ko3yJqXiXDHr-y6PDoaP93u3wnkhjCDf6KlUFGK-QQExkFBwQ9-Jlbdblw5K7gHCIWiRD_k3BzV5HIYzmqbILJxCii3msaWPJ9s5GqQ7cyL5_vUvukJuJF9hbw?width=344&height=562&cropmode=none)\n\n上面的例子很明显虚拟化是生效的。但是我们实际做项目的时候，数据模型可不会这么简单。这时候我们就会发现实时可视化树的数量一直在增加，内存也一直在上涨。似乎虚拟化是失效的。那到底怎样呢？看看下个例子。\n\n**例子2**：**[开眼UWP](http://https://www.microsoft.com/store/apps/9NPG6WJ98L88)** 的首页推荐页是一个ListView，ListView里存在多个不同的模板。有的模板里还嵌套着GridView，GridView里还有两个不同的模板。\n\n[![](https://f0thpg.dm.files.1drv.com/y4mPwyjF0slBqmFrB_t1fuzAZV7s2oUyMyAgTHa6eGZCA2ueODUKZtpeHTLbr_T3hSe_RCnv9w3usxVTtnymtoh_H_EmtDoruK1KxFpch76IrARvRqvSAqU2BzexFsRoj9ndNcDnRb7bTAF64_0niihUnG3xOGYwBffeQvza3kYI_a-rfegtriGpAKTO3MJ4jyefTurFuYUvHa_w2H_urU9cw?width=2736&height=1824&cropmode=none)](https://grzz4q.sn.files.1drv.com/y4mTZzZlRn94B0o1MarjjRP8dypypCFSuEsiTbxbZkAMp9UnWuyugzsAaVQMdHxl9TI3e8HnHIzUyCjeFKp9f6WUPaCXRKcB3RvVElh7_6DdlzksRippGE5mWN96QCA8wz_hNpllk8T5lfzZ86esxndubvi2UI-Cu8nj6KgWzWvDzHu3WKCZcqo9qTv5hZBPBU5oK83ZBmBX9H1YTpXFJFyzQ?width=1024&height=676&cropmode=none)\n\n这个问题就比较棘手，这个页面虽然虚拟化是正常的。但是内存一直很高。达到了将近500MB（一直上下滚动）。直到我看到了[官方文档](https://docs.microsoft.com/zh-cn/windows/uwp/debug-test-perf/optimize-gridview-and-listview#container-recycling-with-heterogeneous-collections)的下面文字：\n\n>   \n> 项目模板选择器 ([**DataTemplateSelector**](https://msdn.microsoft.com/library/windows/apps/BR209469)) 允许应用根据要显示的数据项目类型在运行时返回不同的项目模板。 这使开发更高效，但也使 UI 虚拟化更困难，因为不是每一个项目模板都可重复用于每个数据项目。  \n> 在循环使用项目 (**ListViewItem**/**GridViewItem**) 时，框架必须确定可用于循环队列（循环队列是当前未用于显示数据的项目的缓存）的项目是否具有可与当前数据项目所需的项目模板匹配的项目模板。 如果循环队列中没有带有相应项目模板的项目，则将创建一个新项目，并为其实例化相应的项目模板。 另一方面，如果循环队列包含带有相应项目模板的项目，则该项目将从循环队列中删除并用于当前数据项目。 在仅使用少量项目模板以及在使用不同项目模板的项目集锦分布均匀的情况下，项目模板选择器有效。  \n> 当使用不同项目模板的项目分布不均匀时，可能需要在平移期间创建新项目模板，并且这将取消虚拟化所提供的许多好处。 此外，在评估是否可为当前数据项目重复使用特定的容器时，项目模板选择器仅考虑五个可能的候选项。 因此，在应用中使用项目模板选择器前，你应谨慎考虑你的数据是否适用于项目模板选择器。 如果你的集锦大部分是同类，则选择器将在大多数时间（可能是所有时间）返回相同的类型。 请注意你要为上述罕见的同质例外所付出的代价，并考虑是否首选使用 [**ChoosingItemContainer**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.listviewbase.choosingitemcontainer)（或两个项目控件）。\n\nChoosingItemContainer目前我还不会使用。等学会了看看是否可以解决这个问题。\n\n**例子3**：在[爱美图](https://www.microsoft.com/store/apps/9NJLDD2934RK)中，是一个GridView增量加载数据，在虚拟化被破坏时，内存一直上涨，甚至超过1GB。但是修复虚拟化以后。情况如下：\n\n![](https://es8tta.sn.files.1drv.com/y4mQYcSGjN8vRPn4DM0lq2ESxci3S3zcCPbVT7cGtCvYSfXfMS8ej3H6b9gnFpU6LjMEyxX9XoygUUNndw-H_RJKia4hNCBBE75aKfTj_FLjvzRV73BFVSJpKKQSTC9Lhn4ouToMajCjFxapILa1ZQVsgjHZHWvRikxar2EvIuvmlUlQbZdLo-9FLFPWZuZIlO6c2AaMI4r2Jf9H2QWNcoVuw?width=1003&height=792&cropmode=none)\n\n![](https://sy0kna.sn.files.1drv.com/y4m2KFiHy4BfyWQ30315TWtN1xnVDCxBrEJzMvaY5cusT49o5UrlkFHy6S6o7y9-UxZxvL2rSLi5EIQCorvqu3Pyfu5G-i8MNsURZXGtdHPACH-yTSNAWE-p7nyHPtd2QMhfN7ESxJheDhna8sMCuim77NxI2yi7aaSYrZrmzsBLUFRSL0QLDUuNtKDZVWUj4yc2DRy507-WHBXGh0WLbHwJQ?width=329&height=368&cropmode=none)\n\n![](https://hisaha.sn.files.1drv.com/y4m2orZZJ5pS1ZZaQjFWJpmJ7IFfCEJTMDYHa4rD_6iN_uA9K-rR3J4ySh_q1sLFuA_eiYSJk9QWtHX-zNbRleyNB1NtfmUYEv9jqqvEg3UdM2Qh47cdvyLK3Bbdlifha02hK3OhwqWSz87K7B30dhlnJvyW28v4Xy3Xa_vQJosL3e8dBBYHEsmhPI0bKVixrbyfOpQpJDdjK8CR2A3h9qAxg?width=338&height=564&cropmode=none)\n\n这个里面也用了模板选择器，不过就一个广告和图片的选择，比较简单。所以虚拟化的性能没怎么影响。","slug":"UWP/win10-uwp-gridview和listview实现虚拟化技术","published":1,"updated":"2025-02-21T10:54:54.009Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1x0024ews7fcrw1suk","content":"<p>当我们使用GridView和ListView加载大量数据的时候，为了提高列表的效率，就会用到虚拟化技术。虚拟化技术会计算可见项的数量，然后只为可见项创建UI。GridView和ListView是已经实现虚拟化的。但是为什么有时候没效果呢？看看下文也许对你有所帮助。</p>\n<span id=\"more\"></span>\n<h2 id=\"一、数据虚拟化结构\"><a href=\"#一、数据虚拟化结构\" class=\"headerlink\" title=\"一、数据虚拟化结构\"></a>一、数据虚拟化结构</h2><p>ListView和GridView是支持虚拟化的。其他控件只要实现了虚拟化面板（ItemsWarpGrid或ItemsStackPanel）就可以支持虚拟化。但是要注意以下情况，否则虚拟化会失效。</p>\n<h3 id=\"ListView外面嵌套ScrollViewer\"><a href=\"#ListView外面嵌套ScrollViewer\" class=\"headerlink\" title=\"ListView外面嵌套ScrollViewer\"></a>ListView外面嵌套ScrollViewer</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>像上面这样数据的虚拟化就会失效（其实很多人外面套ScrollViewer是为了实现增量加载）。为什么呢，因为ListView虚拟化结构其实是这样的。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ListView</span> &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>那如果我非要在外面套一个ScrollViewer怎么实现虚拟化呢？可以像下面这样做。去掉ItemsPresenter外面的ScrollViewer.</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">ListView</span> &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"二、一些说明\"><a href=\"#二、一些说明\" class=\"headerlink\" title=\"二、一些说明\"></a>二、一些说明</h2><p><strong>例子1</strong>：做简单的数据加载的时候，比如下面这个例子（滚动到底部自动加载数据,后记：其实到底部加载数据其实有更优雅的方式，外面套ScrollViewer太土狗了）。这个其实破坏了ListView原有的虚拟化结构。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ScrollRoot&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ViewChanged</span>=<span class=\"string\">&quot;ScrollRoot_ViewChanged&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ScrollViewer.VerticalScrollMode</span>=<span class=\"string\">&quot;Auto&quot;</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">SelectionMode</span>=<span class=\"string\">&quot;None&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">IsItemClickEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Allperson&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ItemTemplate</span>=<span class=\"string\">&quot;&#123;StaticResource NumberTemplate&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://i9jcsq.sn.files.1drv.com/y4mQuDaen0GoZLmja0jJAKb3r2Qm6gN9fsbmr8ZwA0V9cWPV0pdbkoFsOorUKu5LVHXSWFoYcHHmkrNnEJmz-8weWyBbNLNhmvRcxIMv0zYcO1W9ZScRTIXYPtQJ_dSmgZylNZOymc_T9jp-tLNg9PPqEZBM8HRdAiJq8-Wq0x0Oqd1Uoiq_ZhMvsz1kfNtBqTdHw0eyWVT_Ev2jNYyfGrL-g?width=660&height=516&cropmode=none\"></p>\n<p>开启数据虚拟化，首次加载10000个数据，到底部后每次加载1000个，实时可视化树和内存占用如下图所示：</p>\n<p><img src=\"https://31pseq.sn.files.1drv.com/y4m2wI4QrSMIhaMh9jyFWEFpSn6EdKRTcygK9IDWz1zSkLRsKhTvBb4hw166PYVj9eThtss6ZLnmdKAHbe8h65_80HcAQqtFUi8UGM6H974g2Ia07HUp1bk4MZT1P02BJQicYEEdHat2Oq1E7XZEcaC_T4y12xDtG67Hx-ZiK4ZEmRq7nmAEdrZ7zgQ3u0R61qlhIboq4FTMI5N5Vka3C2JcQ?width=326&height=298&cropmode=none\"></p>\n<p><img src=\"https://5qgxpg.sn.files.1drv.com/y4mTNSmQ5S-Ky0S_f7ZR-I131vok9q-3doXLrhfzLAsI4YC84_vVw_6hnjWvGCkLRtocaguCKPF4wWkLKgr3DGs7THnBLU6ko3yJqXiXDHr-y6PDoaP93u3wnkhjCDf6KlUFGK-QQExkFBwQ9-Jlbdblw5K7gHCIWiRD_k3BzV5HIYzmqbILJxCii3msaWPJ9s5GqQ7cyL5_vUvukJuJF9hbw?width=344&height=562&cropmode=none\"></p>\n<p>上面的例子很明显虚拟化是生效的。但是我们实际做项目的时候，数据模型可不会这么简单。这时候我们就会发现实时可视化树的数量一直在增加，内存也一直在上涨。似乎虚拟化是失效的。那到底怎样呢？看看下个例子。</p>\n<p><strong>例子2</strong>：**<a href=\"http://https//www.microsoft.com/store/apps/9NPG6WJ98L88\">开眼UWP</a>** 的首页推荐页是一个ListView，ListView里存在多个不同的模板。有的模板里还嵌套着GridView，GridView里还有两个不同的模板。</p>\n<p><a href=\"https://grzz4q.sn.files.1drv.com/y4mTZzZlRn94B0o1MarjjRP8dypypCFSuEsiTbxbZkAMp9UnWuyugzsAaVQMdHxl9TI3e8HnHIzUyCjeFKp9f6WUPaCXRKcB3RvVElh7_6DdlzksRippGE5mWN96QCA8wz_hNpllk8T5lfzZ86esxndubvi2UI-Cu8nj6KgWzWvDzHu3WKCZcqo9qTv5hZBPBU5oK83ZBmBX9H1YTpXFJFyzQ?width=1024&height=676&cropmode=none\"><img src=\"https://f0thpg.dm.files.1drv.com/y4mPwyjF0slBqmFrB_t1fuzAZV7s2oUyMyAgTHa6eGZCA2ueODUKZtpeHTLbr_T3hSe_RCnv9w3usxVTtnymtoh_H_EmtDoruK1KxFpch76IrARvRqvSAqU2BzexFsRoj9ndNcDnRb7bTAF64_0niihUnG3xOGYwBffeQvza3kYI_a-rfegtriGpAKTO3MJ4jyefTurFuYUvHa_w2H_urU9cw?width=2736&height=1824&cropmode=none\"></a></p>\n<p>这个问题就比较棘手，这个页面虽然虚拟化是正常的。但是内存一直很高。达到了将近500MB（一直上下滚动）。直到我看到了<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/debug-test-perf/optimize-gridview-and-listview#container-recycling-with-heterogeneous-collections\">官方文档</a>的下面文字：</p>\n<blockquote>\n<p>项目模板选择器 (<a href=\"https://msdn.microsoft.com/library/windows/apps/BR209469\"><strong>DataTemplateSelector</strong></a>) 允许应用根据要显示的数据项目类型在运行时返回不同的项目模板。 这使开发更高效，但也使 UI 虚拟化更困难，因为不是每一个项目模板都可重复用于每个数据项目。<br>在循环使用项目 (<strong>ListViewItem</strong>&#x2F;<strong>GridViewItem</strong>) 时，框架必须确定可用于循环队列（循环队列是当前未用于显示数据的项目的缓存）的项目是否具有可与当前数据项目所需的项目模板匹配的项目模板。 如果循环队列中没有带有相应项目模板的项目，则将创建一个新项目，并为其实例化相应的项目模板。 另一方面，如果循环队列包含带有相应项目模板的项目，则该项目将从循环队列中删除并用于当前数据项目。 在仅使用少量项目模板以及在使用不同项目模板的项目集锦分布均匀的情况下，项目模板选择器有效。<br>当使用不同项目模板的项目分布不均匀时，可能需要在平移期间创建新项目模板，并且这将取消虚拟化所提供的许多好处。 此外，在评估是否可为当前数据项目重复使用特定的容器时，项目模板选择器仅考虑五个可能的候选项。 因此，在应用中使用项目模板选择器前，你应谨慎考虑你的数据是否适用于项目模板选择器。 如果你的集锦大部分是同类，则选择器将在大多数时间（可能是所有时间）返回相同的类型。 请注意你要为上述罕见的同质例外所付出的代价，并考虑是否首选使用 <a href=\"https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.listviewbase.choosingitemcontainer\"><strong>ChoosingItemContainer</strong></a>（或两个项目控件）。</p>\n</blockquote>\n<p>ChoosingItemContainer目前我还不会使用。等学会了看看是否可以解决这个问题。</p>\n<p><strong>例子3</strong>：在<a href=\"https://www.microsoft.com/store/apps/9NJLDD2934RK\">爱美图</a>中，是一个GridView增量加载数据，在虚拟化被破坏时，内存一直上涨，甚至超过1GB。但是修复虚拟化以后。情况如下：</p>\n<p><img src=\"https://es8tta.sn.files.1drv.com/y4mQYcSGjN8vRPn4DM0lq2ESxci3S3zcCPbVT7cGtCvYSfXfMS8ej3H6b9gnFpU6LjMEyxX9XoygUUNndw-H_RJKia4hNCBBE75aKfTj_FLjvzRV73BFVSJpKKQSTC9Lhn4ouToMajCjFxapILa1ZQVsgjHZHWvRikxar2EvIuvmlUlQbZdLo-9FLFPWZuZIlO6c2AaMI4r2Jf9H2QWNcoVuw?width=1003&height=792&cropmode=none\"></p>\n<p><img src=\"https://sy0kna.sn.files.1drv.com/y4m2KFiHy4BfyWQ30315TWtN1xnVDCxBrEJzMvaY5cusT49o5UrlkFHy6S6o7y9-UxZxvL2rSLi5EIQCorvqu3Pyfu5G-i8MNsURZXGtdHPACH-yTSNAWE-p7nyHPtd2QMhfN7ESxJheDhna8sMCuim77NxI2yi7aaSYrZrmzsBLUFRSL0QLDUuNtKDZVWUj4yc2DRy507-WHBXGh0WLbHwJQ?width=329&height=368&cropmode=none\"></p>\n<p><img src=\"https://hisaha.sn.files.1drv.com/y4m2orZZJ5pS1ZZaQjFWJpmJ7IFfCEJTMDYHa4rD_6iN_uA9K-rR3J4ySh_q1sLFuA_eiYSJk9QWtHX-zNbRleyNB1NtfmUYEv9jqqvEg3UdM2Qh47cdvyLK3Bbdlifha02hK3OhwqWSz87K7B30dhlnJvyW28v4Xy3Xa_vQJosL3e8dBBYHEsmhPI0bKVixrbyfOpQpJDdjK8CR2A3h9qAxg?width=338&height=564&cropmode=none\"></p>\n<p>这个里面也用了模板选择器，不过就一个广告和图片的选择，比较简单。所以虚拟化的性能没怎么影响。</p>\n","excerpt":"<p>当我们使用GridView和ListView加载大量数据的时候，为了提高列表的效率，就会用到虚拟化技术。虚拟化技术会计算可见项的数量，然后只为可见项创建UI。GridView和ListView是已经实现虚拟化的。但是为什么有时候没效果呢？看看下文也许对你有所帮助。</p>","more":"<h2 id=\"一、数据虚拟化结构\"><a href=\"#一、数据虚拟化结构\" class=\"headerlink\" title=\"一、数据虚拟化结构\"></a>一、数据虚拟化结构</h2><p>ListView和GridView是支持虚拟化的。其他控件只要实现了虚拟化面板（ItemsWarpGrid或ItemsStackPanel）就可以支持虚拟化。但是要注意以下情况，否则虚拟化会失效。</p>\n<h3 id=\"ListView外面嵌套ScrollViewer\"><a href=\"#ListView外面嵌套ScrollViewer\" class=\"headerlink\" title=\"ListView外面嵌套ScrollViewer\"></a>ListView外面嵌套ScrollViewer</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>像上面这样数据的虚拟化就会失效（其实很多人外面套ScrollViewer是为了实现增量加载）。为什么呢，因为ListView虚拟化结构其实是这样的。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ListView</span> &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>那如果我非要在外面套一个ScrollViewer怎么实现虚拟化呢？可以像下面这样做。去掉ItemsPresenter外面的ScrollViewer.</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">ListView</span> &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"二、一些说明\"><a href=\"#二、一些说明\" class=\"headerlink\" title=\"二、一些说明\"></a>二、一些说明</h2><p><strong>例子1</strong>：做简单的数据加载的时候，比如下面这个例子（滚动到底部自动加载数据,后记：其实到底部加载数据其实有更优雅的方式，外面套ScrollViewer太土狗了）。这个其实破坏了ListView原有的虚拟化结构。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ScrollViewer</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ScrollRoot&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ViewChanged</span>=<span class=\"string\">&quot;ScrollRoot_ViewChanged&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ScrollViewer.VerticalScrollMode</span>=<span class=\"string\">&quot;Auto&quot;</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">SelectionMode</span>=<span class=\"string\">&quot;None&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">IsItemClickEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Allperson&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">               <span class=\"attr\">ItemTemplate</span>=<span class=\"string\">&quot;&#123;StaticResource NumberTemplate&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">ItemsPresenter</span> /&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">ListView.Template</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">ScrollViewer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://i9jcsq.sn.files.1drv.com/y4mQuDaen0GoZLmja0jJAKb3r2Qm6gN9fsbmr8ZwA0V9cWPV0pdbkoFsOorUKu5LVHXSWFoYcHHmkrNnEJmz-8weWyBbNLNhmvRcxIMv0zYcO1W9ZScRTIXYPtQJ_dSmgZylNZOymc_T9jp-tLNg9PPqEZBM8HRdAiJq8-Wq0x0Oqd1Uoiq_ZhMvsz1kfNtBqTdHw0eyWVT_Ev2jNYyfGrL-g?width=660&height=516&cropmode=none\"></p>\n<p>开启数据虚拟化，首次加载10000个数据，到底部后每次加载1000个，实时可视化树和内存占用如下图所示：</p>\n<p><img src=\"https://31pseq.sn.files.1drv.com/y4m2wI4QrSMIhaMh9jyFWEFpSn6EdKRTcygK9IDWz1zSkLRsKhTvBb4hw166PYVj9eThtss6ZLnmdKAHbe8h65_80HcAQqtFUi8UGM6H974g2Ia07HUp1bk4MZT1P02BJQicYEEdHat2Oq1E7XZEcaC_T4y12xDtG67Hx-ZiK4ZEmRq7nmAEdrZ7zgQ3u0R61qlhIboq4FTMI5N5Vka3C2JcQ?width=326&height=298&cropmode=none\"></p>\n<p><img src=\"https://5qgxpg.sn.files.1drv.com/y4mTNSmQ5S-Ky0S_f7ZR-I131vok9q-3doXLrhfzLAsI4YC84_vVw_6hnjWvGCkLRtocaguCKPF4wWkLKgr3DGs7THnBLU6ko3yJqXiXDHr-y6PDoaP93u3wnkhjCDf6KlUFGK-QQExkFBwQ9-Jlbdblw5K7gHCIWiRD_k3BzV5HIYzmqbILJxCii3msaWPJ9s5GqQ7cyL5_vUvukJuJF9hbw?width=344&height=562&cropmode=none\"></p>\n<p>上面的例子很明显虚拟化是生效的。但是我们实际做项目的时候，数据模型可不会这么简单。这时候我们就会发现实时可视化树的数量一直在增加，内存也一直在上涨。似乎虚拟化是失效的。那到底怎样呢？看看下个例子。</p>\n<p><strong>例子2</strong>：**<a href=\"http://https//www.microsoft.com/store/apps/9NPG6WJ98L88\">开眼UWP</a>** 的首页推荐页是一个ListView，ListView里存在多个不同的模板。有的模板里还嵌套着GridView，GridView里还有两个不同的模板。</p>\n<p><a href=\"https://grzz4q.sn.files.1drv.com/y4mTZzZlRn94B0o1MarjjRP8dypypCFSuEsiTbxbZkAMp9UnWuyugzsAaVQMdHxl9TI3e8HnHIzUyCjeFKp9f6WUPaCXRKcB3RvVElh7_6DdlzksRippGE5mWN96QCA8wz_hNpllk8T5lfzZ86esxndubvi2UI-Cu8nj6KgWzWvDzHu3WKCZcqo9qTv5hZBPBU5oK83ZBmBX9H1YTpXFJFyzQ?width=1024&height=676&cropmode=none\"><img src=\"https://f0thpg.dm.files.1drv.com/y4mPwyjF0slBqmFrB_t1fuzAZV7s2oUyMyAgTHa6eGZCA2ueODUKZtpeHTLbr_T3hSe_RCnv9w3usxVTtnymtoh_H_EmtDoruK1KxFpch76IrARvRqvSAqU2BzexFsRoj9ndNcDnRb7bTAF64_0niihUnG3xOGYwBffeQvza3kYI_a-rfegtriGpAKTO3MJ4jyefTurFuYUvHa_w2H_urU9cw?width=2736&height=1824&cropmode=none\"></a></p>\n<p>这个问题就比较棘手，这个页面虽然虚拟化是正常的。但是内存一直很高。达到了将近500MB（一直上下滚动）。直到我看到了<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/debug-test-perf/optimize-gridview-and-listview#container-recycling-with-heterogeneous-collections\">官方文档</a>的下面文字：</p>\n<blockquote>\n<p>项目模板选择器 (<a href=\"https://msdn.microsoft.com/library/windows/apps/BR209469\"><strong>DataTemplateSelector</strong></a>) 允许应用根据要显示的数据项目类型在运行时返回不同的项目模板。 这使开发更高效，但也使 UI 虚拟化更困难，因为不是每一个项目模板都可重复用于每个数据项目。<br>在循环使用项目 (<strong>ListViewItem</strong>&#x2F;<strong>GridViewItem</strong>) 时，框架必须确定可用于循环队列（循环队列是当前未用于显示数据的项目的缓存）的项目是否具有可与当前数据项目所需的项目模板匹配的项目模板。 如果循环队列中没有带有相应项目模板的项目，则将创建一个新项目，并为其实例化相应的项目模板。 另一方面，如果循环队列包含带有相应项目模板的项目，则该项目将从循环队列中删除并用于当前数据项目。 在仅使用少量项目模板以及在使用不同项目模板的项目集锦分布均匀的情况下，项目模板选择器有效。<br>当使用不同项目模板的项目分布不均匀时，可能需要在平移期间创建新项目模板，并且这将取消虚拟化所提供的许多好处。 此外，在评估是否可为当前数据项目重复使用特定的容器时，项目模板选择器仅考虑五个可能的候选项。 因此，在应用中使用项目模板选择器前，你应谨慎考虑你的数据是否适用于项目模板选择器。 如果你的集锦大部分是同类，则选择器将在大多数时间（可能是所有时间）返回相同的类型。 请注意你要为上述罕见的同质例外所付出的代价，并考虑是否首选使用 <a href=\"https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.listviewbase.choosingitemcontainer\"><strong>ChoosingItemContainer</strong></a>（或两个项目控件）。</p>\n</blockquote>\n<p>ChoosingItemContainer目前我还不会使用。等学会了看看是否可以解决这个问题。</p>\n<p><strong>例子3</strong>：在<a href=\"https://www.microsoft.com/store/apps/9NJLDD2934RK\">爱美图</a>中，是一个GridView增量加载数据，在虚拟化被破坏时，内存一直上涨，甚至超过1GB。但是修复虚拟化以后。情况如下：</p>\n<p><img src=\"https://es8tta.sn.files.1drv.com/y4mQYcSGjN8vRPn4DM0lq2ESxci3S3zcCPbVT7cGtCvYSfXfMS8ej3H6b9gnFpU6LjMEyxX9XoygUUNndw-H_RJKia4hNCBBE75aKfTj_FLjvzRV73BFVSJpKKQSTC9Lhn4ouToMajCjFxapILa1ZQVsgjHZHWvRikxar2EvIuvmlUlQbZdLo-9FLFPWZuZIlO6c2AaMI4r2Jf9H2QWNcoVuw?width=1003&height=792&cropmode=none\"></p>\n<p><img src=\"https://sy0kna.sn.files.1drv.com/y4m2KFiHy4BfyWQ30315TWtN1xnVDCxBrEJzMvaY5cusT49o5UrlkFHy6S6o7y9-UxZxvL2rSLi5EIQCorvqu3Pyfu5G-i8MNsURZXGtdHPACH-yTSNAWE-p7nyHPtd2QMhfN7ESxJheDhna8sMCuim77NxI2yi7aaSYrZrmzsBLUFRSL0QLDUuNtKDZVWUj4yc2DRy507-WHBXGh0WLbHwJQ?width=329&height=368&cropmode=none\"></p>\n<p><img src=\"https://hisaha.sn.files.1drv.com/y4m2orZZJ5pS1ZZaQjFWJpmJ7IFfCEJTMDYHa4rD_6iN_uA9K-rR3J4ySh_q1sLFuA_eiYSJk9QWtHX-zNbRleyNB1NtfmUYEv9jqqvEg3UdM2Qh47cdvyLK3Bbdlifha02hK3OhwqWSz87K7B30dhlnJvyW28v4Xy3Xa_vQJosL3e8dBBYHEsmhPI0bKVixrbyfOpQpJDdjK8CR2A3h9qAxg?width=338&height=564&cropmode=none\"></p>\n<p>这个里面也用了模板选择器，不过就一个广告和图片的选择，比较简单。所以虚拟化的性能没怎么影响。</p>"},{"title":"Win10 UWP自定义MediaTransportControl的数据绑定问题","date":"2019-02-14T07:25:26.000Z","_content":"\n在开发开眼UWP的过程中，需要MediaTransportControl有切换视频播放清晰度的需求。但是过程中发现绑定的数据一直不显示。记录一下过程，写的有点乱。\n\n最后完成的样子：\n\n![](https://56g3lg.sn.files.1drv.com/y4mDALwlWUd9X_4KCczht2NlcXyguB5A_ifvyFIhiCc-__e7OdJ7yuqBK56bkwDZIF5E2pNkmdtIMBt-6N7e4lf29PJi9l2GsflrUcZTRPzR6rROTjtsT3Kt2mcDgk-Ue-f2GeBKG3X85nHMoY_EJaqVUM4pPb_Yzk1PWyv0p840IeJVpTcX7Y0qEAz-ZJwzZinFEftS0zIh9qjJe3ZjvhoLw?width=2736&height=1744&cropmode=none)\n\n自定义MediaTransportControl的方法不说了，详细请看的微软官方文档：[文档链接](https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/custom-transport-controls)\n\n文中提到的文件\n\n*   MediaTransportControlsDictionary.xaml\n*   CustomMediaTransportControls.cs\n*   PlayVideoControl.xaml\n*   PlayVideoControl.xaml.cs\n\n## 一、数据格式\n```json\n\"playInfo\": \\[{\n\"height\": 270,\n\"width\": 480,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=aliyun\",\n\"size\": 8142424\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=qcloud\",\n\"size\": 8142424\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=ucloud\",\n\"size\": 8142424\n}\n\\],\n\"name\": \"流畅\",\n\"type\": \"low\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=aliyun\"\n},\n{\n\"height\": 480,\n\"width\": 854,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=aliyun\",\n\"size\": 18648494\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=qcloud\",\n\"size\": 18648494\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=ucloud\",\n\"size\": 18648494\n}\n\\],\n\"name\": \"标清\",\n\"type\": \"normal\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=aliyun\"\n},\n{\n\"height\": 720,\n\"width\": 1280,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=aliyun\",\n\"size\": 30572399\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=qcloud\",\n\"size\": 30572399\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=ucloud\",\n\"size\": 30572399\n}\n\\],\n\"name\": \"高清\",\n\"type\": \"high\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=aliyun\"\n}\n\\]\n```\n## 二、修改模板，添加按钮\n\n在MediaTransportControlsDictionary.xaml中添加：\n```xml\n  <!--清晰度切换-->\n    <AppBarButton x:Name='PlayInfoButton'\n                  Margin=\"8,0,0,0\"\n                  Style=\"{StaticResource AppBarButtonStyle}\"\n                  Content=\"{Binding ElementName=PlayInfoListView,Path=SelectedItem.name}\">\n        <AppBarButton.Flyout>\n            <Flyout x:Name=\"PlayInfoFlyout\">\n                <ListView x:Name=\"PlayInfoListView\"\n                          Width=\"52\"\n                          ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"\n                          SelectedIndex=\"{Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\">\n                    <ListView.ItemTemplate>\n                        <DataTemplate>\n                            <TextBlock Text=\"{Binding name}\" />\n                        </DataTemplate>\n                    </ListView.ItemTemplate>\n                </ListView>\n            </Flyout>\n        </AppBarButton.Flyout>\n    </AppBarButton>\n```\n这里绑定使用的是Binding,我看别人使用的是TemplateBinding，但是我编译不了?，刚开始自己直接这样ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay}\"，发现绑定的数据是空白的。因为页面加载的时候是先初始化MediaTransportControl, 完成后才是页面后台代码的赋值。所以每次初始化的数据都是空白。赋值后数据也不会更新。后来看到一个博客，使用ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"这样就可以更新数据了。  \n参考的博客地址：[模板中的 TemplateBinding 问题](https://www.cnblogs.com/hebeiDGL/p/3670667.html)\n\n## 三、定义绑定的依赖项\n\n在CustomMediaTransportControls.cs中添加：\n``` c#\n// 使用propdp快速生成\n public List<PlayInfo> PlayInfos\n {\n     get { return (List<PlayInfo>)GetValue(PlayInfosProperty); }\n     set { SetValue(PlayInfosProperty, value); }\n }\n\n// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...\n public static readonly DependencyProperty PlayInfosProperty =\n            DependencyProperty.Register(\"PlayInfos\", typeof(List<PlayInfo>), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n```\n## 四、使用\n\n在PlayVideoControl.xaml中添加 :\n```xml\n <MediaPlayerElement Name=\"MainMediaPalyer\"\n                     AreTransportControlsEnabled=\"True\"\n                     AutoPlay=\"True\"\n                     DoubleTapped=\"MainMediaPalyer\\_DoubleTapped\">\n       <MediaPlayerElement.TransportControls>\n              <control:CustomMediaTransportControls \n                           x:Name=\"mediaTransportControl\"\n                           Style=\"{StaticResource MyMediaTransportControls}\"\n                           IsCompact=\"True\"\n                           IsCompactOverlayEnabled=\"True\"\n                           IsZoomButtonVisible=\"false\"\n                           IsCompactOverlayButtonVisible=\"True\"\n                           IsVolumeButtonVisible=\"True\"\n                           IsStopButtonVisible=\"False\" \n                          PlayInfo\\_SelectionChanged=\"MediaTransportControl\\_PlayInfo\\_SelectionChanged\"/>\n        </MediaPlayerElement.TransportControls>\n </MediaPlayerElement>\n```\n在PlayVideoControl.xaml.cs中赋值：  \nmediaTransportControl.PlayInfos = VideoData.playInfo;\n\n## 五、响应清晰度的改变\n\n在CustomMediaTransportControls.cs中的OnApplyTemplate中订阅ListView的SelectionChanged事件。\n```c#\npublic event EventHandler<PlayInfoEventArgs> PlayInfo\\_SelectionChanged; \nprotected override void OnApplyTemplate()\n{\n   {\n      var playInfoListView = (ListView)GetTemplateChild(\"PlayInfoListView\");\n      playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;\n    }\n    base.OnApplyTemplate();\n }\n\nprivate void PlayInfoListView\\_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n   var playInfoLV = sender as ListView;\n   if(playInfoLV.SelectedIndex != -1)\n     {\n        var info = PlayInfos\\[playInfoLV.SelectedIndex\\];\n        PlayInfo\\_SelectionChanged?.Invoke(this, new PlayInfoEventArgs(info));\n      }\n\n}\n\n public class PlayInfoEventArgs : EventArgs\n {\n\n     public PlayInfo Infos { get; set; }\n     public PlayInfoEventArgs(PlayInfo info)\n     {\n            Infos = info; \n     }\n }\n```   \n\n然后在PlayVideoControl.xaml.cs页面订阅MediaTransportControl\\_PlayInfo\\_SelectionChanged事件，更改MediaPlayerElement的Source。\n```c#\nprivate void MediaTransportControl\\_PlayInfo\\_SelectionChanged(object sender, PlayInfoEventArgs e)\n{        \n   if(playUrl != e.Infos.url)\n   {\n      MainMediaPalyer.Source = MediaSource.CreateFromUri(new Uri(e.Infos.url));\n   }\n}\n```\n## 六、全部代码\n\n### 1、CustomMediaTransportControls.cs\n```c#\nusing EyepetizerTest.Services;\nusing System;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Media;\n\nnamespace EyepetizerTest.Controls\n{\n    public class CustomMediaTransportControls:MediaTransportControls\n    {\n        public event EventHandler<PlayInfoEventArgs> PlayInfo\\_SelectionChanged;\n        private bool IsLoading = false;\n        public CustomMediaTransportControls()\n        {\n            this.DefaultStyleKey = typeof(CustomMediaTransportControls);\n           \n        }\n\n        public string VideoTitle\n        {\n            get { return (string)GetValue(VideoTitleProperty); }\n            set { SetValue(VideoTitleProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for VideoTitle.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty VideoTitleProperty =\n            DependencyProperty.Register(\"VideoTitle\", typeof(string), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n\n\n\n        public int PlayInfo\\_SelectedIndex\n        {\n            get { return (int)GetValue(PlayInfo\\_SelectedIndexProperty); }\n            set { SetValue(PlayInfo\\_SelectedIndexProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for PlayInfo\\_SelectedIndex.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty PlayInfo\\_SelectedIndexProperty =\n            DependencyProperty.Register(\"PlayInfo\\_SelectedIndex\", typeof(int), typeof(CustomMediaTransportControls), new PropertyMetadata(-1));\n\n\n        public List<PlayInfo> PlayInfos\n        {\n            get { return (List<PlayInfo>)GetValue(PlayInfosProperty); }\n            set { SetValue(PlayInfosProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty PlayInfosProperty =\n            DependencyProperty.Register(\"PlayInfos\", typeof(List<PlayInfo>), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n\n        protected override void OnApplyTemplate()\n        {\n            {\n                var playInfoListView = (ListView)GetTemplateChild(\"PlayInfoListView\");\n                playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;\n            }\n            {\n                var rootGrid = (Grid)GetTemplateChild(\"RootGrid\");\n                rootGrid.PointerMoved += RootGrid\\_PointerMoved;\n            }\n            base.OnApplyTemplate();\n        }\n\n        private void RootGrid\\_PointerMoved(object sender, Windows.UI.Xaml.Input.PointerRoutedEventArgs e)\n        {\n            if(IsLoading == false)\n            {\n                IsLoading = true;\n                var titlePanelFadeIn = (VisualState)GetTemplateChild(\"TitlePanelFadeIn\");\n                titlePanelFadeIn.Storyboard.BeginTime = new TimeSpan(500);\n                titlePanelFadeIn.Storyboard.Duration = new Duration(TimeSpan.FromSeconds(4));\n                titlePanelFadeIn.Storyboard.Begin();\n                titlePanelFadeIn.Storyboard.Completed += Storyboard\\_Completed;\n            }\n                     \n        }\n\n        private void Storyboard\\_Completed(object sender, object e)\n        {\n            var titlePanelFadeOut = (VisualState)GetTemplateChild(\"TitlePanelFadeOut\");\n            titlePanelFadeOut.Storyboard.BeginTime = new TimeSpan(500);\n            titlePanelFadeOut.Storyboard.Begin();\n            titlePanelFadeOut.Storyboard.Completed += Storyboard\\_Completed1;\n        }\n\n        private void Storyboard\\_Completed1(object sender, object e)\n        {\n            IsLoading = false;\n        }\n\n        private void PlayInfoListView\\_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            var playInfoLV = sender as ListView;\n            if(playInfoLV.SelectedIndex != -1)\n            {\n                var info = PlayInfos\\[playInfoLV.SelectedIndex\\];\n                PlayInfo\\_SelectionChanged?.Invoke(this, new PlayInfoEventArgs(info));\n            }\n\n        }\n       \n    }\n  \n    public class PlayInfoEventArgs : EventArgs\n    {\n\n        public PlayInfo Infos { get; set; }\n        public PlayInfoEventArgs(PlayInfo info)\n        {\n            Infos = info; \n        }\n    }\n    \n}\n```\n### 2、MediaTransportControlsDictionary.xaml\n```xml\n<ResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:local=\"using:EyepetizerTest.Styles\"\n                    xmlns:control=\"using:EyepetizerTest.Controls\"\n                    xmlns:service=\"using:EyepetizerTest.Services\"\n                    xmlns:converter=\"using:EyepetizerTest.Converters\">\n\n    <!-- Default style for MediaTransportControls -->\n    <Style TargetType=\"control:CustomMediaTransportControls\"\n           x:Key=\"MyMediaTransportControls\">\n        <Setter Property=\"IsTabStop\"\n                Value=\"False\" />\n        <Setter Property=\"Background\"\n                Value=\"Transparent\" />\n        <Setter Property=\"FlowDirection\"\n                Value=\"LeftToRight\" />\n        <Setter Property=\"UseSystemFocusVisuals\"\n                Value=\"{StaticResource UseSystemFocusVisuals}\" />\n        <Setter Property=\"IsTextScaleFactorEnabled\"\n                Value=\"False\" />\n        <Setter Property=\"Template\">\n            <Setter.Value>\n                <ControlTemplate TargetType=\"MediaTransportControls\">\n                    <Grid x:Name=\"RootGrid\"\n                          Background=\"Transparent\">\n\n                        <Grid.Resources>\n                            <!-- New AppBar button style 48x48 pixels in size -->\n                            <Style x:Key=\"AppBarButtonStyle\"\n                                   TargetType=\"AppBarButton\"\n                                   BasedOn=\"{StaticResource AppBarButtonRevealStyle}\">\n                                <Setter Property=\"Width\"\n                                        Value=\"{ThemeResource MTCMediaButtonWidth}\" />\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"AllowFocusOnInteraction\"\n                                        Value=\"True\" />\n                            </Style>\n                            <!-- New AppBarToggle button style 48x48 pixels in size -->\n                            <Style x:Key=\"AppBarToggleButtonStyle\"\n                                   TargetType=\"AppBarToggleButton\"\n                                   BasedOn=\"{StaticResource AppBarToggleButtonRevealStyle}\">\n                                <Setter Property=\"Width\"\n                                        Value=\"{ThemeResource MTCMediaButtonWidth}\" />\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"AllowFocusOnInteraction\"\n                                        Value=\"True\" />\n                            </Style>\n                            <!-- New CommandBar Style -->\n                            <Style x:Key=\"CommandBarStyle\"\n                                   TargetType=\"CommandBar\">\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"Background\"\n                                        Value=\"Transparent\" />\n                            </Style>\n                            <!-- Style for Error Message text -->\n                            <Style x:Key=\"MediaTextBlockStyle\"\n                                   TargetType=\"TextBlock\">\n                                <Setter Property=\"VerticalAlignment\"\n                                        Value=\"Center\" />\n                                <Setter Property=\"Foreground\"\n                                        Value=\"{ThemeResource SystemControlForegroundBaseHighBrush}\" />\n                                <Setter Property=\"FontSize\"\n                                        Value=\"{ThemeResource MTCMediaFontSize}\" />\n                                <Setter Property=\"FontFamily\"\n                                        Value=\"{ThemeResource MTCMediaFontFamily}\" />\n                                <Setter Property=\"Style\"\n                                        Value=\"{ThemeResource CaptionTextBlockStyle }\" />\n                                <Setter Property=\"IsTextScaleFactorEnabled\"\n                                        Value=\"False\" />\n                            </Style>\n                            <!-- Style for Position slider used in Media Transport Controls -->\n                            <Style x:Key=\"MediaSliderStyle\"\n                                   TargetType=\"Slider\">\n                                <Setter Property=\"Background\"\n                                        Value=\"{ThemeResource SliderTrackFill}\" />\n                                <Setter Property=\"BorderThickness\"\n                                        Value=\"{ThemeResource SliderBorderThemeThickness}\" />\n                                <Setter Property=\"Foreground\"\n                                        Value=\"{ThemeResource SliderTrackValueFill}\" />\n                                <Setter Property=\"FontFamily\"\n                                        Value=\"{ThemeResource ContentControlThemeFontFamily}\" />\n                                <Setter Property=\"FontSize\"\n                                        Value=\"{ThemeResource ControlContentThemeFontSize}\" />\n                                <Setter Property=\"ManipulationMode\"\n                                        Value=\"None\" />\n                                <Setter Property=\"UseSystemFocusVisuals\"\n                                        Value=\"{StaticResource UseSystemFocusVisuals}\" />\n                                <Setter Property=\"FocusVisualMargin\"\n                                        Value=\"-7,0,-7,0\" />\n                                <Setter Property=\"IsFocusEngagementEnabled\"\n                                        Value=\"True\" />\n                                <Setter Property=\"Template\">\n                                    <Setter.Value>\n                                        <ControlTemplate TargetType=\"Slider\">\n                                            <Grid Margin=\"{TemplateBinding Padding}\">\n                                                <Grid.Resources>\n                                                    <Style TargetType=\"Thumb\"\n                                                           x:Key=\"SliderThumbStyle\">\n                                                        <Setter Property=\"BorderThickness\"\n                                                                Value=\"0\" />\n                                                        <Setter Property=\"Background\"\n                                                                Value=\"{ThemeResource SliderThumbBackground}\" />\n                                                        <Setter Property=\"Foreground\"\n                                                                Value=\"{ThemeResource SystemControlBackgroundChromeMediumBrush}\" />\n                                                        <Setter Property=\"Template\">\n                                                            <Setter.Value>\n                                                                <ControlTemplate TargetType=\"Thumb\">\n                                                                    <Ellipse x:Name=\"ellipse\"\n                                                                             Stroke=\"{TemplateBinding Background}\"\n                                                                             StrokeThickness=\"2\"\n                                                                             Fill=\"{TemplateBinding Foreground}\" />\n                                                                </ControlTemplate>\n                                                            </Setter.Value>\n                                                        </Setter>\n                                                    </Style>\n                                                    <Style TargetType=\"ProgressBar\"\n                                                           x:Key=\"MediaSliderProgressBarStyle\">\n                                                        <Setter Property=\"Height\"\n                                                                Value=\"{ThemeResource SliderTrackThemeHeight}\" />\n                                                        <Setter Property=\"Minimum\"\n                                                                Value=\"0\" />\n                                                        <Setter Property=\"Maximum\"\n                                                                Value=\"100\" />\n                                                        <Setter Property=\"Foreground\"\n                                                                Value=\"{ThemeResource SystemControlHighlightChromeAltLowBrush}\" />\n                                                        <Setter Property=\"Background\"\n                                                                Value=\"Transparent\" />\n                                                        <Setter Property=\"BorderBrush\"\n                                                                Value=\"Transparent\" />\n                                                        <Setter Property=\"BorderThickness\"\n                                                                Value=\"1\" />\n                                                    </Style>\n                                                </Grid.Resources>\n                                                <Grid.RowDefinitions>\n                                                    <RowDefinition Height=\"Auto\" />\n                                                    <RowDefinition Height=\"\\*\" />\n                                                </Grid.RowDefinitions>\n\n                                                <VisualStateManager.VisualStateGroups>\n                                                    <VisualStateGroup x:Name=\"CommonStates\">\n                                                        <VisualState x:Name=\"Normal\" />\n\n                                                        <VisualState x:Name=\"Pressed\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n\n                                                        <VisualState x:Name=\"Disabled\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HeaderContentPresenter\"\n                                                                                               Storyboard.TargetProperty=\"Foreground\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderHeaderForegroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"TopTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"BottomTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"LeftTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"RightTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n\n                                                        <VisualState x:Name=\"PointerOver\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                    </VisualStateGroup>\n                                                    <VisualStateGroup x:Name=\"FocusEngagementStates\">\n                                                        <VisualState x:Name=\"FocusDisengaged\" />\n                                                        <VisualState x:Name=\"FocusEngagedHorizontal\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"False\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"True\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                        <VisualState x:Name=\"FocusEngagedVertical\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"False\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"True\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                    </VisualStateGroup>\n                                                </VisualStateManager.VisualStateGroups>\n                                                <ContentPresenter x:Name=\"HeaderContentPresenter\"\n                                                                  x:DeferLoadStrategy=\"Lazy\"\n                                                                  Visibility=\"Collapsed\"\n                                                                  Foreground=\"{ThemeResource SliderHeaderForeground}\"\n                                                                  Margin=\"{ThemeResource SliderHeaderThemeMargin}\"\n                                                                  Content=\"{TemplateBinding Header}\"\n                                                                  ContentTemplate=\"{TemplateBinding HeaderTemplate}\"\n                                                                  FontWeight=\"{ThemeResource SliderHeaderThemeFontWeight}\"\n                                                                  TextWrapping=\"Wrap\" />\n                                                <Grid x:Name=\"SliderContainer\"\n                                                      Background=\"{ThemeResource SliderContainerBackground}\"\n                                                      Grid.Row=\"1\"\n                                                      Control.IsTemplateFocusTarget=\"True\">\n                                                    <Grid x:Name=\"HorizontalTemplate\"\n                                                          MinHeight=\"44\">\n                                                        <Grid.ColumnDefinitions>\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"\\*\" />\n                                                        </Grid.ColumnDefinitions>\n                                                        <Grid.RowDefinitions>\n                                                            <RowDefinition Height=\"18\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                            <RowDefinition Height=\"18\" />\n                                                        </Grid.RowDefinitions>\n                                                        <Rectangle x:Name=\"HorizontalTrackRect\"\n                                                                   Fill=\"{TemplateBinding Background}\"\n                                                                   Height=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                   Grid.Row=\"1\"\n                                                                   Grid.ColumnSpan=\"3\" />\n                                                        <ProgressBar x:Name=\"DownloadProgressIndicator\"\n                                                                     Style=\"{StaticResource MediaSliderProgressBarStyle}\"\n                                                                     Grid.Row=\"1\"\n                                                                     Grid.ColumnSpan=\"3\"\n                                                                     HorizontalAlignment=\"Stretch\"\n                                                                     VerticalAlignment=\"Center\" />\n                                                        <Rectangle x:Name=\"HorizontalDecreaseRect\"\n                                                                   Fill=\"{TemplateBinding Foreground}\"\n                                                                   Grid.Row=\"1\" />\n                                                        <TickBar x:Name=\"TopTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 VerticalAlignment=\"Bottom\"\n                                                                 Margin=\"0,0,0,4\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <TickBar x:Name=\"HorizontalInlineTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderInlineTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                 Grid.Row=\"1\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <TickBar x:Name=\"BottomTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 VerticalAlignment=\"Top\"\n                                                                 Margin=\"0,4,0,0\"\n                                                                 Grid.Row=\"2\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <Thumb x:Name=\"HorizontalThumb\"\n                                                               Style=\"{StaticResource SliderThumbStyle}\"\n                                                               Height=\"24\"\n                                                               Width=\"24\"\n                                                               Grid.Row=\"0\"\n                                                               Grid.RowSpan=\"3\"\n                                                               Grid.Column=\"1\"\n                                                               FocusVisualMargin=\"-14,-6,-14,-6\"\n                                                               AutomationProperties.AccessibilityView=\"Raw\">\n                                                            <ToolTipService.ToolTip>\n                                                                <ToolTip x:Name=\"ThumbnailTooltip\">\n                                                                    <ContentPresenter Content=\"{Binding}\" />\n                                                                </ToolTip>\n                                                            </ToolTipService.ToolTip>\n                                                            <Thumb.DataContext>\n                                                                <Grid Height=\"112\"\n                                                                      Width=\"192\">\n                                                                    <Image x:Name=\"ThumbnailImage\" />\n                                                                    <Border Background=\"{ThemeResource SystemControlBackgroundBaseMediumBrush}\"\n                                                                            VerticalAlignment=\"Bottom\"\n                                                                            HorizontalAlignment=\"Left\">\n                                                                        <TextBlock x:Name=\"TimeElapsedPreview\"\n                                                                                   Margin=\"6,1,6,3\"\n                                                                                   Style=\"{StaticResource BodyTextBlockStyle}\"\n                                                                                   IsTextScaleFactorEnabled=\"False\"\n                                                                                   Foreground=\"{ThemeResource SystemControlPageTextBaseMediumBrush}\" />\n                                                                    </Border>\n                                                                </Grid>\n                                                            </Thumb.DataContext>\n                                                        </Thumb>\n                                                    </Grid>\n                                                    <Grid x:Name=\"VerticalTemplate\"\n                                                          MinWidth=\"44\"\n                                                          Visibility=\"Collapsed\">\n                                                        <Grid.RowDefinitions>\n                                                            <RowDefinition Height=\"\\*\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                        </Grid.RowDefinitions>\n                                                        <Grid.ColumnDefinitions>\n                                                            <ColumnDefinition Width=\"18\" />\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"18\" />\n                                                        </Grid.ColumnDefinitions>\n                                                        <Rectangle x:Name=\"VerticalTrackRect\"\n                                                                   Fill=\"{TemplateBinding Background}\"\n                                                                   Width=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                   Grid.Column=\"1\"\n                                                                   Grid.RowSpan=\"3\" />\n                                                        <Rectangle x:Name=\"VerticalDecreaseRect\"\n                                                                   Fill=\"{TemplateBinding Foreground}\"\n                                                                   Grid.Column=\"1\"\n                                                                   Grid.Row=\"2\" />\n                                                        <TickBar x:Name=\"LeftTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 HorizontalAlignment=\"Right\"\n                                                                 Margin=\"0,0,4,0\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <TickBar x:Name=\"VerticalInlineTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderInlineTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                 Grid.Column=\"1\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <TickBar x:Name=\"RightTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 HorizontalAlignment=\"Left\"\n                                                                 Margin=\"4,0,0,0\"\n                                                                 Grid.Column=\"2\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <Thumb x:Name=\"VerticalThumb\"\n                                                               Style=\"{StaticResource SliderThumbStyle}\"\n                                                               DataContext=\"{TemplateBinding Value}\"\n                                                               Width=\"24\"\n                                                               Height=\"8\"\n                                                               Grid.Row=\"1\"\n                                                               Grid.Column=\"0\"\n                                                               Grid.ColumnSpan=\"3\"\n                                                               FocusVisualMargin=\"-6,-14,-6,-14\"\n                                                               AutomationProperties.AccessibilityView=\"Raw\" />\n                                                    </Grid>\n                                                </Grid>\n                                            </Grid>\n                                        </ControlTemplate>\n                                    </Setter.Value>\n                                </Setter>\n                            </Style>\n                            <!-- Style for Volume Flyout used in Media Transport Controls -->\n                            <Style x:Key=\"FlyoutStyle\"\n                                   TargetType=\"FlyoutPresenter\">\n                                <Setter Property=\"Background\"\n                                        Value=\"{ThemeResource MediaTransportControlsFlyoutBackground}\" />\n                                <Setter Property=\"Padding\"\n                                        Value=\"0\" />\n                            </Style>\n                        </Grid.Resources>\n\n                        <VisualStateManager.VisualStateGroups>\n                            <VisualStateGroup x:Name=\"TitlePanelVisibilityStates\">\n                                <VisualState x:Name=\"TitlePanelFadeIn\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"0\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.3\"\n                                                                  Value=\"1\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVerticalTop\"\n                                                         From=\"-50\"\n                                                         To=\"0.5\"\n                                                         Duration=\"0:0:0.3\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"TitlePanelFadeOut\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"1\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.7\"\n                                                                  Value=\"0\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"IsHitTestVisible\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                    Value=\"False\" />\n                                        </ObjectAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVerticalTop\"\n                                                         From=\"0.5\"\n                                                         To=\"-50\"\n                                                         Duration=\"0:0:0.7\" />\n                                    </Storyboard>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- ControlPanel Visibility states -->\n                            <VisualStateGroup x:Name=\"ControlPanelVisibilityStates\">\n                                <VisualState x:Name=\"ControlPanelFadeIn\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"0\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.3\"\n                                                                  Value=\"1\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVertical\"\n                                                         From=\"50\"\n                                                         To=\"0.5\"\n                                                         Duration=\"0:0:0.3\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"ControlPanelFadeOut\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"1\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.7\"\n                                                                  Value=\"0\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"IsHitTestVisible\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                    Value=\"False\" />\n                                        </ObjectAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVertical\"\n                                                         From=\"0.5\"\n                                                         To=\"50\"\n                                                         Duration=\"0:0:0.7\" />\n                                    </Storyboard>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- ControlPanel Visibility states -->\n                            <!-- Media state visual states -->\n                            <VisualStateGroup x:Name=\"MediaStates\">\n                                <VisualState x:Name=\"Normal\" />\n                                <VisualState x:Name=\"Buffering\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"BufferingProgressBar.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"Loading\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"BufferingProgressBar.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n\n                                    <Storyboard>\n                                        <DoubleAnimation Storyboard.TargetName=\"ProgressSlider\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"0\"\n                                                         Duration=\"0\" />\n                                        <DoubleAnimation Storyboard.TargetName=\"MediaControlsCommandBar\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"0\"\n                                                         Duration=\"0\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"Error\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"ErrorBorder.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                                <VisualState x:Name=\"Disabled\">\n                                    <Storyboard />\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- Media state visual states -->\n                            <!-- Audio Selection Button visibility states -->\n                            <VisualStateGroup x:Name=\"AudioSelectionAvailablityStates\">\n                                <VisualState x:Name=\"AudioSelectionAvailable\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"AudioTracksSelectionButton.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"AudioSelectionUnavailable\" />\n\n                            </VisualStateGroup>\n                            <!-- Video volume visibility states -->\n                            <!-- Closed Captioning Selection Button visibility states -->\n                            <VisualStateGroup x:Name=\"CCSelectionAvailablityStates\">\n                                <VisualState x:Name=\"CCSelectionAvailable\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"CCSelectionButton.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"CCSelectionUnavailable\" />\n\n                            </VisualStateGroup>\n                            <!-- Closed Captioning  visibility states -->\n                            <!-- Focus states -->\n                            <VisualStateGroup x:Name=\"FocusStates\">\n                                <VisualState x:Name=\"Focused\">\n\n                                    <Storyboard>\n                                        <DoubleAnimation Storyboard.TargetName=\"FocusVisualWhite\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"1\"\n                                                         Duration=\"0\" />\n                                        <DoubleAnimation Storyboard.TargetName=\"FocusVisualBlack\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"1\"\n                                                         Duration=\"0\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"Unfocused\" />\n                                <VisualState x:Name=\"PointerFocused\" />\n\n                            </VisualStateGroup>\n                            <!-- Focus states -->\n                            <VisualStateGroup x:Name=\"MediaTransportControlMode\">\n                                <VisualState x:Name=\"NormalMode\" />\n\n\n                                <VisualState x:Name=\"CompactMode\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"LeftSidePlayBorder.Visibility\"\n                                                Value=\"Collapsed\" />\n                                        <Setter Target=\"TimeTextGrid.Visibility\"\n                                                Value=\"Collapsed\" />\n                                        <Setter Target=\"MediaTransportControls\\_Command\\_Border.(Grid.Column)\"\n                                                Value=\"2\" />\n                                        <Setter Target=\"MediaTransportControls\\_Command\\_Border.(Grid.Row)\"\n                                                Value=\"1\" />\n                                        <Setter Target=\"MediaControlsCommandBar.Margin\"\n                                                Value=\"0\" />\n                                        <!--<Setter Target=\"PlayPauseButton.Visibility\"\n                                                Value=\"Collapsed\" />-->\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- PlayPause states -->\n                            <VisualStateGroup x:Name=\"PlayPauseStates\">\n                                <VisualState x:Name=\"PlayState\" />\n\n\n                                <VisualState x:Name=\"PauseState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"PlayPauseSymbolLeft.Symbol\"\n                                                Value=\"Pause\" />\n                                        <Setter Target=\"PlayPauseSymbol.Symbol\"\n                                                Value=\"Pause\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- VolumeMute states -->\n                            <VisualStateGroup x:Name=\"VolumeMuteStates\">\n                                <VisualState x:Name=\"VolumeState\" />\n                                <VisualState x:Name=\"MuteState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"AudioMuteSymbol.Symbol\"\n                                                Value=\"Mute\" />\n                                        <Setter Target=\"VolumeMuteSymbol.Symbol\"\n                                                Value=\"Mute\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- FullWindow states -->\n                            <VisualStateGroup x:Name=\"FullWindowStates\">\n                                <VisualState x:Name=\"NonFullWindowState\">\n\n                                </VisualState>\n                                <VisualState x:Name=\"FullWindowState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"FullWindowSymbol.Symbol\"\n                                                Value=\"BackToWindow\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- Repeat states -->\n                            <VisualStateGroup x:Name=\"RepeatStates\">\n                                <VisualState x:Name=\"RepeatNoneState\" />\n                                <VisualState x:Name=\"RepeatOneState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"RepeatSymbol.Symbol\"\n                                                Value=\"RepeatOne\" />\n                                        <Setter Target=\"RepeatButton.IsChecked\"\n                                                Value=\"True\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"RepeatAllState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"RepeatButton.IsChecked\"\n                                                Value=\"True\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n\n                        </VisualStateManager.VisualStateGroups>\n                        <!--顶部panel-->\n                        <Border x:Name=\"TitlePanelVisibilityStates\\_Border\">\n                            <Grid x:Name=\"TitlePanelGrid\"\n                                  Background=\"Transparent\"\n                                  VerticalAlignment=\"Top\"\n                                  RenderTransformOrigin=\"0.5,0.5\">\n                                <Grid.RenderTransform>\n                                    <TranslateTransform x:Name=\"TranslateVerticalTop\" />\n                                </Grid.RenderTransform>\n                                <TextBlock x:Name=\"TitleTextBlock\"\n                                           FontSize=\"16\"\n                                           Margin=\"0,12,0,0\"\n                                           HorizontalAlignment=\"Center\"\n                                           Text=\"{Binding Path=VideoTitle,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\" />\n                            </Grid>\n                        </Border>\n                        <Border x:Name=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                            <Grid x:Name=\"ControlPanelGrid\"\n                                  Background=\"Transparent\"\n                                  VerticalAlignment=\"Bottom\"\n                                  RenderTransformOrigin=\"0.5,0.5\">\n                                <Grid.RenderTransform>\n                                    <TranslateTransform x:Name=\"TranslateVertical\" />\n                                </Grid.RenderTransform>\n\n                                <Grid.ColumnDefinitions>\n                                    <ColumnDefinition Width=\"Auto\" />\n                                    <ColumnDefinition Width=\"\\*\" />\n                                    <ColumnDefinition Width=\"Auto\" />\n                                </Grid.ColumnDefinitions>\n\n                                <Grid.RowDefinitions>\n                                    <RowDefinition Height=\"Auto\" />\n                                    <RowDefinition Height=\"\\*\" />\n                                    <RowDefinition Height=\"0\" />\n                                </Grid.RowDefinitions>\n                                <Border x:Name=\"ErrorBorder\"\n                                        Width=\"320\"\n                                        Height=\"96\"\n                                        Grid.ColumnSpan=\"3\"\n                                        HorizontalAlignment=\"Center\"\n                                        Background=\"{ThemeResource MediaTransportControlsPanelBackground}\"\n                                        Visibility=\"Collapsed\">\n                                    <TextBlock x:Name=\"ErrorTextBlock\"\n                                               Style=\"{StaticResource MediaTextBlockStyle}\"\n                                               TextWrapping=\"WrapWholeWords\"\n                                               Margin=\"12\" />\n                                </Border>\n                                <Border x:Name=\"MediaTransportControls\\_Timeline\\_Border\"\n                                        Grid.Column=\"1\"\n                                        Grid.Row=\"1\">\n                                    <Grid x:Name=\"MediaTransportControls\\_Timeline\\_Grid\">\n                                        <Grid.ColumnDefinitions>\n                                            <ColumnDefinition Width=\"Auto\" />\n                                            <ColumnDefinition Width=\"\\*\" />\n                                            <ColumnDefinition Width=\"Auto\" />\n                                        </Grid.ColumnDefinitions>\n                                        <Slider x:Name=\"ProgressSlider\"\n                                                Style=\"{StaticResource MediaSliderStyle}\"\n                                                Margin=\"12,0,0,14\"\n                                                MinWidth=\"80\"\n                                                Height=\"33\"\n                                                Grid.Column=\"1\"\n                                                VerticalAlignment=\"Center\"\n                                                IsThumbToolTipEnabled=\"False\" />\n                                        <ProgressBar x:Name=\"BufferingProgressBar\"\n                                                     Height=\"4\"\n                                                     IsIndeterminate=\"True\"\n                                                     IsHitTestVisible=\"False\"\n                                                     VerticalAlignment=\"Top\"\n                                                     Margin=\"0,2,0,0\"\n                                                     Visibility=\"Collapsed\" />\n                                        <Grid x:Name=\"TimeTextGrid\"\n                                              Margin=\"8,0,0,8\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"0\"\n                                              HorizontalAlignment=\"Left\"\n                                              VerticalAlignment=\"Center\">\n                                            <!--<TextBlock x:Name=\"TimeElapsedElement\"\n                                                       Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                       Margin=\"0\"\n                                                       Text=\"00:00\"\n                                                       />-->\n\n                                        </Grid>\n                                        <Grid x:Name=\"TimeStartTextGrid\"\n                                              Margin=\"4,0,0,0\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"0\"\n                                              HorizontalAlignment=\"Left\"\n                                              VerticalAlignment=\"Center\">\n                                            <StackPanel Orientation=\"Horizontal\">\n                                                <AppBarButton x:Name=\"PlayPauseButtonOnLeft\"\n                                                              Margin=\"0,0,0,4\"\n                                                              Height=\"40\"\n                                                              Style=\"{StaticResource AppBarButtonStyle}\">\n                                                    <AppBarButton.Icon>\n                                                        <SymbolIcon x:Name=\"PlayPauseSymbolLeft\"\n                                                                    Symbol=\"Play\" />\n                                                    </AppBarButton.Icon>\n                                                </AppBarButton>\n                                                <TextBlock x:Name=\"TimeElapsedElement\"\n                                                           Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                           Text=\"00:00\"\n                                                           Margin=\"0,0,0,10\" />\n                                            </StackPanel>\n\n\n                                        </Grid>\n                                        <Grid x:Name=\"TimeReminTextGrid\"\n                                              Margin=\"8,0,0,0\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"2\"\n                                              HorizontalAlignment=\"Right\"\n                                              VerticalAlignment=\"Center\">\n                                            <TextBlock x:Name=\"TimeRemainingElement\"\n                                                       Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                       Text=\"00:00\"\n                                                       Margin=\"0,0,0,10\" />\n                                        </Grid>\n                                    </Grid>\n                                </Border>\n                                <Border x:Name=\"LeftSidePlayBorder\"\n                                        Grid.Column=\"0\"\n                                        Grid.Row=\"1\"\n                                        Visibility=\"Visible\">\n\n                                    <!--<AppBarButton x:Name=\"PlayPauseButtonOnLeft\"\n                                                  Margin=\"0\"\n                                                  Height=\"40\"\n                                                  Style=\"{StaticResource AppBarButtonStyle}\">\n                                        <AppBarButton.Icon>\n                                            <SymbolIcon x:Name=\"PlayPauseSymbolLeft\"\n                                                        Symbol=\"Play\" />\n                                        </AppBarButton.Icon>\n                                    </AppBarButton>-->\n                                </Border>\n                                <AppBarButton x:Name='CastButton'\n                                              Style='{StaticResource AppBarButtonStyle}'\n                                              MediaTransportControlsHelper.DropoutOrder='11'\n                                              Visibility=\"Collapsed\"\n                                              Grid.Row=\"2\">\n                                    <AppBarButton.Icon>\n                                        <FontIcon Glyph=\"\" />\n                                    </AppBarButton.Icon>\n                                </AppBarButton>\n                                <Border x:Name=\"MediaTransportControls\\_Command\\_Border\"\n                                        Grid.Column=\"2\"\n                                        Grid.Row=\"1\">\n                                    <CommandBar x:Name=\"MediaControlsCommandBar\"\n                                                Margin=\"0,0\"\n                                                Style=\"{StaticResource CommandBarStyle}\"\n                                                IsDynamicOverflowEnabled=\"False\">\n                                        <CommandBar.PrimaryCommands>\n                                            <AppBarButton x:Name=\"PlayPauseButton\"\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='23'\n                                                          Visibility=\"{Binding ElementName=StopButton,Path=Visibility}\">\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"PlayPauseSymbol\"\n                                                                Symbol=\"Play\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--清晰度切换-->\n                                            <AppBarButton x:Name='PlayInfoButton'\n                                                          Margin=\"8,0,0,0\"\n                                                          Style=\"{StaticResource AppBarButtonStyle}\"\n                                                          Content=\"{Binding ElementName=PlayInfoListView,Path=SelectedItem.name}\">\n                                                <AppBarButton.Flyout>\n                                                    <Flyout x:Name=\"PlayInfoFlyout\"\n                                                            ShowMode=\"TransientWithDismissOnPointerMoveAway\">\n                                                        <ListView x:Name=\"PlayInfoListView\"\n                                                                  Width=\"52\"\n                                                                  ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"\n                                                                  SelectedIndex=\"{Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\">\n                                                            <ListView.ItemTemplate>\n                                                                <DataTemplate>\n                                                                    <TextBlock Text=\"{Binding name}\" />\n                                                                </DataTemplate>\n                                                            </ListView.ItemTemplate>\n                                                        </ListView>\n                                                    </Flyout>\n                                                </AppBarButton.Flyout>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='VolumeMuteButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='19'>\n                                                <AppBarButton.Flyout>\n                                                    <Flyout x:Name=\"VolumeFlyout\"\n                                                            FlyoutPresenterStyle=\"{StaticResource FlyoutStyle}\">\n                                                        <StackPanel Orientation=\"Horizontal\">\n                                                            <AppBarButton x:Name='AudioMuteButton'\n                                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                                          VerticalAlignment='Center'\n                                                                          HorizontalAlignment='Center'\n                                                                          Margin='12'>\n                                                                <AppBarButton.Icon>\n                                                                    <SymbolIcon x:Name=\"AudioMuteSymbol\"\n                                                                                Symbol=\"Volume\" />\n                                                                </AppBarButton.Icon>\n                                                            </AppBarButton>\n                                                            <Slider x:Name='VolumeSlider'\n                                                                    Value='50'\n                                                                    IsThumbToolTipEnabled='False'\n                                                                    Width='{ThemeResource MTCHorizontalVolumeSliderWidth}'\n                                                                    VerticalAlignment='Center'\n                                                                    HorizontalAlignment='Center'\n                                                                    Margin='0' />\n                                                            <TextBlock x:Name='VolumeValue'\n                                                                       Style='{StaticResource MediaTextBlockStyle}'\n                                                                       Text=\"{Binding ElementName=VolumeSlider,Path=Value}\"\n                                                                       HorizontalAlignment='Center'\n                                                                       VerticalAlignment='Center'\n                                                                       Width='24'\n                                                                       Margin='12' />\n                                                        </StackPanel>\n                                                    </Flyout>\n                                                </AppBarButton.Flyout>\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"VolumeMuteSymbol\"\n                                                                Symbol=\"Volume\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='CCSelectionButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='15'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='AudioTracksSelectionButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='13'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarSeparator x:Name='LeftSeparator'\n                                                             Height='0'\n                                                             Width='0'\n                                                             Margin='0,0' />-->\n                                            <AppBarButton x:Name='StopButton'\n                                                          Icon='Stop'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='7'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='SkipBackwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='5'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='PreviousTrackButton'\n                                                          Icon='Previous'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='3'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='RewindButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='1'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n\n                                            <AppBarButton x:Name='FastForwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='1'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='NextTrackButton'\n                                                          Icon='Next'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='3'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='SkipForwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='5'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='PlaybackRateButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='10'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarSeparator x:Name='RightSeparator'\n                                                             Height='0'\n                                                             Width='0'\n                                                             Margin='0,0' />-->\n                                            <AppBarToggleButton x:Name='RepeatButton'\n                                                                Style='{StaticResource AppBarToggleButtonStyle}'\n                                                                MediaTransportControlsHelper.DropoutOrder='1'\n                                                                Visibility='Collapsed'>\n                                                <AppBarToggleButton.Icon>\n                                                    <SymbolIcon x:Name=\"RepeatSymbol\"\n                                                                Symbol=\"RepeatAll\" />\n                                                </AppBarToggleButton.Icon>\n                                            </AppBarToggleButton>\n                                            <AppBarButton x:Name='ZoomButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='9'\n                                                          Visibility=\"Collapsed\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarButton x:Name='CastButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='11'\n                                                          Visibility=\"Collapsed\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>-->\n                                            <AppBarButton x:Name='CompactOverlayButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='24'\n                                                          Visibility=\"Visible\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='FullWindowButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='17'\n                                                          Visibility=\"Visible\">\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"FullWindowSymbol\"\n                                                                Symbol=\"FullScreen\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                        </CommandBar.PrimaryCommands>\n                                    </CommandBar>\n                                </Border>\n                            </Grid>\n                        </Border>\n\n                    </Grid>\n\n                </ControlTemplate>\n            </Setter.Value>\n        </Setter>\n    </Style>\n</ResourceDictionary>\n```","source":"_posts/UWP/win10-uwp-custom-mediatransportcontrol-binding.md","raw":"---\ntitle: Win10 UWP自定义MediaTransportControl的数据绑定问题\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-02-14 15:25:26\n---\n\n在开发开眼UWP的过程中，需要MediaTransportControl有切换视频播放清晰度的需求。但是过程中发现绑定的数据一直不显示。记录一下过程，写的有点乱。\n\n最后完成的样子：\n\n![](https://56g3lg.sn.files.1drv.com/y4mDALwlWUd9X_4KCczht2NlcXyguB5A_ifvyFIhiCc-__e7OdJ7yuqBK56bkwDZIF5E2pNkmdtIMBt-6N7e4lf29PJi9l2GsflrUcZTRPzR6rROTjtsT3Kt2mcDgk-Ue-f2GeBKG3X85nHMoY_EJaqVUM4pPb_Yzk1PWyv0p840IeJVpTcX7Y0qEAz-ZJwzZinFEftS0zIh9qjJe3ZjvhoLw?width=2736&height=1744&cropmode=none)\n\n自定义MediaTransportControl的方法不说了，详细请看的微软官方文档：[文档链接](https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/custom-transport-controls)\n\n文中提到的文件\n\n*   MediaTransportControlsDictionary.xaml\n*   CustomMediaTransportControls.cs\n*   PlayVideoControl.xaml\n*   PlayVideoControl.xaml.cs\n\n## 一、数据格式\n```json\n\"playInfo\": \\[{\n\"height\": 270,\n\"width\": 480,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=aliyun\",\n\"size\": 8142424\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=qcloud\",\n\"size\": 8142424\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=ucloud\",\n\"size\": 8142424\n}\n\\],\n\"name\": \"流畅\",\n\"type\": \"low\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=low&source=aliyun\"\n},\n{\n\"height\": 480,\n\"width\": 854,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=aliyun\",\n\"size\": 18648494\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=qcloud\",\n\"size\": 18648494\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=ucloud\",\n\"size\": 18648494\n}\n\\],\n\"name\": \"标清\",\n\"type\": \"normal\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=normal&source=aliyun\"\n},\n{\n\"height\": 720,\n\"width\": 1280,\n\"urlList\": \\[{\n\"name\": \"aliyun\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=aliyun\",\n\"size\": 30572399\n},\n{\n\"name\": \"qcloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=qcloud\",\n\"size\": 30572399\n},\n{\n\"name\": \"ucloud\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=ucloud\",\n\"size\": 30572399\n}\n\\],\n\"name\": \"高清\",\n\"type\": \"high\",\n\"url\": \"http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&resourceType=video&editionType=high&source=aliyun\"\n}\n\\]\n```\n## 二、修改模板，添加按钮\n\n在MediaTransportControlsDictionary.xaml中添加：\n```xml\n  <!--清晰度切换-->\n    <AppBarButton x:Name='PlayInfoButton'\n                  Margin=\"8,0,0,0\"\n                  Style=\"{StaticResource AppBarButtonStyle}\"\n                  Content=\"{Binding ElementName=PlayInfoListView,Path=SelectedItem.name}\">\n        <AppBarButton.Flyout>\n            <Flyout x:Name=\"PlayInfoFlyout\">\n                <ListView x:Name=\"PlayInfoListView\"\n                          Width=\"52\"\n                          ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"\n                          SelectedIndex=\"{Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\">\n                    <ListView.ItemTemplate>\n                        <DataTemplate>\n                            <TextBlock Text=\"{Binding name}\" />\n                        </DataTemplate>\n                    </ListView.ItemTemplate>\n                </ListView>\n            </Flyout>\n        </AppBarButton.Flyout>\n    </AppBarButton>\n```\n这里绑定使用的是Binding,我看别人使用的是TemplateBinding，但是我编译不了?，刚开始自己直接这样ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay}\"，发现绑定的数据是空白的。因为页面加载的时候是先初始化MediaTransportControl, 完成后才是页面后台代码的赋值。所以每次初始化的数据都是空白。赋值后数据也不会更新。后来看到一个博客，使用ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"这样就可以更新数据了。  \n参考的博客地址：[模板中的 TemplateBinding 问题](https://www.cnblogs.com/hebeiDGL/p/3670667.html)\n\n## 三、定义绑定的依赖项\n\n在CustomMediaTransportControls.cs中添加：\n``` c#\n// 使用propdp快速生成\n public List<PlayInfo> PlayInfos\n {\n     get { return (List<PlayInfo>)GetValue(PlayInfosProperty); }\n     set { SetValue(PlayInfosProperty, value); }\n }\n\n// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...\n public static readonly DependencyProperty PlayInfosProperty =\n            DependencyProperty.Register(\"PlayInfos\", typeof(List<PlayInfo>), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n```\n## 四、使用\n\n在PlayVideoControl.xaml中添加 :\n```xml\n <MediaPlayerElement Name=\"MainMediaPalyer\"\n                     AreTransportControlsEnabled=\"True\"\n                     AutoPlay=\"True\"\n                     DoubleTapped=\"MainMediaPalyer\\_DoubleTapped\">\n       <MediaPlayerElement.TransportControls>\n              <control:CustomMediaTransportControls \n                           x:Name=\"mediaTransportControl\"\n                           Style=\"{StaticResource MyMediaTransportControls}\"\n                           IsCompact=\"True\"\n                           IsCompactOverlayEnabled=\"True\"\n                           IsZoomButtonVisible=\"false\"\n                           IsCompactOverlayButtonVisible=\"True\"\n                           IsVolumeButtonVisible=\"True\"\n                           IsStopButtonVisible=\"False\" \n                          PlayInfo\\_SelectionChanged=\"MediaTransportControl\\_PlayInfo\\_SelectionChanged\"/>\n        </MediaPlayerElement.TransportControls>\n </MediaPlayerElement>\n```\n在PlayVideoControl.xaml.cs中赋值：  \nmediaTransportControl.PlayInfos = VideoData.playInfo;\n\n## 五、响应清晰度的改变\n\n在CustomMediaTransportControls.cs中的OnApplyTemplate中订阅ListView的SelectionChanged事件。\n```c#\npublic event EventHandler<PlayInfoEventArgs> PlayInfo\\_SelectionChanged; \nprotected override void OnApplyTemplate()\n{\n   {\n      var playInfoListView = (ListView)GetTemplateChild(\"PlayInfoListView\");\n      playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;\n    }\n    base.OnApplyTemplate();\n }\n\nprivate void PlayInfoListView\\_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n   var playInfoLV = sender as ListView;\n   if(playInfoLV.SelectedIndex != -1)\n     {\n        var info = PlayInfos\\[playInfoLV.SelectedIndex\\];\n        PlayInfo\\_SelectionChanged?.Invoke(this, new PlayInfoEventArgs(info));\n      }\n\n}\n\n public class PlayInfoEventArgs : EventArgs\n {\n\n     public PlayInfo Infos { get; set; }\n     public PlayInfoEventArgs(PlayInfo info)\n     {\n            Infos = info; \n     }\n }\n```   \n\n然后在PlayVideoControl.xaml.cs页面订阅MediaTransportControl\\_PlayInfo\\_SelectionChanged事件，更改MediaPlayerElement的Source。\n```c#\nprivate void MediaTransportControl\\_PlayInfo\\_SelectionChanged(object sender, PlayInfoEventArgs e)\n{        \n   if(playUrl != e.Infos.url)\n   {\n      MainMediaPalyer.Source = MediaSource.CreateFromUri(new Uri(e.Infos.url));\n   }\n}\n```\n## 六、全部代码\n\n### 1、CustomMediaTransportControls.cs\n```c#\nusing EyepetizerTest.Services;\nusing System;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Media;\n\nnamespace EyepetizerTest.Controls\n{\n    public class CustomMediaTransportControls:MediaTransportControls\n    {\n        public event EventHandler<PlayInfoEventArgs> PlayInfo\\_SelectionChanged;\n        private bool IsLoading = false;\n        public CustomMediaTransportControls()\n        {\n            this.DefaultStyleKey = typeof(CustomMediaTransportControls);\n           \n        }\n\n        public string VideoTitle\n        {\n            get { return (string)GetValue(VideoTitleProperty); }\n            set { SetValue(VideoTitleProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for VideoTitle.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty VideoTitleProperty =\n            DependencyProperty.Register(\"VideoTitle\", typeof(string), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n\n\n\n        public int PlayInfo\\_SelectedIndex\n        {\n            get { return (int)GetValue(PlayInfo\\_SelectedIndexProperty); }\n            set { SetValue(PlayInfo\\_SelectedIndexProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for PlayInfo\\_SelectedIndex.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty PlayInfo\\_SelectedIndexProperty =\n            DependencyProperty.Register(\"PlayInfo\\_SelectedIndex\", typeof(int), typeof(CustomMediaTransportControls), new PropertyMetadata(-1));\n\n\n        public List<PlayInfo> PlayInfos\n        {\n            get { return (List<PlayInfo>)GetValue(PlayInfosProperty); }\n            set { SetValue(PlayInfosProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty PlayInfosProperty =\n            DependencyProperty.Register(\"PlayInfos\", typeof(List<PlayInfo>), typeof(CustomMediaTransportControls), new PropertyMetadata(null));\n\n        protected override void OnApplyTemplate()\n        {\n            {\n                var playInfoListView = (ListView)GetTemplateChild(\"PlayInfoListView\");\n                playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;\n            }\n            {\n                var rootGrid = (Grid)GetTemplateChild(\"RootGrid\");\n                rootGrid.PointerMoved += RootGrid\\_PointerMoved;\n            }\n            base.OnApplyTemplate();\n        }\n\n        private void RootGrid\\_PointerMoved(object sender, Windows.UI.Xaml.Input.PointerRoutedEventArgs e)\n        {\n            if(IsLoading == false)\n            {\n                IsLoading = true;\n                var titlePanelFadeIn = (VisualState)GetTemplateChild(\"TitlePanelFadeIn\");\n                titlePanelFadeIn.Storyboard.BeginTime = new TimeSpan(500);\n                titlePanelFadeIn.Storyboard.Duration = new Duration(TimeSpan.FromSeconds(4));\n                titlePanelFadeIn.Storyboard.Begin();\n                titlePanelFadeIn.Storyboard.Completed += Storyboard\\_Completed;\n            }\n                     \n        }\n\n        private void Storyboard\\_Completed(object sender, object e)\n        {\n            var titlePanelFadeOut = (VisualState)GetTemplateChild(\"TitlePanelFadeOut\");\n            titlePanelFadeOut.Storyboard.BeginTime = new TimeSpan(500);\n            titlePanelFadeOut.Storyboard.Begin();\n            titlePanelFadeOut.Storyboard.Completed += Storyboard\\_Completed1;\n        }\n\n        private void Storyboard\\_Completed1(object sender, object e)\n        {\n            IsLoading = false;\n        }\n\n        private void PlayInfoListView\\_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            var playInfoLV = sender as ListView;\n            if(playInfoLV.SelectedIndex != -1)\n            {\n                var info = PlayInfos\\[playInfoLV.SelectedIndex\\];\n                PlayInfo\\_SelectionChanged?.Invoke(this, new PlayInfoEventArgs(info));\n            }\n\n        }\n       \n    }\n  \n    public class PlayInfoEventArgs : EventArgs\n    {\n\n        public PlayInfo Infos { get; set; }\n        public PlayInfoEventArgs(PlayInfo info)\n        {\n            Infos = info; \n        }\n    }\n    \n}\n```\n### 2、MediaTransportControlsDictionary.xaml\n```xml\n<ResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:local=\"using:EyepetizerTest.Styles\"\n                    xmlns:control=\"using:EyepetizerTest.Controls\"\n                    xmlns:service=\"using:EyepetizerTest.Services\"\n                    xmlns:converter=\"using:EyepetizerTest.Converters\">\n\n    <!-- Default style for MediaTransportControls -->\n    <Style TargetType=\"control:CustomMediaTransportControls\"\n           x:Key=\"MyMediaTransportControls\">\n        <Setter Property=\"IsTabStop\"\n                Value=\"False\" />\n        <Setter Property=\"Background\"\n                Value=\"Transparent\" />\n        <Setter Property=\"FlowDirection\"\n                Value=\"LeftToRight\" />\n        <Setter Property=\"UseSystemFocusVisuals\"\n                Value=\"{StaticResource UseSystemFocusVisuals}\" />\n        <Setter Property=\"IsTextScaleFactorEnabled\"\n                Value=\"False\" />\n        <Setter Property=\"Template\">\n            <Setter.Value>\n                <ControlTemplate TargetType=\"MediaTransportControls\">\n                    <Grid x:Name=\"RootGrid\"\n                          Background=\"Transparent\">\n\n                        <Grid.Resources>\n                            <!-- New AppBar button style 48x48 pixels in size -->\n                            <Style x:Key=\"AppBarButtonStyle\"\n                                   TargetType=\"AppBarButton\"\n                                   BasedOn=\"{StaticResource AppBarButtonRevealStyle}\">\n                                <Setter Property=\"Width\"\n                                        Value=\"{ThemeResource MTCMediaButtonWidth}\" />\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"AllowFocusOnInteraction\"\n                                        Value=\"True\" />\n                            </Style>\n                            <!-- New AppBarToggle button style 48x48 pixels in size -->\n                            <Style x:Key=\"AppBarToggleButtonStyle\"\n                                   TargetType=\"AppBarToggleButton\"\n                                   BasedOn=\"{StaticResource AppBarToggleButtonRevealStyle}\">\n                                <Setter Property=\"Width\"\n                                        Value=\"{ThemeResource MTCMediaButtonWidth}\" />\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"AllowFocusOnInteraction\"\n                                        Value=\"True\" />\n                            </Style>\n                            <!-- New CommandBar Style -->\n                            <Style x:Key=\"CommandBarStyle\"\n                                   TargetType=\"CommandBar\">\n                                <Setter Property=\"Height\"\n                                        Value=\"{ThemeResource MTCMediaButtonHeight}\" />\n                                <Setter Property=\"Background\"\n                                        Value=\"Transparent\" />\n                            </Style>\n                            <!-- Style for Error Message text -->\n                            <Style x:Key=\"MediaTextBlockStyle\"\n                                   TargetType=\"TextBlock\">\n                                <Setter Property=\"VerticalAlignment\"\n                                        Value=\"Center\" />\n                                <Setter Property=\"Foreground\"\n                                        Value=\"{ThemeResource SystemControlForegroundBaseHighBrush}\" />\n                                <Setter Property=\"FontSize\"\n                                        Value=\"{ThemeResource MTCMediaFontSize}\" />\n                                <Setter Property=\"FontFamily\"\n                                        Value=\"{ThemeResource MTCMediaFontFamily}\" />\n                                <Setter Property=\"Style\"\n                                        Value=\"{ThemeResource CaptionTextBlockStyle }\" />\n                                <Setter Property=\"IsTextScaleFactorEnabled\"\n                                        Value=\"False\" />\n                            </Style>\n                            <!-- Style for Position slider used in Media Transport Controls -->\n                            <Style x:Key=\"MediaSliderStyle\"\n                                   TargetType=\"Slider\">\n                                <Setter Property=\"Background\"\n                                        Value=\"{ThemeResource SliderTrackFill}\" />\n                                <Setter Property=\"BorderThickness\"\n                                        Value=\"{ThemeResource SliderBorderThemeThickness}\" />\n                                <Setter Property=\"Foreground\"\n                                        Value=\"{ThemeResource SliderTrackValueFill}\" />\n                                <Setter Property=\"FontFamily\"\n                                        Value=\"{ThemeResource ContentControlThemeFontFamily}\" />\n                                <Setter Property=\"FontSize\"\n                                        Value=\"{ThemeResource ControlContentThemeFontSize}\" />\n                                <Setter Property=\"ManipulationMode\"\n                                        Value=\"None\" />\n                                <Setter Property=\"UseSystemFocusVisuals\"\n                                        Value=\"{StaticResource UseSystemFocusVisuals}\" />\n                                <Setter Property=\"FocusVisualMargin\"\n                                        Value=\"-7,0,-7,0\" />\n                                <Setter Property=\"IsFocusEngagementEnabled\"\n                                        Value=\"True\" />\n                                <Setter Property=\"Template\">\n                                    <Setter.Value>\n                                        <ControlTemplate TargetType=\"Slider\">\n                                            <Grid Margin=\"{TemplateBinding Padding}\">\n                                                <Grid.Resources>\n                                                    <Style TargetType=\"Thumb\"\n                                                           x:Key=\"SliderThumbStyle\">\n                                                        <Setter Property=\"BorderThickness\"\n                                                                Value=\"0\" />\n                                                        <Setter Property=\"Background\"\n                                                                Value=\"{ThemeResource SliderThumbBackground}\" />\n                                                        <Setter Property=\"Foreground\"\n                                                                Value=\"{ThemeResource SystemControlBackgroundChromeMediumBrush}\" />\n                                                        <Setter Property=\"Template\">\n                                                            <Setter.Value>\n                                                                <ControlTemplate TargetType=\"Thumb\">\n                                                                    <Ellipse x:Name=\"ellipse\"\n                                                                             Stroke=\"{TemplateBinding Background}\"\n                                                                             StrokeThickness=\"2\"\n                                                                             Fill=\"{TemplateBinding Foreground}\" />\n                                                                </ControlTemplate>\n                                                            </Setter.Value>\n                                                        </Setter>\n                                                    </Style>\n                                                    <Style TargetType=\"ProgressBar\"\n                                                           x:Key=\"MediaSliderProgressBarStyle\">\n                                                        <Setter Property=\"Height\"\n                                                                Value=\"{ThemeResource SliderTrackThemeHeight}\" />\n                                                        <Setter Property=\"Minimum\"\n                                                                Value=\"0\" />\n                                                        <Setter Property=\"Maximum\"\n                                                                Value=\"100\" />\n                                                        <Setter Property=\"Foreground\"\n                                                                Value=\"{ThemeResource SystemControlHighlightChromeAltLowBrush}\" />\n                                                        <Setter Property=\"Background\"\n                                                                Value=\"Transparent\" />\n                                                        <Setter Property=\"BorderBrush\"\n                                                                Value=\"Transparent\" />\n                                                        <Setter Property=\"BorderThickness\"\n                                                                Value=\"1\" />\n                                                    </Style>\n                                                </Grid.Resources>\n                                                <Grid.RowDefinitions>\n                                                    <RowDefinition Height=\"Auto\" />\n                                                    <RowDefinition Height=\"\\*\" />\n                                                </Grid.RowDefinitions>\n\n                                                <VisualStateManager.VisualStateGroups>\n                                                    <VisualStateGroup x:Name=\"CommonStates\">\n                                                        <VisualState x:Name=\"Normal\" />\n\n                                                        <VisualState x:Name=\"Pressed\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPressed}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n\n                                                        <VisualState x:Name=\"Disabled\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HeaderContentPresenter\"\n                                                                                               Storyboard.TargetProperty=\"Foreground\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderHeaderForegroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"TopTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"BottomTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"LeftTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"RightTickBar\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTickBarFillDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundDisabled}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n\n                                                        <VisualState x:Name=\"PointerOver\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalTrackRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderThumbBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"Background\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderContainerBackgroundPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalDecreaseRect\"\n                                                                                               Storyboard.TargetProperty=\"Fill\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"{ThemeResource SliderTrackValueFillPointerOver}\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                    </VisualStateGroup>\n                                                    <VisualStateGroup x:Name=\"FocusEngagementStates\">\n                                                        <VisualState x:Name=\"FocusDisengaged\" />\n                                                        <VisualState x:Name=\"FocusEngagedHorizontal\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"False\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"HorizontalThumb\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"True\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                        <VisualState x:Name=\"FocusEngagedVertical\">\n                                                            <Storyboard>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"SliderContainer\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"False\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"VerticalThumb\"\n                                                                                               Storyboard.TargetProperty=\"(Control.IsTemplateFocusTarget)\">\n                                                                    <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                                            Value=\"True\" />\n                                                                </ObjectAnimationUsingKeyFrames>\n                                                            </Storyboard>\n                                                        </VisualState>\n                                                    </VisualStateGroup>\n                                                </VisualStateManager.VisualStateGroups>\n                                                <ContentPresenter x:Name=\"HeaderContentPresenter\"\n                                                                  x:DeferLoadStrategy=\"Lazy\"\n                                                                  Visibility=\"Collapsed\"\n                                                                  Foreground=\"{ThemeResource SliderHeaderForeground}\"\n                                                                  Margin=\"{ThemeResource SliderHeaderThemeMargin}\"\n                                                                  Content=\"{TemplateBinding Header}\"\n                                                                  ContentTemplate=\"{TemplateBinding HeaderTemplate}\"\n                                                                  FontWeight=\"{ThemeResource SliderHeaderThemeFontWeight}\"\n                                                                  TextWrapping=\"Wrap\" />\n                                                <Grid x:Name=\"SliderContainer\"\n                                                      Background=\"{ThemeResource SliderContainerBackground}\"\n                                                      Grid.Row=\"1\"\n                                                      Control.IsTemplateFocusTarget=\"True\">\n                                                    <Grid x:Name=\"HorizontalTemplate\"\n                                                          MinHeight=\"44\">\n                                                        <Grid.ColumnDefinitions>\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"\\*\" />\n                                                        </Grid.ColumnDefinitions>\n                                                        <Grid.RowDefinitions>\n                                                            <RowDefinition Height=\"18\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                            <RowDefinition Height=\"18\" />\n                                                        </Grid.RowDefinitions>\n                                                        <Rectangle x:Name=\"HorizontalTrackRect\"\n                                                                   Fill=\"{TemplateBinding Background}\"\n                                                                   Height=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                   Grid.Row=\"1\"\n                                                                   Grid.ColumnSpan=\"3\" />\n                                                        <ProgressBar x:Name=\"DownloadProgressIndicator\"\n                                                                     Style=\"{StaticResource MediaSliderProgressBarStyle}\"\n                                                                     Grid.Row=\"1\"\n                                                                     Grid.ColumnSpan=\"3\"\n                                                                     HorizontalAlignment=\"Stretch\"\n                                                                     VerticalAlignment=\"Center\" />\n                                                        <Rectangle x:Name=\"HorizontalDecreaseRect\"\n                                                                   Fill=\"{TemplateBinding Foreground}\"\n                                                                   Grid.Row=\"1\" />\n                                                        <TickBar x:Name=\"TopTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 VerticalAlignment=\"Bottom\"\n                                                                 Margin=\"0,0,0,4\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <TickBar x:Name=\"HorizontalInlineTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderInlineTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                 Grid.Row=\"1\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <TickBar x:Name=\"BottomTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Height=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 VerticalAlignment=\"Top\"\n                                                                 Margin=\"0,4,0,0\"\n                                                                 Grid.Row=\"2\"\n                                                                 Grid.ColumnSpan=\"3\" />\n                                                        <Thumb x:Name=\"HorizontalThumb\"\n                                                               Style=\"{StaticResource SliderThumbStyle}\"\n                                                               Height=\"24\"\n                                                               Width=\"24\"\n                                                               Grid.Row=\"0\"\n                                                               Grid.RowSpan=\"3\"\n                                                               Grid.Column=\"1\"\n                                                               FocusVisualMargin=\"-14,-6,-14,-6\"\n                                                               AutomationProperties.AccessibilityView=\"Raw\">\n                                                            <ToolTipService.ToolTip>\n                                                                <ToolTip x:Name=\"ThumbnailTooltip\">\n                                                                    <ContentPresenter Content=\"{Binding}\" />\n                                                                </ToolTip>\n                                                            </ToolTipService.ToolTip>\n                                                            <Thumb.DataContext>\n                                                                <Grid Height=\"112\"\n                                                                      Width=\"192\">\n                                                                    <Image x:Name=\"ThumbnailImage\" />\n                                                                    <Border Background=\"{ThemeResource SystemControlBackgroundBaseMediumBrush}\"\n                                                                            VerticalAlignment=\"Bottom\"\n                                                                            HorizontalAlignment=\"Left\">\n                                                                        <TextBlock x:Name=\"TimeElapsedPreview\"\n                                                                                   Margin=\"6,1,6,3\"\n                                                                                   Style=\"{StaticResource BodyTextBlockStyle}\"\n                                                                                   IsTextScaleFactorEnabled=\"False\"\n                                                                                   Foreground=\"{ThemeResource SystemControlPageTextBaseMediumBrush}\" />\n                                                                    </Border>\n                                                                </Grid>\n                                                            </Thumb.DataContext>\n                                                        </Thumb>\n                                                    </Grid>\n                                                    <Grid x:Name=\"VerticalTemplate\"\n                                                          MinWidth=\"44\"\n                                                          Visibility=\"Collapsed\">\n                                                        <Grid.RowDefinitions>\n                                                            <RowDefinition Height=\"\\*\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                            <RowDefinition Height=\"Auto\" />\n                                                        </Grid.RowDefinitions>\n                                                        <Grid.ColumnDefinitions>\n                                                            <ColumnDefinition Width=\"18\" />\n                                                            <ColumnDefinition Width=\"Auto\" />\n                                                            <ColumnDefinition Width=\"18\" />\n                                                        </Grid.ColumnDefinitions>\n                                                        <Rectangle x:Name=\"VerticalTrackRect\"\n                                                                   Fill=\"{TemplateBinding Background}\"\n                                                                   Width=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                   Grid.Column=\"1\"\n                                                                   Grid.RowSpan=\"3\" />\n                                                        <Rectangle x:Name=\"VerticalDecreaseRect\"\n                                                                   Fill=\"{TemplateBinding Foreground}\"\n                                                                   Grid.Column=\"1\"\n                                                                   Grid.Row=\"2\" />\n                                                        <TickBar x:Name=\"LeftTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 HorizontalAlignment=\"Right\"\n                                                                 Margin=\"0,0,4,0\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <TickBar x:Name=\"VerticalInlineTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderInlineTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderTrackThemeHeight}\"\n                                                                 Grid.Column=\"1\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <TickBar x:Name=\"RightTickBar\"\n                                                                 Visibility=\"Collapsed\"\n                                                                 Fill=\"{ThemeResource SliderTickBarFill}\"\n                                                                 Width=\"{ThemeResource SliderOutsideTickBarThemeHeight}\"\n                                                                 HorizontalAlignment=\"Left\"\n                                                                 Margin=\"4,0,0,0\"\n                                                                 Grid.Column=\"2\"\n                                                                 Grid.RowSpan=\"3\" />\n                                                        <Thumb x:Name=\"VerticalThumb\"\n                                                               Style=\"{StaticResource SliderThumbStyle}\"\n                                                               DataContext=\"{TemplateBinding Value}\"\n                                                               Width=\"24\"\n                                                               Height=\"8\"\n                                                               Grid.Row=\"1\"\n                                                               Grid.Column=\"0\"\n                                                               Grid.ColumnSpan=\"3\"\n                                                               FocusVisualMargin=\"-6,-14,-6,-14\"\n                                                               AutomationProperties.AccessibilityView=\"Raw\" />\n                                                    </Grid>\n                                                </Grid>\n                                            </Grid>\n                                        </ControlTemplate>\n                                    </Setter.Value>\n                                </Setter>\n                            </Style>\n                            <!-- Style for Volume Flyout used in Media Transport Controls -->\n                            <Style x:Key=\"FlyoutStyle\"\n                                   TargetType=\"FlyoutPresenter\">\n                                <Setter Property=\"Background\"\n                                        Value=\"{ThemeResource MediaTransportControlsFlyoutBackground}\" />\n                                <Setter Property=\"Padding\"\n                                        Value=\"0\" />\n                            </Style>\n                        </Grid.Resources>\n\n                        <VisualStateManager.VisualStateGroups>\n                            <VisualStateGroup x:Name=\"TitlePanelVisibilityStates\">\n                                <VisualState x:Name=\"TitlePanelFadeIn\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"0\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.3\"\n                                                                  Value=\"1\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVerticalTop\"\n                                                         From=\"-50\"\n                                                         To=\"0.5\"\n                                                         Duration=\"0:0:0.3\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"TitlePanelFadeOut\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"1\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.7\"\n                                                                  Value=\"0\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"IsHitTestVisible\"\n                                                                       Storyboard.TargetName=\"TitlePanelVisibilityStates\\_Border\">\n                                            <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                    Value=\"False\" />\n                                        </ObjectAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVerticalTop\"\n                                                         From=\"0.5\"\n                                                         To=\"-50\"\n                                                         Duration=\"0:0:0.7\" />\n                                    </Storyboard>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- ControlPanel Visibility states -->\n                            <VisualStateGroup x:Name=\"ControlPanelVisibilityStates\">\n                                <VisualState x:Name=\"ControlPanelFadeIn\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"0\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.3\"\n                                                                  Value=\"1\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVertical\"\n                                                         From=\"50\"\n                                                         To=\"0.5\"\n                                                         Duration=\"0:0:0.3\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"ControlPanelFadeOut\">\n\n                                    <Storyboard>\n                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty=\"Opacity\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <EasingDoubleKeyFrame KeyTime=\"0\"\n                                                                  Value=\"1\" />\n                                            <EasingDoubleKeyFrame KeyTime=\"0:0:0.7\"\n                                                                  Value=\"0\" />\n                                        </DoubleAnimationUsingKeyFrames>\n                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"IsHitTestVisible\"\n                                                                       Storyboard.TargetName=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                                            <DiscreteObjectKeyFrame KeyTime=\"0\"\n                                                                    Value=\"False\" />\n                                        </ObjectAnimationUsingKeyFrames>\n                                        <DoubleAnimation Storyboard.TargetProperty=\"Y\"\n                                                         Storyboard.TargetName=\"TranslateVertical\"\n                                                         From=\"0.5\"\n                                                         To=\"50\"\n                                                         Duration=\"0:0:0.7\" />\n                                    </Storyboard>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- ControlPanel Visibility states -->\n                            <!-- Media state visual states -->\n                            <VisualStateGroup x:Name=\"MediaStates\">\n                                <VisualState x:Name=\"Normal\" />\n                                <VisualState x:Name=\"Buffering\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"BufferingProgressBar.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"Loading\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"BufferingProgressBar.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n\n                                    <Storyboard>\n                                        <DoubleAnimation Storyboard.TargetName=\"ProgressSlider\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"0\"\n                                                         Duration=\"0\" />\n                                        <DoubleAnimation Storyboard.TargetName=\"MediaControlsCommandBar\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"0\"\n                                                         Duration=\"0\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"Error\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"ErrorBorder.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                                <VisualState x:Name=\"Disabled\">\n                                    <Storyboard />\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- Media state visual states -->\n                            <!-- Audio Selection Button visibility states -->\n                            <VisualStateGroup x:Name=\"AudioSelectionAvailablityStates\">\n                                <VisualState x:Name=\"AudioSelectionAvailable\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"AudioTracksSelectionButton.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"AudioSelectionUnavailable\" />\n\n                            </VisualStateGroup>\n                            <!-- Video volume visibility states -->\n                            <!-- Closed Captioning Selection Button visibility states -->\n                            <VisualStateGroup x:Name=\"CCSelectionAvailablityStates\">\n                                <VisualState x:Name=\"CCSelectionAvailable\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"CCSelectionButton.Visibility\"\n                                                Value=\"Visible\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"CCSelectionUnavailable\" />\n\n                            </VisualStateGroup>\n                            <!-- Closed Captioning  visibility states -->\n                            <!-- Focus states -->\n                            <VisualStateGroup x:Name=\"FocusStates\">\n                                <VisualState x:Name=\"Focused\">\n\n                                    <Storyboard>\n                                        <DoubleAnimation Storyboard.TargetName=\"FocusVisualWhite\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"1\"\n                                                         Duration=\"0\" />\n                                        <DoubleAnimation Storyboard.TargetName=\"FocusVisualBlack\"\n                                                         Storyboard.TargetProperty=\"Opacity\"\n                                                         To=\"1\"\n                                                         Duration=\"0\" />\n                                    </Storyboard>\n                                </VisualState>\n                                <VisualState x:Name=\"Unfocused\" />\n                                <VisualState x:Name=\"PointerFocused\" />\n\n                            </VisualStateGroup>\n                            <!-- Focus states -->\n                            <VisualStateGroup x:Name=\"MediaTransportControlMode\">\n                                <VisualState x:Name=\"NormalMode\" />\n\n\n                                <VisualState x:Name=\"CompactMode\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"LeftSidePlayBorder.Visibility\"\n                                                Value=\"Collapsed\" />\n                                        <Setter Target=\"TimeTextGrid.Visibility\"\n                                                Value=\"Collapsed\" />\n                                        <Setter Target=\"MediaTransportControls\\_Command\\_Border.(Grid.Column)\"\n                                                Value=\"2\" />\n                                        <Setter Target=\"MediaTransportControls\\_Command\\_Border.(Grid.Row)\"\n                                                Value=\"1\" />\n                                        <Setter Target=\"MediaControlsCommandBar.Margin\"\n                                                Value=\"0\" />\n                                        <!--<Setter Target=\"PlayPauseButton.Visibility\"\n                                                Value=\"Collapsed\" />-->\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- PlayPause states -->\n                            <VisualStateGroup x:Name=\"PlayPauseStates\">\n                                <VisualState x:Name=\"PlayState\" />\n\n\n                                <VisualState x:Name=\"PauseState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"PlayPauseSymbolLeft.Symbol\"\n                                                Value=\"Pause\" />\n                                        <Setter Target=\"PlayPauseSymbol.Symbol\"\n                                                Value=\"Pause\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- VolumeMute states -->\n                            <VisualStateGroup x:Name=\"VolumeMuteStates\">\n                                <VisualState x:Name=\"VolumeState\" />\n                                <VisualState x:Name=\"MuteState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"AudioMuteSymbol.Symbol\"\n                                                Value=\"Mute\" />\n                                        <Setter Target=\"VolumeMuteSymbol.Symbol\"\n                                                Value=\"Mute\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- FullWindow states -->\n                            <VisualStateGroup x:Name=\"FullWindowStates\">\n                                <VisualState x:Name=\"NonFullWindowState\">\n\n                                </VisualState>\n                                <VisualState x:Name=\"FullWindowState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"FullWindowSymbol.Symbol\"\n                                                Value=\"BackToWindow\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n                            <!-- Repeat states -->\n                            <VisualStateGroup x:Name=\"RepeatStates\">\n                                <VisualState x:Name=\"RepeatNoneState\" />\n                                <VisualState x:Name=\"RepeatOneState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"RepeatSymbol.Symbol\"\n                                                Value=\"RepeatOne\" />\n                                        <Setter Target=\"RepeatButton.IsChecked\"\n                                                Value=\"True\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n                                <VisualState x:Name=\"RepeatAllState\">\n                                    <VisualState.Setters>\n                                        <Setter Target=\"RepeatButton.IsChecked\"\n                                                Value=\"True\" />\n                                    </VisualState.Setters>\n                                </VisualState>\n\n                            </VisualStateGroup>\n\n                        </VisualStateManager.VisualStateGroups>\n                        <!--顶部panel-->\n                        <Border x:Name=\"TitlePanelVisibilityStates\\_Border\">\n                            <Grid x:Name=\"TitlePanelGrid\"\n                                  Background=\"Transparent\"\n                                  VerticalAlignment=\"Top\"\n                                  RenderTransformOrigin=\"0.5,0.5\">\n                                <Grid.RenderTransform>\n                                    <TranslateTransform x:Name=\"TranslateVerticalTop\" />\n                                </Grid.RenderTransform>\n                                <TextBlock x:Name=\"TitleTextBlock\"\n                                           FontSize=\"16\"\n                                           Margin=\"0,12,0,0\"\n                                           HorizontalAlignment=\"Center\"\n                                           Text=\"{Binding Path=VideoTitle,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\" />\n                            </Grid>\n                        </Border>\n                        <Border x:Name=\"ControlPanel\\_ControlPanelVisibilityStates\\_Border\">\n                            <Grid x:Name=\"ControlPanelGrid\"\n                                  Background=\"Transparent\"\n                                  VerticalAlignment=\"Bottom\"\n                                  RenderTransformOrigin=\"0.5,0.5\">\n                                <Grid.RenderTransform>\n                                    <TranslateTransform x:Name=\"TranslateVertical\" />\n                                </Grid.RenderTransform>\n\n                                <Grid.ColumnDefinitions>\n                                    <ColumnDefinition Width=\"Auto\" />\n                                    <ColumnDefinition Width=\"\\*\" />\n                                    <ColumnDefinition Width=\"Auto\" />\n                                </Grid.ColumnDefinitions>\n\n                                <Grid.RowDefinitions>\n                                    <RowDefinition Height=\"Auto\" />\n                                    <RowDefinition Height=\"\\*\" />\n                                    <RowDefinition Height=\"0\" />\n                                </Grid.RowDefinitions>\n                                <Border x:Name=\"ErrorBorder\"\n                                        Width=\"320\"\n                                        Height=\"96\"\n                                        Grid.ColumnSpan=\"3\"\n                                        HorizontalAlignment=\"Center\"\n                                        Background=\"{ThemeResource MediaTransportControlsPanelBackground}\"\n                                        Visibility=\"Collapsed\">\n                                    <TextBlock x:Name=\"ErrorTextBlock\"\n                                               Style=\"{StaticResource MediaTextBlockStyle}\"\n                                               TextWrapping=\"WrapWholeWords\"\n                                               Margin=\"12\" />\n                                </Border>\n                                <Border x:Name=\"MediaTransportControls\\_Timeline\\_Border\"\n                                        Grid.Column=\"1\"\n                                        Grid.Row=\"1\">\n                                    <Grid x:Name=\"MediaTransportControls\\_Timeline\\_Grid\">\n                                        <Grid.ColumnDefinitions>\n                                            <ColumnDefinition Width=\"Auto\" />\n                                            <ColumnDefinition Width=\"\\*\" />\n                                            <ColumnDefinition Width=\"Auto\" />\n                                        </Grid.ColumnDefinitions>\n                                        <Slider x:Name=\"ProgressSlider\"\n                                                Style=\"{StaticResource MediaSliderStyle}\"\n                                                Margin=\"12,0,0,14\"\n                                                MinWidth=\"80\"\n                                                Height=\"33\"\n                                                Grid.Column=\"1\"\n                                                VerticalAlignment=\"Center\"\n                                                IsThumbToolTipEnabled=\"False\" />\n                                        <ProgressBar x:Name=\"BufferingProgressBar\"\n                                                     Height=\"4\"\n                                                     IsIndeterminate=\"True\"\n                                                     IsHitTestVisible=\"False\"\n                                                     VerticalAlignment=\"Top\"\n                                                     Margin=\"0,2,0,0\"\n                                                     Visibility=\"Collapsed\" />\n                                        <Grid x:Name=\"TimeTextGrid\"\n                                              Margin=\"8,0,0,8\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"0\"\n                                              HorizontalAlignment=\"Left\"\n                                              VerticalAlignment=\"Center\">\n                                            <!--<TextBlock x:Name=\"TimeElapsedElement\"\n                                                       Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                       Margin=\"0\"\n                                                       Text=\"00:00\"\n                                                       />-->\n\n                                        </Grid>\n                                        <Grid x:Name=\"TimeStartTextGrid\"\n                                              Margin=\"4,0,0,0\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"0\"\n                                              HorizontalAlignment=\"Left\"\n                                              VerticalAlignment=\"Center\">\n                                            <StackPanel Orientation=\"Horizontal\">\n                                                <AppBarButton x:Name=\"PlayPauseButtonOnLeft\"\n                                                              Margin=\"0,0,0,4\"\n                                                              Height=\"40\"\n                                                              Style=\"{StaticResource AppBarButtonStyle}\">\n                                                    <AppBarButton.Icon>\n                                                        <SymbolIcon x:Name=\"PlayPauseSymbolLeft\"\n                                                                    Symbol=\"Play\" />\n                                                    </AppBarButton.Icon>\n                                                </AppBarButton>\n                                                <TextBlock x:Name=\"TimeElapsedElement\"\n                                                           Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                           Text=\"00:00\"\n                                                           Margin=\"0,0,0,10\" />\n                                            </StackPanel>\n\n\n                                        </Grid>\n                                        <Grid x:Name=\"TimeReminTextGrid\"\n                                              Margin=\"8,0,0,0\"\n                                              Grid.Row=\"1\"\n                                              Grid.Column=\"2\"\n                                              HorizontalAlignment=\"Right\"\n                                              VerticalAlignment=\"Center\">\n                                            <TextBlock x:Name=\"TimeRemainingElement\"\n                                                       Style=\"{StaticResource MediaTextBlockStyle}\"\n                                                       Text=\"00:00\"\n                                                       Margin=\"0,0,0,10\" />\n                                        </Grid>\n                                    </Grid>\n                                </Border>\n                                <Border x:Name=\"LeftSidePlayBorder\"\n                                        Grid.Column=\"0\"\n                                        Grid.Row=\"1\"\n                                        Visibility=\"Visible\">\n\n                                    <!--<AppBarButton x:Name=\"PlayPauseButtonOnLeft\"\n                                                  Margin=\"0\"\n                                                  Height=\"40\"\n                                                  Style=\"{StaticResource AppBarButtonStyle}\">\n                                        <AppBarButton.Icon>\n                                            <SymbolIcon x:Name=\"PlayPauseSymbolLeft\"\n                                                        Symbol=\"Play\" />\n                                        </AppBarButton.Icon>\n                                    </AppBarButton>-->\n                                </Border>\n                                <AppBarButton x:Name='CastButton'\n                                              Style='{StaticResource AppBarButtonStyle}'\n                                              MediaTransportControlsHelper.DropoutOrder='11'\n                                              Visibility=\"Collapsed\"\n                                              Grid.Row=\"2\">\n                                    <AppBarButton.Icon>\n                                        <FontIcon Glyph=\"\" />\n                                    </AppBarButton.Icon>\n                                </AppBarButton>\n                                <Border x:Name=\"MediaTransportControls\\_Command\\_Border\"\n                                        Grid.Column=\"2\"\n                                        Grid.Row=\"1\">\n                                    <CommandBar x:Name=\"MediaControlsCommandBar\"\n                                                Margin=\"0,0\"\n                                                Style=\"{StaticResource CommandBarStyle}\"\n                                                IsDynamicOverflowEnabled=\"False\">\n                                        <CommandBar.PrimaryCommands>\n                                            <AppBarButton x:Name=\"PlayPauseButton\"\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='23'\n                                                          Visibility=\"{Binding ElementName=StopButton,Path=Visibility}\">\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"PlayPauseSymbol\"\n                                                                Symbol=\"Play\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--清晰度切换-->\n                                            <AppBarButton x:Name='PlayInfoButton'\n                                                          Margin=\"8,0,0,0\"\n                                                          Style=\"{StaticResource AppBarButtonStyle}\"\n                                                          Content=\"{Binding ElementName=PlayInfoListView,Path=SelectedItem.name}\">\n                                                <AppBarButton.Flyout>\n                                                    <Flyout x:Name=\"PlayInfoFlyout\"\n                                                            ShowMode=\"TransientWithDismissOnPointerMoveAway\">\n                                                        <ListView x:Name=\"PlayInfoListView\"\n                                                                  Width=\"52\"\n                                                                  ItemsSource=\"{Binding Path=PlayInfos,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\"\n                                                                  SelectedIndex=\"{Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}\">\n                                                            <ListView.ItemTemplate>\n                                                                <DataTemplate>\n                                                                    <TextBlock Text=\"{Binding name}\" />\n                                                                </DataTemplate>\n                                                            </ListView.ItemTemplate>\n                                                        </ListView>\n                                                    </Flyout>\n                                                </AppBarButton.Flyout>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='VolumeMuteButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='19'>\n                                                <AppBarButton.Flyout>\n                                                    <Flyout x:Name=\"VolumeFlyout\"\n                                                            FlyoutPresenterStyle=\"{StaticResource FlyoutStyle}\">\n                                                        <StackPanel Orientation=\"Horizontal\">\n                                                            <AppBarButton x:Name='AudioMuteButton'\n                                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                                          VerticalAlignment='Center'\n                                                                          HorizontalAlignment='Center'\n                                                                          Margin='12'>\n                                                                <AppBarButton.Icon>\n                                                                    <SymbolIcon x:Name=\"AudioMuteSymbol\"\n                                                                                Symbol=\"Volume\" />\n                                                                </AppBarButton.Icon>\n                                                            </AppBarButton>\n                                                            <Slider x:Name='VolumeSlider'\n                                                                    Value='50'\n                                                                    IsThumbToolTipEnabled='False'\n                                                                    Width='{ThemeResource MTCHorizontalVolumeSliderWidth}'\n                                                                    VerticalAlignment='Center'\n                                                                    HorizontalAlignment='Center'\n                                                                    Margin='0' />\n                                                            <TextBlock x:Name='VolumeValue'\n                                                                       Style='{StaticResource MediaTextBlockStyle}'\n                                                                       Text=\"{Binding ElementName=VolumeSlider,Path=Value}\"\n                                                                       HorizontalAlignment='Center'\n                                                                       VerticalAlignment='Center'\n                                                                       Width='24'\n                                                                       Margin='12' />\n                                                        </StackPanel>\n                                                    </Flyout>\n                                                </AppBarButton.Flyout>\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"VolumeMuteSymbol\"\n                                                                Symbol=\"Volume\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='CCSelectionButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='15'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='AudioTracksSelectionButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='13'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarSeparator x:Name='LeftSeparator'\n                                                             Height='0'\n                                                             Width='0'\n                                                             Margin='0,0' />-->\n                                            <AppBarButton x:Name='StopButton'\n                                                          Icon='Stop'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='7'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='SkipBackwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='5'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='PreviousTrackButton'\n                                                          Icon='Previous'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='3'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='RewindButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='1'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n\n                                            <AppBarButton x:Name='FastForwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='1'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='NextTrackButton'\n                                                          Icon='Next'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='3'\n                                                          Visibility='Collapsed' />\n                                            <AppBarButton x:Name='SkipForwardButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='5'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='PlaybackRateButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='10'\n                                                          Visibility='Collapsed'>\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarSeparator x:Name='RightSeparator'\n                                                             Height='0'\n                                                             Width='0'\n                                                             Margin='0,0' />-->\n                                            <AppBarToggleButton x:Name='RepeatButton'\n                                                                Style='{StaticResource AppBarToggleButtonStyle}'\n                                                                MediaTransportControlsHelper.DropoutOrder='1'\n                                                                Visibility='Collapsed'>\n                                                <AppBarToggleButton.Icon>\n                                                    <SymbolIcon x:Name=\"RepeatSymbol\"\n                                                                Symbol=\"RepeatAll\" />\n                                                </AppBarToggleButton.Icon>\n                                            </AppBarToggleButton>\n                                            <AppBarButton x:Name='ZoomButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='9'\n                                                          Visibility=\"Collapsed\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <!--<AppBarButton x:Name='CastButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='11'\n                                                          Visibility=\"Collapsed\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>-->\n                                            <AppBarButton x:Name='CompactOverlayButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='24'\n                                                          Visibility=\"Visible\">\n                                                <AppBarButton.Icon>\n                                                    <FontIcon Glyph=\"\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                            <AppBarButton x:Name='FullWindowButton'\n                                                          Style='{StaticResource AppBarButtonStyle}'\n                                                          MediaTransportControlsHelper.DropoutOrder='17'\n                                                          Visibility=\"Visible\">\n                                                <AppBarButton.Icon>\n                                                    <SymbolIcon x:Name=\"FullWindowSymbol\"\n                                                                Symbol=\"FullScreen\" />\n                                                </AppBarButton.Icon>\n                                            </AppBarButton>\n                                        </CommandBar.PrimaryCommands>\n                                    </CommandBar>\n                                </Border>\n                            </Grid>\n                        </Border>\n\n                    </Grid>\n\n                </ControlTemplate>\n            </Setter.Value>\n        </Setter>\n    </Style>\n</ResourceDictionary>\n```","slug":"UWP/win10-uwp-custom-mediatransportcontrol-binding","published":1,"updated":"2025-02-21T10:54:54.003Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1x0028ews7cw2a7xc3","content":"<p>在开发开眼UWP的过程中，需要MediaTransportControl有切换视频播放清晰度的需求。但是过程中发现绑定的数据一直不显示。记录一下过程，写的有点乱。</p>\n<p>最后完成的样子：</p>\n<p><img src=\"https://56g3lg.sn.files.1drv.com/y4mDALwlWUd9X_4KCczht2NlcXyguB5A_ifvyFIhiCc-__e7OdJ7yuqBK56bkwDZIF5E2pNkmdtIMBt-6N7e4lf29PJi9l2GsflrUcZTRPzR6rROTjtsT3Kt2mcDgk-Ue-f2GeBKG3X85nHMoY_EJaqVUM4pPb_Yzk1PWyv0p840IeJVpTcX7Y0qEAz-ZJwzZinFEftS0zIh9qjJe3ZjvhoLw?width=2736&height=1744&cropmode=none\"></p>\n<p>自定义MediaTransportControl的方法不说了，详细请看的微软官方文档：<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/custom-transport-controls\">文档链接</a></p>\n<p>文中提到的文件</p>\n<ul>\n<li>MediaTransportControlsDictionary.xaml</li>\n<li>CustomMediaTransportControls.cs</li>\n<li>PlayVideoControl.xaml</li>\n<li>PlayVideoControl.xaml.cs</li>\n</ul>\n<h2 id=\"一、数据格式\"><a href=\"#一、数据格式\" class=\"headerlink\" title=\"一、数据格式\"></a>一、数据格式</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;playInfo&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">270</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">480</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;流畅&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;low&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">480</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">854</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;标清&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;normal&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">720</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1280</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;高清&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;high&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"二、修改模板，添加按钮\"><a href=\"#二、修改模板，添加按钮\" class=\"headerlink\" title=\"二、修改模板，添加按钮\"></a>二、修改模板，添加按钮</h2><p>在MediaTransportControlsDictionary.xaml中添加：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--清晰度切换--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlayInfoButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding ElementName=PlayInfoListView,Path=SelectedItem.name&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoFlyout&quot;</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoListView&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">Width</span>=<span class=\"string\">&quot;52&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfos,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">SelectedIndex</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                      <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                          <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding name&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                      <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;/<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这里绑定使用的是Binding,我看别人使用的是TemplateBinding，但是我编译不了?，刚开始自己直接这样ItemsSource&#x3D;”{Binding Path&#x3D;PlayInfos,Mode&#x3D;TwoWay}”，发现绑定的数据是空白的。因为页面加载的时候是先初始化MediaTransportControl, 完成后才是页面后台代码的赋值。所以每次初始化的数据都是空白。赋值后数据也不会更新。后来看到一个博客，使用ItemsSource&#x3D;”{Binding Path&#x3D;PlayInfos,Mode&#x3D;TwoWay,RelativeSource&#x3D;{RelativeSource TemplatedParent}}”这样就可以更新数据了。<br>参考的博客地址：<a href=\"https://www.cnblogs.com/hebeiDGL/p/3670667.html\">模板中的 TemplateBinding 问题</a></p>\n<h2 id=\"三、定义绑定的依赖项\"><a href=\"#三、定义绑定的依赖项\" class=\"headerlink\" title=\"三、定义绑定的依赖项\"></a>三、定义绑定的依赖项</h2><p>在CustomMediaTransportControls.cs中添加：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 使用propdp快速生成</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> List&lt;PlayInfo&gt; PlayInfos</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (List&lt;PlayInfo&gt;)GetValue(PlayInfosProperty); &#125;</span><br><span class=\"line\">     <span class=\"keyword\">set</span> &#123; SetValue(PlayInfosProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfosProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfos&quot;</span>, <span class=\"keyword\">typeof</span>(List&lt;PlayInfo&gt;), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、使用\"><a href=\"#四、使用\" class=\"headerlink\" title=\"四、使用\"></a>四、使用</h2><p>在PlayVideoControl.xaml中添加 :</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MediaPlayerElement</span> <span class=\"attr\">Name</span>=<span class=\"string\">&quot;MainMediaPalyer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">AreTransportControlsEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">AutoPlay</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">DoubleTapped</span>=<span class=\"string\">&quot;MainMediaPalyer\\_DoubleTapped&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">MediaPlayerElement.TransportControls</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">control:CustomMediaTransportControls</span> </span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;mediaTransportControl&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MyMediaTransportControls&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompact</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompactOverlayEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsZoomButtonVisible</span>=<span class=\"string\">&quot;false&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompactOverlayButtonVisible</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsVolumeButtonVisible</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsStopButtonVisible</span>=<span class=\"string\">&quot;False&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">                         <span class=\"attr\">PlayInfo</span>\\<span class=\"attr\">_SelectionChanged</span>=<span class=\"string\">&quot;MediaTransportControl\\_PlayInfo\\_SelectionChanged&quot;</span>/&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">MediaPlayerElement.TransportControls</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">MediaPlayerElement</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>在PlayVideoControl.xaml.cs中赋值：<br>mediaTransportControl.PlayInfos &#x3D; VideoData.playInfo;</p>\n<h2 id=\"五、响应清晰度的改变\"><a href=\"#五、响应清晰度的改变\" class=\"headerlink\" title=\"五、响应清晰度的改变\"></a>五、响应清晰度的改变</h2><p>在CustomMediaTransportControls.cs中的OnApplyTemplate中订阅ListView的SelectionChanged事件。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">event</span> EventHandler&lt;PlayInfoEventArgs&gt; PlayInfo\\_SelectionChanged; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnApplyTemplate</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> playInfoListView = (ListView)GetTemplateChild(<span class=\"string\">&quot;PlayInfoListView&quot;</span>);</span><br><span class=\"line\">      playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">base</span>.OnApplyTemplate();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> PlayInfoListView\\_SelectionChanged(<span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> playInfoLV = sender <span class=\"keyword\">as</span> ListView;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(playInfoLV.SelectedIndex != <span class=\"number\">-1</span>)</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> info = PlayInfos\\[playInfoLV.SelectedIndex\\];</span><br><span class=\"line\">        PlayInfo\\_SelectionChanged?.Invoke(<span class=\"keyword\">this</span>, <span class=\"keyword\">new</span> PlayInfoEventArgs(info));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PlayInfoEventArgs</span> : <span class=\"title\">EventArgs</span></span><br><span class=\"line\"> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">public</span> PlayInfo Infos &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">PlayInfoEventArgs</span>(<span class=\"params\">PlayInfo info</span>)</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">            Infos = info; </span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">```   </span><br><span class=\"line\"></span><br><span class=\"line\">然后在PlayVideoControl.xaml.cs页面订阅MediaTransportControl\\_PlayInfo\\_SelectionChanged事件，更改MediaPlayerElement的Source。</span><br><span class=\"line\">```c<span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> MediaTransportControl\\_PlayInfo\\_SelectionChanged(<span class=\"built_in\">object</span> sender, PlayInfoEventArgs e)</span><br><span class=\"line\">&#123;        </span><br><span class=\"line\">   <span class=\"keyword\">if</span>(playUrl != e.Infos.url)</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      MainMediaPalyer.Source = MediaSource.CreateFromUri(<span class=\"keyword\">new</span> Uri(e.Infos.url));</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"六、全部代码\"><a href=\"#六、全部代码\" class=\"headerlink\" title=\"六、全部代码\"></a>六、全部代码</h2><h3 id=\"1、CustomMediaTransportControls-cs\"><a href=\"#1、CustomMediaTransportControls-cs\" class=\"headerlink\" title=\"1、CustomMediaTransportControls.cs\"></a>1、CustomMediaTransportControls.cs</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> EyepetizerTest.Services;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.ObjectModel;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Data;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">EyepetizerTest.Controls</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CustomMediaTransportControls</span>:<span class=\"title\">MediaTransportControls</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">event</span> EventHandler&lt;PlayInfoEventArgs&gt; PlayInfo\\_SelectionChanged;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> IsLoading = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CustomMediaTransportControls</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.DefaultStyleKey = <span class=\"keyword\">typeof</span>(CustomMediaTransportControls);</span><br><span class=\"line\">           </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> VideoTitle</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (<span class=\"built_in\">string</span>)GetValue(VideoTitleProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(VideoTitleProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for VideoTitle.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty VideoTitleProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;VideoTitle&quot;</span>, <span class=\"keyword\">typeof</span>(<span class=\"built_in\">string</span>), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> PlayInfo\\_SelectedIndex</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (<span class=\"built_in\">int</span>)GetValue(PlayInfo\\_SelectedIndexProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(PlayInfo\\_SelectedIndexProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfo\\_SelectedIndex.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfo\\_SelectedIndexProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfo\\_SelectedIndex&quot;</span>, <span class=\"keyword\">typeof</span>(<span class=\"built_in\">int</span>), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"number\">-1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> List&lt;PlayInfo&gt; PlayInfos</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (List&lt;PlayInfo&gt;)GetValue(PlayInfosProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(PlayInfosProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfosProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfos&quot;</span>, <span class=\"keyword\">typeof</span>(List&lt;PlayInfo&gt;), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnApplyTemplate</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> playInfoListView = (ListView)GetTemplateChild(<span class=\"string\">&quot;PlayInfoListView&quot;</span>);</span><br><span class=\"line\">                playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> rootGrid = (Grid)GetTemplateChild(<span class=\"string\">&quot;RootGrid&quot;</span>);</span><br><span class=\"line\">                rootGrid.PointerMoved += RootGrid\\_PointerMoved;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">base</span>.OnApplyTemplate();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> RootGrid\\_PointerMoved(<span class=\"built_in\">object</span> sender, Windows.UI.Xaml.Input.PointerRoutedEventArgs e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(IsLoading == <span class=\"literal\">false</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IsLoading = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> titlePanelFadeIn = (VisualState)GetTemplateChild(<span class=\"string\">&quot;TitlePanelFadeIn&quot;</span>);</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.BeginTime = <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">500</span>);</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Duration = <span class=\"keyword\">new</span> Duration(TimeSpan.FromSeconds(<span class=\"number\">4</span>));</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Begin();</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Completed += Storyboard\\_Completed;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">                     </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> Storyboard\\_Completed(<span class=\"built_in\">object</span> sender, <span class=\"built_in\">object</span> e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> titlePanelFadeOut = (VisualState)GetTemplateChild(<span class=\"string\">&quot;TitlePanelFadeOut&quot;</span>);</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.BeginTime = <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">500</span>);</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.Begin();</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.Completed += Storyboard\\_Completed1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> Storyboard\\_Completed1(<span class=\"built_in\">object</span> sender, <span class=\"built_in\">object</span> e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            IsLoading = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> PlayInfoListView\\_SelectionChanged(<span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> playInfoLV = sender <span class=\"keyword\">as</span> ListView;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(playInfoLV.SelectedIndex != <span class=\"number\">-1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> info = PlayInfos\\[playInfoLV.SelectedIndex\\];</span><br><span class=\"line\">                PlayInfo\\_SelectionChanged?.Invoke(<span class=\"keyword\">this</span>, <span class=\"keyword\">new</span> PlayInfoEventArgs(info));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PlayInfoEventArgs</span> : <span class=\"title\">EventArgs</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> PlayInfo Infos &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">PlayInfoEventArgs</span>(<span class=\"params\">PlayInfo info</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Infos = info; </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2、MediaTransportControlsDictionary-xaml\"><a href=\"#2、MediaTransportControlsDictionary-xaml\" class=\"headerlink\" title=\"2、MediaTransportControlsDictionary.xaml\"></a>2、MediaTransportControlsDictionary.xaml</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br><span class=\"line\">873</span><br><span class=\"line\">874</span><br><span class=\"line\">875</span><br><span class=\"line\">876</span><br><span class=\"line\">877</span><br><span class=\"line\">878</span><br><span class=\"line\">879</span><br><span class=\"line\">880</span><br><span class=\"line\">881</span><br><span class=\"line\">882</span><br><span class=\"line\">883</span><br><span class=\"line\">884</span><br><span class=\"line\">885</span><br><span class=\"line\">886</span><br><span class=\"line\">887</span><br><span class=\"line\">888</span><br><span class=\"line\">889</span><br><span class=\"line\">890</span><br><span class=\"line\">891</span><br><span class=\"line\">892</span><br><span class=\"line\">893</span><br><span class=\"line\">894</span><br><span class=\"line\">895</span><br><span class=\"line\">896</span><br><span class=\"line\">897</span><br><span class=\"line\">898</span><br><span class=\"line\">899</span><br><span class=\"line\">900</span><br><span class=\"line\">901</span><br><span class=\"line\">902</span><br><span class=\"line\">903</span><br><span class=\"line\">904</span><br><span class=\"line\">905</span><br><span class=\"line\">906</span><br><span class=\"line\">907</span><br><span class=\"line\">908</span><br><span class=\"line\">909</span><br><span class=\"line\">910</span><br><span class=\"line\">911</span><br><span class=\"line\">912</span><br><span class=\"line\">913</span><br><span class=\"line\">914</span><br><span class=\"line\">915</span><br><span class=\"line\">916</span><br><span class=\"line\">917</span><br><span class=\"line\">918</span><br><span class=\"line\">919</span><br><span class=\"line\">920</span><br><span class=\"line\">921</span><br><span class=\"line\">922</span><br><span class=\"line\">923</span><br><span class=\"line\">924</span><br><span class=\"line\">925</span><br><span class=\"line\">926</span><br><span class=\"line\">927</span><br><span class=\"line\">928</span><br><span class=\"line\">929</span><br><span class=\"line\">930</span><br><span class=\"line\">931</span><br><span class=\"line\">932</span><br><span class=\"line\">933</span><br><span class=\"line\">934</span><br><span class=\"line\">935</span><br><span class=\"line\">936</span><br><span class=\"line\">937</span><br><span class=\"line\">938</span><br><span class=\"line\">939</span><br><span class=\"line\">940</span><br><span class=\"line\">941</span><br><span class=\"line\">942</span><br><span class=\"line\">943</span><br><span class=\"line\">944</span><br><span class=\"line\">945</span><br><span class=\"line\">946</span><br><span class=\"line\">947</span><br><span class=\"line\">948</span><br><span class=\"line\">949</span><br><span class=\"line\">950</span><br><span class=\"line\">951</span><br><span class=\"line\">952</span><br><span class=\"line\">953</span><br><span class=\"line\">954</span><br><span class=\"line\">955</span><br><span class=\"line\">956</span><br><span class=\"line\">957</span><br><span class=\"line\">958</span><br><span class=\"line\">959</span><br><span class=\"line\">960</span><br><span class=\"line\">961</span><br><span class=\"line\">962</span><br><span class=\"line\">963</span><br><span class=\"line\">964</span><br><span class=\"line\">965</span><br><span class=\"line\">966</span><br><span class=\"line\">967</span><br><span class=\"line\">968</span><br><span class=\"line\">969</span><br><span class=\"line\">970</span><br><span class=\"line\">971</span><br><span class=\"line\">972</span><br><span class=\"line\">973</span><br><span class=\"line\">974</span><br><span class=\"line\">975</span><br><span class=\"line\">976</span><br><span class=\"line\">977</span><br><span class=\"line\">978</span><br><span class=\"line\">979</span><br><span class=\"line\">980</span><br><span class=\"line\">981</span><br><span class=\"line\">982</span><br><span class=\"line\">983</span><br><span class=\"line\">984</span><br><span class=\"line\">985</span><br><span class=\"line\">986</span><br><span class=\"line\">987</span><br><span class=\"line\">988</span><br><span class=\"line\">989</span><br><span class=\"line\">990</span><br><span class=\"line\">991</span><br><span class=\"line\">992</span><br><span class=\"line\">993</span><br><span class=\"line\">994</span><br><span class=\"line\">995</span><br><span class=\"line\">996</span><br><span class=\"line\">997</span><br><span class=\"line\">998</span><br><span class=\"line\">999</span><br><span class=\"line\">1000</span><br><span class=\"line\">1001</span><br><span class=\"line\">1002</span><br><span class=\"line\">1003</span><br><span class=\"line\">1004</span><br><span class=\"line\">1005</span><br><span class=\"line\">1006</span><br><span class=\"line\">1007</span><br><span class=\"line\">1008</span><br><span class=\"line\">1009</span><br><span class=\"line\">1010</span><br><span class=\"line\">1011</span><br><span class=\"line\">1012</span><br><span class=\"line\">1013</span><br><span class=\"line\">1014</span><br><span class=\"line\">1015</span><br><span class=\"line\">1016</span><br><span class=\"line\">1017</span><br><span class=\"line\">1018</span><br><span class=\"line\">1019</span><br><span class=\"line\">1020</span><br><span class=\"line\">1021</span><br><span class=\"line\">1022</span><br><span class=\"line\">1023</span><br><span class=\"line\">1024</span><br><span class=\"line\">1025</span><br><span class=\"line\">1026</span><br><span class=\"line\">1027</span><br><span class=\"line\">1028</span><br><span class=\"line\">1029</span><br><span class=\"line\">1030</span><br><span class=\"line\">1031</span><br><span class=\"line\">1032</span><br><span class=\"line\">1033</span><br><span class=\"line\">1034</span><br><span class=\"line\">1035</span><br><span class=\"line\">1036</span><br><span class=\"line\">1037</span><br><span class=\"line\">1038</span><br><span class=\"line\">1039</span><br><span class=\"line\">1040</span><br><span class=\"line\">1041</span><br><span class=\"line\">1042</span><br><span class=\"line\">1043</span><br><span class=\"line\">1044</span><br><span class=\"line\">1045</span><br><span class=\"line\">1046</span><br><span class=\"line\">1047</span><br><span class=\"line\">1048</span><br><span class=\"line\">1049</span><br><span class=\"line\">1050</span><br><span class=\"line\">1051</span><br><span class=\"line\">1052</span><br><span class=\"line\">1053</span><br><span class=\"line\">1054</span><br><span class=\"line\">1055</span><br><span class=\"line\">1056</span><br><span class=\"line\">1057</span><br><span class=\"line\">1058</span><br><span class=\"line\">1059</span><br><span class=\"line\">1060</span><br><span class=\"line\">1061</span><br><span class=\"line\">1062</span><br><span class=\"line\">1063</span><br><span class=\"line\">1064</span><br><span class=\"line\">1065</span><br><span class=\"line\">1066</span><br><span class=\"line\">1067</span><br><span class=\"line\">1068</span><br><span class=\"line\">1069</span><br><span class=\"line\">1070</span><br><span class=\"line\">1071</span><br><span class=\"line\">1072</span><br><span class=\"line\">1073</span><br><span class=\"line\">1074</span><br><span class=\"line\">1075</span><br><span class=\"line\">1076</span><br><span class=\"line\">1077</span><br><span class=\"line\">1078</span><br><span class=\"line\">1079</span><br><span class=\"line\">1080</span><br><span class=\"line\">1081</span><br><span class=\"line\">1082</span><br><span class=\"line\">1083</span><br><span class=\"line\">1084</span><br><span class=\"line\">1085</span><br><span class=\"line\">1086</span><br><span class=\"line\">1087</span><br><span class=\"line\">1088</span><br><span class=\"line\">1089</span><br><span class=\"line\">1090</span><br><span class=\"line\">1091</span><br><span class=\"line\">1092</span><br><span class=\"line\">1093</span><br><span class=\"line\">1094</span><br><span class=\"line\">1095</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ResourceDictionary</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:x</span>=<span class=\"string\">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:local</span>=<span class=\"string\">&quot;using:EyepetizerTest.Styles&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:control</span>=<span class=\"string\">&quot;using:EyepetizerTest.Controls&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:service</span>=<span class=\"string\">&quot;using:EyepetizerTest.Services&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:converter</span>=<span class=\"string\">&quot;using:EyepetizerTest.Converters&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Default style for MediaTransportControls --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;control:CustomMediaTransportControls&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MyMediaTransportControls&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTabStop&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FlowDirection&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;LeftToRight&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;UseSystemFocusVisuals&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;StaticResource UseSystemFocusVisuals&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTextScaleFactorEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;MediaTransportControls&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RootGrid&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                          <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                        <span class=\"tag\">&lt;<span class=\"name\">Grid.Resources</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"comment\">&lt;!-- New AppBar button style 48x48 pixels in size --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;AppBarButtonStyle&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;AppBarButton&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                   <span class=\"attr\">BasedOn</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonRevealStyle&#125;&quot;</span>&gt;</span><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Width&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonWidth&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;AllowFocusOnInteraction&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                            </span></span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- New AppBarToggle button style 48x48 pixels in size --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;AppBarToggleButtonStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;AppBarToggleButton&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">BasedOn</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarToggleButtonRevealStyle&#125;&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Width&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonWidth&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;AllowFocusOnInteraction&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- New CommandBar Style --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;CommandBarStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;CommandBar&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Error Message text --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaTextBlockStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;TextBlock&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;VerticalAlignment&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Center&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlForegroundBaseHighBrush&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontSize&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaFontSize&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontFamily&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaFontFamily&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Style&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource CaptionTextBlockStyle &#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTextScaleFactorEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Position slider used in Media Transport Controls --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaSliderStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Slider&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFill&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderBorderThemeThickness&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFill&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontFamily&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource ContentControlThemeFontFamily&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontSize&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource ControlContentThemeFontSize&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;ManipulationMode&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;None&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;UseSystemFocusVisuals&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;StaticResource UseSystemFocusVisuals&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FocusVisualMargin&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;-7,0,-7,0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsFocusEngagementEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                    <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                        <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Slider&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;&#123;TemplateBinding Padding&#125;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid.Resources</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Thumb&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;SliderThumbStyle&quot;</span>&gt;</span><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackground&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlBackgroundChromeMediumBrush&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Thumb&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Ellipse</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ellipse&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">Stroke</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">StrokeThickness</span>=<span class=\"string\">&quot;2&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                    </span></span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;ProgressBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaSliderProgressBarStyle&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Minimum&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Maximum&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;100&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlHighlightChromeAltLowBrush&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderBrush&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                    </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.Resources</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CommonStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Normal&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Pressed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Disabled&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HeaderContentPresenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Foreground&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderForegroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TopTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;BottomTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;LeftTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;RightTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PointerOver&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagementStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusDisengaged&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagedHorizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagedVertical&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">ContentPresenter</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HeaderContentPresenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">x:DeferLoadStrategy</span>=<span class=\"string\">&quot;Lazy&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Foreground</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderForeground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderThemeMargin&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;TemplateBinding Header&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">ContentTemplate</span>=<span class=\"string\">&quot;&#123;TemplateBinding HeaderTemplate&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">FontWeight</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderThemeFontWeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">TextWrapping</span>=<span class=\"string\">&quot;Wrap&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Control.IsTemplateFocusTarget</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalTemplate&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MinHeight</span>=<span class=\"string\">&quot;44&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">ProgressBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;DownloadProgressIndicator&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaSliderProgressBarStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Stretch&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TopTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalInlineTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderInlineTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;BottomTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,4,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Thumb</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource SliderThumbStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Height</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Width</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">FocusVisualMargin</span>=<span class=\"string\">&quot;-14,-6,-14,-6&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">AutomationProperties.AccessibilityView</span>=<span class=\"string\">&quot;Raw&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ToolTipService.ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ToolTip</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ThumbnailTooltip&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">ContentPresenter</span> <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">ToolTipService.ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Thumb.DataContext</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;112&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                      <span class=\"attr\">Width</span>=<span class=\"string\">&quot;192&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ThumbnailImage&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlBackgroundBaseMediumBrush&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                            <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                            <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                        <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeElapsedPreview&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;6,1,6,3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource BodyTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">IsTextScaleFactorEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Foreground</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlPageTextBaseMediumBrush&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Thumb.DataContext</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Thumb</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalTemplate&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MinWidth</span>=<span class=\"string\">&quot;44&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Right&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,4,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalInlineTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderInlineTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RightTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;4,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Thumb</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource SliderThumbStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">DataContext</span>=<span class=\"string\">&quot;&#123;TemplateBinding Value&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Width</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Height</span>=<span class=\"string\">&quot;8&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">FocusVisualMargin</span>=<span class=\"string\">&quot;-6,-14,-6,-14&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">AutomationProperties.AccessibilityView</span>=<span class=\"string\">&quot;Raw&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Volume Flyout used in Media Transport Controls --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;FlyoutStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;FlyoutPresenter&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MediaTransportControlsFlyoutBackground&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Padding&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.Resources</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelFadeIn&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;-50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelFadeOut&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;IsHitTestVisible&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;-50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- ControlPanel Visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelVisibilityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelFadeIn&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelFadeOut&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;IsHitTestVisible&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- ControlPanel Visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Media state visual states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Normal&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Buffering&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;BufferingProgressBar.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Loading&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;BufferingProgressBar.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ProgressSlider&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;MediaControlsCommandBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Error&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;ErrorBorder.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Disabled&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Media state visual states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Audio Selection Button visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionAvailablityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionAvailable&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;AudioTracksSelectionButton.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionUnavailable&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Video volume visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Closed Captioning Selection Button visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionAvailablityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionAvailable&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;CCSelectionButton.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionUnavailable&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Closed Captioning  visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Focus states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Focused&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;FocusVisualWhite&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;FocusVisualBlack&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Unfocused&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PointerFocused&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Focus states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControlMode&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;NormalMode&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CompactMode&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;LeftSidePlayBorder.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;TimeTextGrid.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border.(Grid.Column)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;2&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border.(Grid.Row)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaControlsCommandBar.Margin&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"comment\">&lt;!--&lt;Setter Target=&quot;PlayPauseButton.Visibility&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                Value=&quot;Collapsed&quot; /&gt;--&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- PlayPause states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayState&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PauseState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;PlayPauseSymbolLeft.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Pause&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;PlayPauseSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Pause&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- VolumeMute states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeMuteStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeState&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MuteState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;AudioMuteSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Mute&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;VolumeMuteSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Mute&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- FullWindow states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;NonFullWindowState&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;FullWindowSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;BackToWindow&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Repeat states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatNoneState&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatOneState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;RepeatOne&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatButton.IsChecked&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatAllState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatButton.IsChecked&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"comment\">&lt;!--顶部panel--&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">RenderTransformOrigin</span>=<span class=\"string\">&quot;0.5,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TranslateTransform</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitleTextBlock&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">FontSize</span>=<span class=\"string\">&quot;16&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,12,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding Path=VideoTitle,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">RenderTransformOrigin</span>=<span class=\"string\">&quot;0.5,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TranslateTransform</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ErrorBorder&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Width</span>=<span class=\"string\">&quot;320&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Height</span>=<span class=\"string\">&quot;96&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource MediaTransportControlsPanelBackground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ErrorTextBlock&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">TextWrapping</span>=<span class=\"string\">&quot;WrapWholeWords&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;12&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Timeline\\_Border&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Timeline\\_Grid&quot;</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Slider</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ProgressSlider&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaSliderStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;12,0,0,14&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">MinWidth</span>=<span class=\"string\">&quot;80&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Height</span>=<span class=\"string\">&quot;33&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">IsThumbToolTipEnabled</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ProgressBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;BufferingProgressBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Height</span>=<span class=\"string\">&quot;4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">IsIndeterminate</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">IsHitTestVisible</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,2,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,8&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;TextBlock x:Name=&quot;TimeElapsedElement&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Style=&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Margin=&quot;0&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Text=&quot;00:00&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       /&gt;--&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeStartTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;4,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">StackPanel</span> <span class=\"attr\">Orientation</span>=<span class=\"string\">&quot;Horizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseButtonOnLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Height</span>=<span class=\"string\">&quot;40&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseSymbolLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Play&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeElapsedElement&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Text</span>=<span class=\"string\">&quot;00:00&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,10&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">StackPanel</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeReminTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Right&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeRemainingElement&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Text</span>=<span class=\"string\">&quot;00:00&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,10&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftSidePlayBorder&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"comment\">&lt;!--&lt;AppBarButton x:Name=&quot;PlayPauseButtonOnLeft&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Margin=&quot;0&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Height=&quot;40&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Style=&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                        &lt;AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                            &lt;SymbolIcon x:Name=&quot;PlayPauseSymbolLeft&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                        Symbol=&quot;Play&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                        &lt;/AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                    &lt;/AppBarButton&gt;--&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CastButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;11&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">CommandBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaControlsCommandBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource CommandBarStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">IsDynamicOverflowEnabled</span>=<span class=\"string\">&quot;False&quot;</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">CommandBar.PrimaryCommands</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseButton&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;23&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;&#123;Binding ElementName=StopButton,Path=Visibility&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Play&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--清晰度切换--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlayInfoButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding ElementName=PlayInfoListView,Path=SelectedItem.name&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoFlyout&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                            <span class=\"attr\">ShowMode</span>=<span class=\"string\">&quot;TransientWithDismissOnPointerMoveAway&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoListView&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Width</span>=<span class=\"string\">&quot;52&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfos,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">SelectedIndex</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding name&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeMuteButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;19&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeFlyout&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                            <span class=\"attr\">FlyoutPresenterStyle</span>=<span class=\"string\">&quot;&#123;StaticResource FlyoutStyle&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">StackPanel</span> <span class=\"attr\">Orientation</span>=<span class=\"string\">&quot;Horizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;AudioMuteButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;12&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioMuteSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Volume&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Slider</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeSlider&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&#x27;50&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">IsThumbToolTipEnabled</span>=<span class=\"string\">&#x27;False&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Width</span>=<span class=\"string\">&#x27;&#123;ThemeResource MTCHorizontalVolumeSliderWidth&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;0&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeValue&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource MediaTextBlockStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding ElementName=VolumeSlider,Path=Value&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Width</span>=<span class=\"string\">&#x27;24&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;12&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">StackPanel</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeMuteSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Volume&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CCSelectionButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;15&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;AudioTracksSelectionButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;13&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarSeparator x:Name=&#x27;LeftSeparator&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Height=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Width=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Margin=&#x27;0,0&#x27; /&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;StopButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Stop&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;7&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;SkipBackwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;5&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PreviousTrackButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Previous&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;3&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;RewindButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;FastForwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;NextTrackButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Next&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;3&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;SkipForwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;5&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlaybackRateButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;10&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarSeparator x:Name=&#x27;RightSeparator&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Height=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Width=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Margin=&#x27;0,0&#x27; /&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarToggleButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;RepeatButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarToggleButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarToggleButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;RepeatAll&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarToggleButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarToggleButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;ZoomButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;9&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarButton x:Name=&#x27;CastButton&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          Style=&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          MediaTransportControlsHelper.DropoutOrder=&#x27;11&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          Visibility=&quot;Collapsed&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                &lt;AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                    &lt;FontIcon Glyph=&quot;&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                &lt;/AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                            &lt;/AppBarButton&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CompactOverlayButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;24&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;FullWindowButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;17&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;FullScreen&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">CommandBar.PrimaryCommands</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">CommandBar</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ResourceDictionary</span>&gt;</span></span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>在开发开眼UWP的过程中，需要MediaTransportControl有切换视频播放清晰度的需求。但是过程中发现绑定的数据一直不显示。记录一下过程，写的有点乱。</p>\n<p>最后完成的样子：</p>\n<p><img src=\"https://56g3lg.sn.files.1drv.com/y4mDALwlWUd9X_4KCczht2NlcXyguB5A_ifvyFIhiCc-__e7OdJ7yuqBK56bkwDZIF5E2pNkmdtIMBt-6N7e4lf29PJi9l2GsflrUcZTRPzR6rROTjtsT3Kt2mcDgk-Ue-f2GeBKG3X85nHMoY_EJaqVUM4pPb_Yzk1PWyv0p840IeJVpTcX7Y0qEAz-ZJwzZinFEftS0zIh9qjJe3ZjvhoLw?width=2736&height=1744&cropmode=none\"></p>\n<p>自定义MediaTransportControl的方法不说了，详细请看的微软官方文档：<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/design/controls-and-patterns/custom-transport-controls\">文档链接</a></p>\n<p>文中提到的文件</p>\n<ul>\n<li>MediaTransportControlsDictionary.xaml</li>\n<li>CustomMediaTransportControls.cs</li>\n<li>PlayVideoControl.xaml</li>\n<li>PlayVideoControl.xaml.cs</li>\n</ul>\n<h2 id=\"一、数据格式\"><a href=\"#一、数据格式\" class=\"headerlink\" title=\"一、数据格式\"></a>一、数据格式</h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;playInfo&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">270</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">480</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">8142424</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;流畅&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;low&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=low&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">480</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">854</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">18648494</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;标清&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;normal&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=normal&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;height&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">720</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;width&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1280</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;urlList&quot;</span><span class=\"punctuation\">:</span> \\<span class=\"punctuation\">[</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=aliyun&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=qcloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=ucloud&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;size&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">30572399</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;高清&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;high&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"attr\">&quot;url&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://baobab.kaiyanapp.com/api/v1/playUrl?vid=148037&amp;resourceType=video&amp;editionType=high&amp;source=aliyun&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">\\<span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"二、修改模板，添加按钮\"><a href=\"#二、修改模板，添加按钮\" class=\"headerlink\" title=\"二、修改模板，添加按钮\"></a>二、修改模板，添加按钮</h2><p>在MediaTransportControlsDictionary.xaml中添加：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--清晰度切换--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlayInfoButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding ElementName=PlayInfoListView,Path=SelectedItem.name&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoFlyout&quot;</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoListView&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">Width</span>=<span class=\"string\">&quot;52&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfos,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                        <span class=\"attr\">SelectedIndex</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                      <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                          <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding name&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                      <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                  <span class=\"tag\">&lt;/<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这里绑定使用的是Binding,我看别人使用的是TemplateBinding，但是我编译不了?，刚开始自己直接这样ItemsSource&#x3D;”{Binding Path&#x3D;PlayInfos,Mode&#x3D;TwoWay}”，发现绑定的数据是空白的。因为页面加载的时候是先初始化MediaTransportControl, 完成后才是页面后台代码的赋值。所以每次初始化的数据都是空白。赋值后数据也不会更新。后来看到一个博客，使用ItemsSource&#x3D;”{Binding Path&#x3D;PlayInfos,Mode&#x3D;TwoWay,RelativeSource&#x3D;{RelativeSource TemplatedParent}}”这样就可以更新数据了。<br>参考的博客地址：<a href=\"https://www.cnblogs.com/hebeiDGL/p/3670667.html\">模板中的 TemplateBinding 问题</a></p>\n<h2 id=\"三、定义绑定的依赖项\"><a href=\"#三、定义绑定的依赖项\" class=\"headerlink\" title=\"三、定义绑定的依赖项\"></a>三、定义绑定的依赖项</h2><p>在CustomMediaTransportControls.cs中添加：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 使用propdp快速生成</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> List&lt;PlayInfo&gt; PlayInfos</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (List&lt;PlayInfo&gt;)GetValue(PlayInfosProperty); &#125;</span><br><span class=\"line\">     <span class=\"keyword\">set</span> &#123; SetValue(PlayInfosProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfosProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfos&quot;</span>, <span class=\"keyword\">typeof</span>(List&lt;PlayInfo&gt;), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、使用\"><a href=\"#四、使用\" class=\"headerlink\" title=\"四、使用\"></a>四、使用</h2><p>在PlayVideoControl.xaml中添加 :</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MediaPlayerElement</span> <span class=\"attr\">Name</span>=<span class=\"string\">&quot;MainMediaPalyer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">AreTransportControlsEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">AutoPlay</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">DoubleTapped</span>=<span class=\"string\">&quot;MainMediaPalyer\\_DoubleTapped&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">MediaPlayerElement.TransportControls</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">control:CustomMediaTransportControls</span> </span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;mediaTransportControl&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MyMediaTransportControls&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompact</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompactOverlayEnabled</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsZoomButtonVisible</span>=<span class=\"string\">&quot;false&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsCompactOverlayButtonVisible</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsVolumeButtonVisible</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                          <span class=\"attr\">IsStopButtonVisible</span>=<span class=\"string\">&quot;False&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">                         <span class=\"attr\">PlayInfo</span>\\<span class=\"attr\">_SelectionChanged</span>=<span class=\"string\">&quot;MediaTransportControl\\_PlayInfo\\_SelectionChanged&quot;</span>/&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">MediaPlayerElement.TransportControls</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">MediaPlayerElement</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>在PlayVideoControl.xaml.cs中赋值：<br>mediaTransportControl.PlayInfos &#x3D; VideoData.playInfo;</p>\n<h2 id=\"五、响应清晰度的改变\"><a href=\"#五、响应清晰度的改变\" class=\"headerlink\" title=\"五、响应清晰度的改变\"></a>五、响应清晰度的改变</h2><p>在CustomMediaTransportControls.cs中的OnApplyTemplate中订阅ListView的SelectionChanged事件。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">event</span> EventHandler&lt;PlayInfoEventArgs&gt; PlayInfo\\_SelectionChanged; </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnApplyTemplate</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> playInfoListView = (ListView)GetTemplateChild(<span class=\"string\">&quot;PlayInfoListView&quot;</span>);</span><br><span class=\"line\">      playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">base</span>.OnApplyTemplate();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> PlayInfoListView\\_SelectionChanged(<span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">   <span class=\"keyword\">var</span> playInfoLV = sender <span class=\"keyword\">as</span> ListView;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(playInfoLV.SelectedIndex != <span class=\"number\">-1</span>)</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> info = PlayInfos\\[playInfoLV.SelectedIndex\\];</span><br><span class=\"line\">        PlayInfo\\_SelectionChanged?.Invoke(<span class=\"keyword\">this</span>, <span class=\"keyword\">new</span> PlayInfoEventArgs(info));</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PlayInfoEventArgs</span> : <span class=\"title\">EventArgs</span></span><br><span class=\"line\"> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">public</span> PlayInfo Infos &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">PlayInfoEventArgs</span>(<span class=\"params\">PlayInfo info</span>)</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">            Infos = info; </span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">```   </span><br><span class=\"line\"></span><br><span class=\"line\">然后在PlayVideoControl.xaml.cs页面订阅MediaTransportControl\\_PlayInfo\\_SelectionChanged事件，更改MediaPlayerElement的Source。</span><br><span class=\"line\">```c<span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> MediaTransportControl\\_PlayInfo\\_SelectionChanged(<span class=\"built_in\">object</span> sender, PlayInfoEventArgs e)</span><br><span class=\"line\">&#123;        </span><br><span class=\"line\">   <span class=\"keyword\">if</span>(playUrl != e.Infos.url)</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">      MainMediaPalyer.Source = MediaSource.CreateFromUri(<span class=\"keyword\">new</span> Uri(e.Infos.url));</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"六、全部代码\"><a href=\"#六、全部代码\" class=\"headerlink\" title=\"六、全部代码\"></a>六、全部代码</h2><h3 id=\"1、CustomMediaTransportControls-cs\"><a href=\"#1、CustomMediaTransportControls-cs\" class=\"headerlink\" title=\"1、CustomMediaTransportControls.cs\"></a>1、CustomMediaTransportControls.cs</h3><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> EyepetizerTest.Services;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.ObjectModel;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Data;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">EyepetizerTest.Controls</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">CustomMediaTransportControls</span>:<span class=\"title\">MediaTransportControls</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">event</span> EventHandler&lt;PlayInfoEventArgs&gt; PlayInfo\\_SelectionChanged;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> IsLoading = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CustomMediaTransportControls</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.DefaultStyleKey = <span class=\"keyword\">typeof</span>(CustomMediaTransportControls);</span><br><span class=\"line\">           </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> VideoTitle</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (<span class=\"built_in\">string</span>)GetValue(VideoTitleProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(VideoTitleProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for VideoTitle.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty VideoTitleProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;VideoTitle&quot;</span>, <span class=\"keyword\">typeof</span>(<span class=\"built_in\">string</span>), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> PlayInfo\\_SelectedIndex</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (<span class=\"built_in\">int</span>)GetValue(PlayInfo\\_SelectedIndexProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(PlayInfo\\_SelectedIndexProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfo\\_SelectedIndex.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfo\\_SelectedIndexProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfo\\_SelectedIndex&quot;</span>, <span class=\"keyword\">typeof</span>(<span class=\"built_in\">int</span>), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"number\">-1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> List&lt;PlayInfo&gt; PlayInfos</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (List&lt;PlayInfo&gt;)GetValue(PlayInfosProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(PlayInfosProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for PlayInfos.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty PlayInfosProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;PlayInfos&quot;</span>, <span class=\"keyword\">typeof</span>(List&lt;PlayInfo&gt;), <span class=\"keyword\">typeof</span>(CustomMediaTransportControls), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnApplyTemplate</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> playInfoListView = (ListView)GetTemplateChild(<span class=\"string\">&quot;PlayInfoListView&quot;</span>);</span><br><span class=\"line\">                playInfoListView.SelectionChanged += PlayInfoListView\\_SelectionChanged;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> rootGrid = (Grid)GetTemplateChild(<span class=\"string\">&quot;RootGrid&quot;</span>);</span><br><span class=\"line\">                rootGrid.PointerMoved += RootGrid\\_PointerMoved;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">base</span>.OnApplyTemplate();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> RootGrid\\_PointerMoved(<span class=\"built_in\">object</span> sender, Windows.UI.Xaml.Input.PointerRoutedEventArgs e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(IsLoading == <span class=\"literal\">false</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IsLoading = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> titlePanelFadeIn = (VisualState)GetTemplateChild(<span class=\"string\">&quot;TitlePanelFadeIn&quot;</span>);</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.BeginTime = <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">500</span>);</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Duration = <span class=\"keyword\">new</span> Duration(TimeSpan.FromSeconds(<span class=\"number\">4</span>));</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Begin();</span><br><span class=\"line\">                titlePanelFadeIn.Storyboard.Completed += Storyboard\\_Completed;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">                     </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> Storyboard\\_Completed(<span class=\"built_in\">object</span> sender, <span class=\"built_in\">object</span> e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> titlePanelFadeOut = (VisualState)GetTemplateChild(<span class=\"string\">&quot;TitlePanelFadeOut&quot;</span>);</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.BeginTime = <span class=\"keyword\">new</span> TimeSpan(<span class=\"number\">500</span>);</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.Begin();</span><br><span class=\"line\">            titlePanelFadeOut.Storyboard.Completed += Storyboard\\_Completed1;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> Storyboard\\_Completed1(<span class=\"built_in\">object</span> sender, <span class=\"built_in\">object</span> e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            IsLoading = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> PlayInfoListView\\_SelectionChanged(<span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> playInfoLV = sender <span class=\"keyword\">as</span> ListView;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(playInfoLV.SelectedIndex != <span class=\"number\">-1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> info = PlayInfos\\[playInfoLV.SelectedIndex\\];</span><br><span class=\"line\">                PlayInfo\\_SelectionChanged?.Invoke(<span class=\"keyword\">this</span>, <span class=\"keyword\">new</span> PlayInfoEventArgs(info));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">PlayInfoEventArgs</span> : <span class=\"title\">EventArgs</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> PlayInfo Infos &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">PlayInfoEventArgs</span>(<span class=\"params\">PlayInfo info</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Infos = info; </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2、MediaTransportControlsDictionary-xaml\"><a href=\"#2、MediaTransportControlsDictionary-xaml\" class=\"headerlink\" title=\"2、MediaTransportControlsDictionary.xaml\"></a>2、MediaTransportControlsDictionary.xaml</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br><span class=\"line\">873</span><br><span class=\"line\">874</span><br><span class=\"line\">875</span><br><span class=\"line\">876</span><br><span class=\"line\">877</span><br><span class=\"line\">878</span><br><span class=\"line\">879</span><br><span class=\"line\">880</span><br><span class=\"line\">881</span><br><span class=\"line\">882</span><br><span class=\"line\">883</span><br><span class=\"line\">884</span><br><span class=\"line\">885</span><br><span class=\"line\">886</span><br><span class=\"line\">887</span><br><span class=\"line\">888</span><br><span class=\"line\">889</span><br><span class=\"line\">890</span><br><span class=\"line\">891</span><br><span class=\"line\">892</span><br><span class=\"line\">893</span><br><span class=\"line\">894</span><br><span class=\"line\">895</span><br><span class=\"line\">896</span><br><span class=\"line\">897</span><br><span class=\"line\">898</span><br><span class=\"line\">899</span><br><span class=\"line\">900</span><br><span class=\"line\">901</span><br><span class=\"line\">902</span><br><span class=\"line\">903</span><br><span class=\"line\">904</span><br><span class=\"line\">905</span><br><span class=\"line\">906</span><br><span class=\"line\">907</span><br><span class=\"line\">908</span><br><span class=\"line\">909</span><br><span class=\"line\">910</span><br><span class=\"line\">911</span><br><span class=\"line\">912</span><br><span class=\"line\">913</span><br><span class=\"line\">914</span><br><span class=\"line\">915</span><br><span class=\"line\">916</span><br><span class=\"line\">917</span><br><span class=\"line\">918</span><br><span class=\"line\">919</span><br><span class=\"line\">920</span><br><span class=\"line\">921</span><br><span class=\"line\">922</span><br><span class=\"line\">923</span><br><span class=\"line\">924</span><br><span class=\"line\">925</span><br><span class=\"line\">926</span><br><span class=\"line\">927</span><br><span class=\"line\">928</span><br><span class=\"line\">929</span><br><span class=\"line\">930</span><br><span class=\"line\">931</span><br><span class=\"line\">932</span><br><span class=\"line\">933</span><br><span class=\"line\">934</span><br><span class=\"line\">935</span><br><span class=\"line\">936</span><br><span class=\"line\">937</span><br><span class=\"line\">938</span><br><span class=\"line\">939</span><br><span class=\"line\">940</span><br><span class=\"line\">941</span><br><span class=\"line\">942</span><br><span class=\"line\">943</span><br><span class=\"line\">944</span><br><span class=\"line\">945</span><br><span class=\"line\">946</span><br><span class=\"line\">947</span><br><span class=\"line\">948</span><br><span class=\"line\">949</span><br><span class=\"line\">950</span><br><span class=\"line\">951</span><br><span class=\"line\">952</span><br><span class=\"line\">953</span><br><span class=\"line\">954</span><br><span class=\"line\">955</span><br><span class=\"line\">956</span><br><span class=\"line\">957</span><br><span class=\"line\">958</span><br><span class=\"line\">959</span><br><span class=\"line\">960</span><br><span class=\"line\">961</span><br><span class=\"line\">962</span><br><span class=\"line\">963</span><br><span class=\"line\">964</span><br><span class=\"line\">965</span><br><span class=\"line\">966</span><br><span class=\"line\">967</span><br><span class=\"line\">968</span><br><span class=\"line\">969</span><br><span class=\"line\">970</span><br><span class=\"line\">971</span><br><span class=\"line\">972</span><br><span class=\"line\">973</span><br><span class=\"line\">974</span><br><span class=\"line\">975</span><br><span class=\"line\">976</span><br><span class=\"line\">977</span><br><span class=\"line\">978</span><br><span class=\"line\">979</span><br><span class=\"line\">980</span><br><span class=\"line\">981</span><br><span class=\"line\">982</span><br><span class=\"line\">983</span><br><span class=\"line\">984</span><br><span class=\"line\">985</span><br><span class=\"line\">986</span><br><span class=\"line\">987</span><br><span class=\"line\">988</span><br><span class=\"line\">989</span><br><span class=\"line\">990</span><br><span class=\"line\">991</span><br><span class=\"line\">992</span><br><span class=\"line\">993</span><br><span class=\"line\">994</span><br><span class=\"line\">995</span><br><span class=\"line\">996</span><br><span class=\"line\">997</span><br><span class=\"line\">998</span><br><span class=\"line\">999</span><br><span class=\"line\">1000</span><br><span class=\"line\">1001</span><br><span class=\"line\">1002</span><br><span class=\"line\">1003</span><br><span class=\"line\">1004</span><br><span class=\"line\">1005</span><br><span class=\"line\">1006</span><br><span class=\"line\">1007</span><br><span class=\"line\">1008</span><br><span class=\"line\">1009</span><br><span class=\"line\">1010</span><br><span class=\"line\">1011</span><br><span class=\"line\">1012</span><br><span class=\"line\">1013</span><br><span class=\"line\">1014</span><br><span class=\"line\">1015</span><br><span class=\"line\">1016</span><br><span class=\"line\">1017</span><br><span class=\"line\">1018</span><br><span class=\"line\">1019</span><br><span class=\"line\">1020</span><br><span class=\"line\">1021</span><br><span class=\"line\">1022</span><br><span class=\"line\">1023</span><br><span class=\"line\">1024</span><br><span class=\"line\">1025</span><br><span class=\"line\">1026</span><br><span class=\"line\">1027</span><br><span class=\"line\">1028</span><br><span class=\"line\">1029</span><br><span class=\"line\">1030</span><br><span class=\"line\">1031</span><br><span class=\"line\">1032</span><br><span class=\"line\">1033</span><br><span class=\"line\">1034</span><br><span class=\"line\">1035</span><br><span class=\"line\">1036</span><br><span class=\"line\">1037</span><br><span class=\"line\">1038</span><br><span class=\"line\">1039</span><br><span class=\"line\">1040</span><br><span class=\"line\">1041</span><br><span class=\"line\">1042</span><br><span class=\"line\">1043</span><br><span class=\"line\">1044</span><br><span class=\"line\">1045</span><br><span class=\"line\">1046</span><br><span class=\"line\">1047</span><br><span class=\"line\">1048</span><br><span class=\"line\">1049</span><br><span class=\"line\">1050</span><br><span class=\"line\">1051</span><br><span class=\"line\">1052</span><br><span class=\"line\">1053</span><br><span class=\"line\">1054</span><br><span class=\"line\">1055</span><br><span class=\"line\">1056</span><br><span class=\"line\">1057</span><br><span class=\"line\">1058</span><br><span class=\"line\">1059</span><br><span class=\"line\">1060</span><br><span class=\"line\">1061</span><br><span class=\"line\">1062</span><br><span class=\"line\">1063</span><br><span class=\"line\">1064</span><br><span class=\"line\">1065</span><br><span class=\"line\">1066</span><br><span class=\"line\">1067</span><br><span class=\"line\">1068</span><br><span class=\"line\">1069</span><br><span class=\"line\">1070</span><br><span class=\"line\">1071</span><br><span class=\"line\">1072</span><br><span class=\"line\">1073</span><br><span class=\"line\">1074</span><br><span class=\"line\">1075</span><br><span class=\"line\">1076</span><br><span class=\"line\">1077</span><br><span class=\"line\">1078</span><br><span class=\"line\">1079</span><br><span class=\"line\">1080</span><br><span class=\"line\">1081</span><br><span class=\"line\">1082</span><br><span class=\"line\">1083</span><br><span class=\"line\">1084</span><br><span class=\"line\">1085</span><br><span class=\"line\">1086</span><br><span class=\"line\">1087</span><br><span class=\"line\">1088</span><br><span class=\"line\">1089</span><br><span class=\"line\">1090</span><br><span class=\"line\">1091</span><br><span class=\"line\">1092</span><br><span class=\"line\">1093</span><br><span class=\"line\">1094</span><br><span class=\"line\">1095</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ResourceDictionary</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:x</span>=<span class=\"string\">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:local</span>=<span class=\"string\">&quot;using:EyepetizerTest.Styles&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:control</span>=<span class=\"string\">&quot;using:EyepetizerTest.Controls&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:service</span>=<span class=\"string\">&quot;using:EyepetizerTest.Services&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">xmlns:converter</span>=<span class=\"string\">&quot;using:EyepetizerTest.Converters&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Default style for MediaTransportControls --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;control:CustomMediaTransportControls&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MyMediaTransportControls&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTabStop&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FlowDirection&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;LeftToRight&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;UseSystemFocusVisuals&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;StaticResource UseSystemFocusVisuals&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTextScaleFactorEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;MediaTransportControls&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RootGrid&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                          <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                        <span class=\"tag\">&lt;<span class=\"name\">Grid.Resources</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"comment\">&lt;!-- New AppBar button style 48x48 pixels in size --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;AppBarButtonStyle&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;AppBarButton&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                   <span class=\"attr\">BasedOn</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonRevealStyle&#125;&quot;</span>&gt;</span><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Width&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonWidth&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;AllowFocusOnInteraction&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                            </span></span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- New AppBarToggle button style 48x48 pixels in size --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;AppBarToggleButtonStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;AppBarToggleButton&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">BasedOn</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarToggleButtonRevealStyle&#125;&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Width&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonWidth&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;AllowFocusOnInteraction&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- New CommandBar Style --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;CommandBarStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;CommandBar&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaButtonHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Error Message text --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaTextBlockStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;TextBlock&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;VerticalAlignment&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Center&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlForegroundBaseHighBrush&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontSize&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaFontSize&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontFamily&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MTCMediaFontFamily&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Style&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource CaptionTextBlockStyle &#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsTextScaleFactorEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Position slider used in Media Transport Controls --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaSliderStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Slider&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFill&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderBorderThemeThickness&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFill&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontFamily&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource ContentControlThemeFontFamily&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FontSize&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource ControlContentThemeFontSize&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;ManipulationMode&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;None&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;UseSystemFocusVisuals&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;StaticResource UseSystemFocusVisuals&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;FocusVisualMargin&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;-7,0,-7,0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;IsFocusEngagementEnabled&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                    <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                        <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Slider&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;&#123;TemplateBinding Padding&#125;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid.Resources</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Thumb&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;SliderThumbStyle&quot;</span>&gt;</span><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackground&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlBackgroundChromeMediumBrush&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Template&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Setter.Value</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ControlTemplate</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;Thumb&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Ellipse</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ellipse&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">Stroke</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">StrokeThickness</span>=<span class=\"string\">&quot;2&quot;</span></span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                             <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span> /&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-xml\">                                                    </span></span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;ProgressBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;MediaSliderProgressBarStyle&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Height&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Minimum&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Maximum&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;100&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Foreground&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlHighlightChromeAltLowBrush&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderBrush&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Transparent&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;BorderThickness&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                                    </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.Resources</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CommonStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Normal&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Pressed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPressed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Disabled&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HeaderContentPresenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Foreground&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderForegroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TopTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;BottomTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;LeftTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;RightTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFillDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundDisabled&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PointerOver&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderThumbBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Background&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackgroundPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Fill&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackValueFillPointerOver&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagementStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusDisengaged&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagedHorizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusEngagedVertical&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                               <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;(Control.IsTemplateFocusTarget)&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                            <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">ContentPresenter</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HeaderContentPresenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">x:DeferLoadStrategy</span>=<span class=\"string\">&quot;Lazy&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Foreground</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderForeground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderThemeMargin&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;TemplateBinding Header&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">ContentTemplate</span>=<span class=\"string\">&quot;&#123;TemplateBinding HeaderTemplate&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">FontWeight</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderHeaderThemeFontWeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">TextWrapping</span>=<span class=\"string\">&quot;Wrap&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;SliderContainer&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderContainerBackground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                      <span class=\"attr\">Control.IsTemplateFocusTarget</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalTemplate&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MinHeight</span>=<span class=\"string\">&quot;44&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">ProgressBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;DownloadProgressIndicator&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaSliderProgressBarStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Stretch&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                     <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TopTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalInlineTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderInlineTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;BottomTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Height</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,4,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Thumb</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;HorizontalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource SliderThumbStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Height</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Width</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">FocusVisualMargin</span>=<span class=\"string\">&quot;-14,-6,-14,-6&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">AutomationProperties.AccessibilityView</span>=<span class=\"string\">&quot;Raw&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ToolTipService.ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">ToolTip</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ThumbnailTooltip&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">ContentPresenter</span> <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">ToolTipService.ToolTip</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Thumb.DataContext</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;112&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                      <span class=\"attr\">Width</span>=<span class=\"string\">&quot;192&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ThumbnailImage&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlBackgroundBaseMediumBrush&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                            <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                            <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span>&gt;</span></span><br><span class=\"line\">                                                                        <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeElapsedPreview&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;6,1,6,3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource BodyTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">IsTextScaleFactorEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                   <span class=\"attr\">Foreground</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlPageTextBaseMediumBrush&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">Thumb.DataContext</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Thumb</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalTemplate&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MinWidth</span>=<span class=\"string\">&quot;44&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;18&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalTrackRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Background&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalDecreaseRect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;TemplateBinding Foreground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                   <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Right&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,4,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalInlineTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderInlineTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTrackThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">TickBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RightTickBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Fill</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderTickBarFill&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Width</span>=<span class=\"string\">&quot;&#123;ThemeResource SliderOutsideTickBarThemeHeight&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;4,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                 <span class=\"attr\">Grid.RowSpan</span>=<span class=\"string\">&quot;3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">Thumb</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VerticalThumb&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource SliderThumbStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">DataContext</span>=<span class=\"string\">&quot;&#123;TemplateBinding Value&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Width</span>=<span class=\"string\">&quot;24&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Height</span>=<span class=\"string\">&quot;8&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">FocusVisualMargin</span>=<span class=\"string\">&quot;-6,-14,-6,-14&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                               <span class=\"attr\">AutomationProperties.AccessibilityView</span>=<span class=\"string\">&quot;Raw&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Style for Volume Flyout used in Media Transport Controls --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Style</span> <span class=\"attr\">x:Key</span>=<span class=\"string\">&quot;FlyoutStyle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                   <span class=\"attr\">TargetType</span>=<span class=\"string\">&quot;FlyoutPresenter&quot;</span>&gt;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Background&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;&#123;ThemeResource MediaTransportControlsFlyoutBackground&#125;&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                                <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Property</span>=<span class=\"string\">&quot;Padding&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">                                        <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">                            </span><span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.Resources</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelFadeIn&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;-50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelFadeOut&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;IsHitTestVisible&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;-50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- ControlPanel Visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelVisibilityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelFadeIn&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.3&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelFadeOut&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">EasingDoubleKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">DoubleAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ObjectAnimationUsingKeyFrames</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;IsHitTestVisible&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">DiscreteObjectKeyFrame</span> <span class=\"attr\">KeyTime</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">ObjectAnimationUsingKeyFrames</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">From</span>=<span class=\"string\">&quot;0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;50&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0:0:0.7&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- ControlPanel Visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Media state visual states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Normal&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Buffering&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;BufferingProgressBar.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Loading&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;BufferingProgressBar.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;ProgressSlider&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;MediaControlsCommandBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Error&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;ErrorBorder.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Disabled&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Media state visual states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Audio Selection Button visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionAvailablityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionAvailable&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;AudioTracksSelectionButton.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioSelectionUnavailable&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Video volume visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Closed Captioning Selection Button visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionAvailablityStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionAvailable&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;CCSelectionButton.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Visible&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CCSelectionUnavailable&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Closed Captioning  visibility states --&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Focus states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FocusStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Focused&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;FocusVisualWhite&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">DoubleAnimation</span> <span class=\"attr\">Storyboard.TargetName</span>=<span class=\"string\">&quot;FocusVisualBlack&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Storyboard.TargetProperty</span>=<span class=\"string\">&quot;Opacity&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">To</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                         <span class=\"attr\">Duration</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Storyboard</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;Unfocused&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PointerFocused&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Focus states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControlMode&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;NormalMode&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CompactMode&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;LeftSidePlayBorder.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;TimeTextGrid.Visibility&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border.(Grid.Column)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;2&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border.(Grid.Row)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;MediaControlsCommandBar.Margin&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"comment\">&lt;!--&lt;Setter Target=&quot;PlayPauseButton.Visibility&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                Value=&quot;Collapsed&quot; /&gt;--&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- PlayPause states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayState&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PauseState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;PlayPauseSymbolLeft.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Pause&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;PlayPauseSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Pause&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- VolumeMute states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeMuteStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeState&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MuteState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;AudioMuteSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Mute&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;VolumeMuteSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;Mute&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- FullWindow states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;NonFullWindowState&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;FullWindowSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;BackToWindow&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!-- Repeat states --&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">VisualStateGroup</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatStates&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatNoneState&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatOneState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatSymbol.Symbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;RepeatOne&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatButton.IsChecked&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">VisualState</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatAllState&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Setter</span> <span class=\"attr\">Target</span>=<span class=\"string\">&quot;RepeatButton.IsChecked&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Value</span>=<span class=\"string\">&quot;True&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">VisualState.Setters</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">VisualState</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">VisualStateGroup</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">VisualStateManager.VisualStateGroups</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"comment\">&lt;!--顶部panel--&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitlePanelGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">RenderTransformOrigin</span>=<span class=\"string\">&quot;0.5,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TranslateTransform</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TranslateVerticalTop&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TitleTextBlock&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">FontSize</span>=<span class=\"string\">&quot;16&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,12,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                           <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding Path=VideoTitle,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanel\\_ControlPanelVisibilityStates\\_Border&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ControlPanelGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Background</span>=<span class=\"string\">&quot;Transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">RenderTransformOrigin</span>=<span class=\"string\">&quot;0.5,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TranslateTransform</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TranslateVertical&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RenderTransform</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">RowDefinition</span> <span class=\"attr\">Height</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Grid.RowDefinitions</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ErrorBorder&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Width</span>=<span class=\"string\">&quot;320&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Height</span>=<span class=\"string\">&quot;96&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.ColumnSpan</span>=<span class=\"string\">&quot;3&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource MediaTransportControlsPanelBackground&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ErrorTextBlock&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">TextWrapping</span>=<span class=\"string\">&quot;WrapWholeWords&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                               <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;12&quot;</span> /&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Timeline\\_Border&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Timeline\\_Grid&quot;</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;\\*&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">ColumnDefinition</span> <span class=\"attr\">Width</span>=<span class=\"string\">&quot;Auto&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Slider</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;ProgressSlider&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaSliderStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;12,0,0,14&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">MinWidth</span>=<span class=\"string\">&quot;80&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Height</span>=<span class=\"string\">&quot;33&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">IsThumbToolTipEnabled</span>=<span class=\"string\">&quot;False&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">ProgressBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;BufferingProgressBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Height</span>=<span class=\"string\">&quot;4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">IsIndeterminate</span>=<span class=\"string\">&quot;True&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">IsHitTestVisible</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,2,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                     <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,8&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;TextBlock x:Name=&quot;TimeElapsedElement&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Style=&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Margin=&quot;0&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       Text=&quot;00:00&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                       /&gt;--&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeStartTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;4,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">StackPanel</span> <span class=\"attr\">Orientation</span>=<span class=\"string\">&quot;Horizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseButtonOnLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,4&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Height</span>=<span class=\"string\">&quot;40&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                              <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseSymbolLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Play&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeElapsedElement&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Text</span>=<span class=\"string\">&quot;00:00&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                           <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,10&quot;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">StackPanel</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeReminTextGrid&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Right&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;TimeRemainingElement&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource MediaTextBlockStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Text</span>=<span class=\"string\">&quot;00:00&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                       <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0,0,10&quot;</span> /&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftSidePlayBorder&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                    <span class=\"comment\">&lt;!--&lt;AppBarButton x:Name=&quot;PlayPauseButtonOnLeft&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Margin=&quot;0&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Height=&quot;40&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                  Style=&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                        &lt;AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                            &lt;SymbolIcon x:Name=&quot;PlayPauseSymbolLeft&quot;</span></span><br><span class=\"line\"><span class=\"comment\">                                                        Symbol=&quot;Play&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                        &lt;/AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                    &lt;/AppBarButton&gt;--&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CastButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;11&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                              <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">Border</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaTransportControls\\_Command\\_Border&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Column</span>=<span class=\"string\">&quot;2&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                        <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">CommandBar</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;MediaControlsCommandBar&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource CommandBarStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                <span class=\"attr\">IsDynamicOverflowEnabled</span>=<span class=\"string\">&quot;False&quot;</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">CommandBar.PrimaryCommands</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseButton&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;23&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;&#123;Binding ElementName=StopButton,Path=Visibility&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayPauseSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Play&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--清晰度切换--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlayInfoButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Margin</span>=<span class=\"string\">&quot;8,0,0,0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&quot;&#123;StaticResource AppBarButtonStyle&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Content</span>=<span class=\"string\">&quot;&#123;Binding ElementName=PlayInfoListView,Path=SelectedItem.name&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoFlyout&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                            <span class=\"attr\">ShowMode</span>=<span class=\"string\">&quot;TransientWithDismissOnPointerMoveAway&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">ListView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;PlayInfoListView&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">Width</span>=<span class=\"string\">&quot;52&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfos,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                  <span class=\"attr\">SelectedIndex</span>=<span class=\"string\">&quot;&#123;Binding Path=PlayInfo\\_SelectedIndex,Mode=TwoWay,RelativeSource=&#123;RelativeSource TemplatedParent&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding name&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">ListView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">ListView</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeMuteButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;19&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">Flyout</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeFlyout&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                            <span class=\"attr\">FlyoutPresenterStyle</span>=<span class=\"string\">&quot;&#123;StaticResource FlyoutStyle&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;<span class=\"name\">StackPanel</span> <span class=\"attr\">Orientation</span>=<span class=\"string\">&quot;Horizontal&quot;</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;AudioMuteButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                          <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;12&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;AudioMuteSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Volume&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">Slider</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeSlider&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Value</span>=<span class=\"string\">&#x27;50&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">IsThumbToolTipEnabled</span>=<span class=\"string\">&#x27;False&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Width</span>=<span class=\"string\">&#x27;&#123;ThemeResource MTCHorizontalVolumeSliderWidth&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                    <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;0&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;VolumeValue&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource MediaTextBlockStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;Binding ElementName=VolumeSlider,Path=Value&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&#x27;Center&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Width</span>=<span class=\"string\">&#x27;24&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                       <span class=\"attr\">Margin</span>=<span class=\"string\">&#x27;12&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                                        <span class=\"tag\">&lt;/<span class=\"name\">StackPanel</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;/<span class=\"name\">Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Flyout</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;VolumeMuteSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;Volume&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CCSelectionButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;15&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;AudioTracksSelectionButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;13&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarSeparator x:Name=&#x27;LeftSeparator&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Height=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Width=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Margin=&#x27;0,0&#x27; /&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;StopButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Stop&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;7&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;SkipBackwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;5&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PreviousTrackButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Previous&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;3&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;RewindButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;FastForwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;NextTrackButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Icon</span>=<span class=\"string\">&#x27;Next&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;3&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span> /&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;SkipForwardButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;5&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;PlaybackRateButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;10&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarSeparator x:Name=&#x27;RightSeparator&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Height=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Width=&#x27;0&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                             Margin=&#x27;0,0&#x27; /&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarToggleButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;RepeatButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarToggleButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;1&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Visibility</span>=<span class=\"string\">&#x27;Collapsed&#x27;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarToggleButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RepeatSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;RepeatAll&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarToggleButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarToggleButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;ZoomButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;9&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Collapsed&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"comment\">&lt;!--&lt;AppBarButton x:Name=&#x27;CastButton&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          Style=&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          MediaTransportControlsHelper.DropoutOrder=&#x27;11&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">                                                          Visibility=&quot;Collapsed&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                &lt;AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                    &lt;FontIcon Glyph=&quot;&quot; /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                                &lt;/AppBarButton.Icon&gt;</span></span><br><span class=\"line\"><span class=\"comment\">                                            &lt;/AppBarButton&gt;--&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;CompactOverlayButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;24&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">FontIcon</span> <span class=\"attr\">Glyph</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">AppBarButton</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&#x27;FullWindowButton&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Style</span>=<span class=\"string\">&#x27;&#123;StaticResource AppBarButtonStyle&#125;&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">MediaTransportControlsHelper.DropoutOrder</span>=<span class=\"string\">&#x27;17&#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                          <span class=\"attr\">Visibility</span>=<span class=\"string\">&quot;Visible&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">SymbolIcon</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;FullWindowSymbol&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                                <span class=\"attr\">Symbol</span>=<span class=\"string\">&quot;FullScreen&quot;</span> /&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton.Icon</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">AppBarButton</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">CommandBar.PrimaryCommands</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">CommandBar</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Border</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">ControlTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Setter.Value</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Setter</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ResourceDictionary</span>&gt;</span></span><br></pre></td></tr></table></figure>"},{"title":"Win10 UWP添加定时触发的进程外后台任务","date":"2019-01-04T06:55:09.000Z","_content":"\n## 序\n\n添加后台任务是开发app，必需的功能。比如动态磁贴就需要后台任务的支持。但是怎么添加后台任务？添加后台任务后为什么不触发？还是有小伙伴遇到这样的问题。所以写下了这篇文章，记录如何快速简单的添加后台任务。\n\n## 一、新建解决方案\n\n1、新建windows通用项目，命名为“BackgroundTaskDemo\"\n\n![](https://grze2q.sn.files.1drv.com/y4mEZgNfocMGJFvGrNYC-mMxU3qoqf3bb49kzPBQiy25c_4OxmcC0wkfakRB93HeEh0bVTcNOF1kqCnw7FA9LNXlnmaBD3WHfTuNNOoV5vnsQ7E0pvI6gISXE34ZoqaC0CDHbEvSFoxeaPubzw6AOrN12XxqpuIgMHNxZWcTcj_q1b4c-oDDSkKrqQo4QkGHmgZM1e-UwynOO580D3WVi7c_Q?width=941&height=660&cropmode=none)\n\n2、在解决方案资源管理器，右键解决方案，选择”添加“-”新建项目“，新建windows运行时组件。命名为”BackgroundTasks“，应用内所有的后台任务都写在这里面。\n\n![](https://hisffa.sn.files.1drv.com/y4mMC5Swk-p2vnZzzfh5QA9YnTEIf0Sc5O7wMAWuSy5Fr5o3UqMeZtTwmMn5i_lubcEl3GoRoBzZZAbwJac_Byr7T7dlZ63IEGWLLBqQjCXojyTL37JDcd7CDvfibiGhoTZKr2o03-LgMwQGTeSM8lr_I8HcJyvgRtvgTxe4ex5xv9rOZ42XynEvHfOCFQ0jCMl1Dw-ygDe1pX-lKfF8zcQuQ?width=941&height=660&cropmode=none)\n\n3、删掉默认的class1.cs，新建一个类，命名为“ToastBackgroundTask\"\n\n## 二、配置后台任务\n\n1、在”BackgroundTaskDemo\"中，打开“Package.appxmanifest”，按下图设置。\n\n![](https://31pxcq.sn.files.1drv.com/y4mwHaLkjVReQZsWB2xb7QbOsb1ush4og3qZJyUpWLQkX-dudOHaPQT3aoQcOngjP1UUL0HxDHeU-WCEeY68eU82GdwIiMQw5omPYY1QGnHHXntBjcrFMY8LJP138oJptlpzkg5jMIfh3I0gXtFp8I21tjHPZsHTVLl1mpDdsy7UWrMAR-c8sWayZ-hSgjIQXX13XHk3Cl7yeebWfSu0AYz8w?width=973&height=751&cropmode=none)\n\n## 三、写后台事件的类\n\n1、由于很多方法在windows运行组件里是不能写的，所以这里单独新建一个类库项目。\n\n![](https://es8yra.sn.files.1drv.com/y4mvxqD3M4YLQitVzPnlDWuAFT0_c3o0jXqH4pAgJuvU6cYg4dZV8dZPqDYelbn7lQaRR1hBQDBmkms9k8ejiI0ovgr9dwvMsHG74dE5ta9N2Ha0DG7wm0_jQOU3HiTcAK3R2w4ymydnvpBxyqD4YX--ZblUfongw6zsd67mUmyREEo_QG8IYurWamqKSZ0YKExl34MU8Zugt_GglJheywRsA?width=942&height=660&cropmode=none)\n\n2、新建一个类，命名为”ToastBackgroundTaskHelper“，这里是做了一个Toast通知。代码如下：（需要安装Nuget：”Microsoft.Toolkit.Uwp.Notifications“）\n\n```c#\nusing Microsoft.Toolkit.Uwp.Notifications;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.UI.Notifications;\n\nnamespace BackgroundTaskShare\n{\n    public class ToastBackgroundTaskHelper\n    {\n\n        public static void PopToast()\n        {\n            // Generate the toast notification content and pop the toast\n            ToastContent content = GenerateToastContent();\n            ToastNotificationManager.CreateToastNotifier().Show(new ToastNotification(content.GetXml()));\n        }\n\n        public static ToastContent GenerateToastContent()\n        {\n            return new ToastContent()\n            {\n                Launch = \"action=viewEvent&eventId=1983\",\n                Scenario = ToastScenario.Reminder,\n\n                Visual = new ToastVisual()\n                {\n                    BindingGeneric = new ToastBindingGeneric()\n                    {\n                        Children =\n                {\n                    new AdaptiveText()\n                    {\n                        Text = \"Adaptive Tiles Meeting\"\n                    },\n\n                    new AdaptiveText()\n                    {\n                        Text = \"Conf Room 2001 / Building 135\"\n                    },\n\n                    new AdaptiveText()\n                    {\n                        Text = \"10:00 AM - 10:30 AM\"\n                    }\n                }\n                    }\n                },\n\n                Actions = new ToastActionsCustom()\n                {\n                    Inputs =\n            {\n                new ToastSelectionBox(\"snoozeTime\")\n                {\n                    DefaultSelectionBoxItemId = \"15\",\n                    Items =\n                    {\n                        new ToastSelectionBoxItem(\"1\", \"1 minute\"),\n                        new ToastSelectionBoxItem(\"15\", \"15 minutes\"),\n                        new ToastSelectionBoxItem(\"60\", \"1 hour\"),\n                        new ToastSelectionBoxItem(\"240\", \"4 hours\"),\n                        new ToastSelectionBoxItem(\"1440\", \"1 day\")\n                    }\n                }\n            },\n\n                    Buttons =\n            {\n                new ToastButtonSnooze()\n                {\n                    SelectionBoxId = \"snoozeTime\"\n                },\n\n                new ToastButtonDismiss()\n            }\n                }\n            };\n        }\n\n    }\n}\n```\n\n## 四、处理 ToastBackgroundTask\n\n1、要调用 ToastBackgroundTaskHelper 里面的方法，首先需要在BackgroundTasks中添加对BackgroundTaskShare的引用。\n\n![](https://i9jkqq.sn.files.1drv.com/y4mOeNFptIgyJSNCO3Yztx-okWGBzNMwLD2TPjaA0G5bSXNvfByNvGr3us4LbGKgpLalRlp5tiRZbK2zT6Zb-OeiPCiabopQ2QsJpRtKcGIyba3GeN1QgaEyJD1LqRT2mzjrSeD3Q3za8SGdAVr3nCE0I19MBzxg4BksWLQvfNApp3kffFjRsSMAHpSEZBNvJF6X3ocdAaOEScrm3s8dwemAA?width=783&height=550&cropmode=none)\n\n2、处理ToastBackgroundTask.cs，代码如下，\n\n```c#\nusing Microsoft.Toolkit.Uwp.Notifications;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.ApplicationModel.Background;\n\nnamespace BackgroundTasks\n{\n    // 记得要加sealed\n    public sealed class ToastBackgroundTask:IBackgroundTask\n    {\n        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            var defferral = taskInstance.GetDeferral();\n            // 这里写你的后台操作，操作耗时如果超过5秒就失败了,有异步操作的记得加async\n            BackgroundTaskShare.ToastBackgroundTaskHelper.PopToast();\n\n            defferral.Complete();\n        }\n\n       \n\n    }\n}\n```\n\n## 五、注册和取消后台任务\n\n1、首先在BackgroundTaskDemo中添加对“BackgroundTasks”的引用。\n\n![](https://vkbysw.sn.files.1drv.com/y4mbWOfwMigZNxO5-C5ggEYRbqa2JyPlr1sEXYBqs0sp5sQcVI5-8S7wBBZh8TezfultiHUAda3cHuDACAw24X2wGz4XK7kwKQ3XoBV9uaszU0lYwcp5Io_XrOsERq807hUkoWJC-FJ4iyJYa6EQEo8nqTVuPYTSddgTvBRsWtyC4fKa4y9t9CMAthRmzij_MUdKCVRWT0-qGZevo80aQZ4lA?width=786&height=550&cropmode=none)\n\n2、在 BackgroundTaskDemo中安装Nuget：“Microsoft.Toolkit.Uwp”，使用如下方法进行注册和取消后台任务。\n\n```c#\n// 注册 \nBackgroundTaskRegistration registered =                    BackgroundTaskHelper.Register(typeof(BackgroundTasks.ToastBackgroundTask),new TimeTrigger(15, false), false, true, new SystemCondition(SystemConditionType.InternetAvailable));\n\n// 取消\nBackgroundTaskHelper.Unregister(typeof(BackgroundTasks.ToastBackgroundTask));\n```\n\n上面设置为在有网络的情况下每15分钟触发一次后台任务。\n\n## 六、调试后台任务\n\n1、运行Demo后注册后台任务，稍等一会儿，点开VS的生命周期事件，就可以看到ToastBackgroundTask。需要调试的话就可以在 ToastBackgroundTask 中设置断点。\n\n![](https://sy0ola.sn.files.1drv.com/y4mfruaIRS7XasDPB6QBGD-ndEQ1iduTqgvrxQlf0ldx5PYrkMYUeWTUQaHPeRU1YdSGUgwDlPnMRBH9KvHOT_79_efakAK07QTKQvx7SIDXkNcacVM7T0_VHFdQgVKOwhRl-Y-hhK6SDPf0Z1yqIQO7uEw_ks-dlCQ6eQwEAm5SyzKMgmx7LP30A5Xq30s11YvGmpDmXSOxfqFMoIli5-TFw?width=775&height=427&cropmode=none)\n\n2、点击后就会立刻运行后台任务，结果如下。说明代码是没有问题的。\n\n![](https://5qg1ng.sn.files.1drv.com/y4m_bEkZvH08yU2CtNpH67jy6jb4cDqoU6UJ2tLRJBL9KDMvFzVPK6AVW5K5q7waOwRUK5GMBOzCAFBtVt7XA3LzdTDZYsRwsBshuBYe1NIBpz81IP-hTxXe8MvkZuKXcWIYLGblDlaxLoDXQshxe-cPmhz8xHVa8gx1BgvVFoPjkM58Xy_WUX_LZjxS3ccTX3be_MEt_atm2wxC7m_cUFwOw?width=456&height=288&cropmode=none)\n\n这样子就大功告成了。需要的可以下载Demo。\n\n## 七、Demo下载\n\n[BackgroundTaskDemo](https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip)[Download](https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip)","source":"_posts/UWP/win10-uwp-timetrigger-backgroundtask.md","raw":"---\ntitle: Win10 UWP添加定时触发的进程外后台任务\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2019-01-04 14:55:09\n---\n\n## 序\n\n添加后台任务是开发app，必需的功能。比如动态磁贴就需要后台任务的支持。但是怎么添加后台任务？添加后台任务后为什么不触发？还是有小伙伴遇到这样的问题。所以写下了这篇文章，记录如何快速简单的添加后台任务。\n\n## 一、新建解决方案\n\n1、新建windows通用项目，命名为“BackgroundTaskDemo\"\n\n![](https://grze2q.sn.files.1drv.com/y4mEZgNfocMGJFvGrNYC-mMxU3qoqf3bb49kzPBQiy25c_4OxmcC0wkfakRB93HeEh0bVTcNOF1kqCnw7FA9LNXlnmaBD3WHfTuNNOoV5vnsQ7E0pvI6gISXE34ZoqaC0CDHbEvSFoxeaPubzw6AOrN12XxqpuIgMHNxZWcTcj_q1b4c-oDDSkKrqQo4QkGHmgZM1e-UwynOO580D3WVi7c_Q?width=941&height=660&cropmode=none)\n\n2、在解决方案资源管理器，右键解决方案，选择”添加“-”新建项目“，新建windows运行时组件。命名为”BackgroundTasks“，应用内所有的后台任务都写在这里面。\n\n![](https://hisffa.sn.files.1drv.com/y4mMC5Swk-p2vnZzzfh5QA9YnTEIf0Sc5O7wMAWuSy5Fr5o3UqMeZtTwmMn5i_lubcEl3GoRoBzZZAbwJac_Byr7T7dlZ63IEGWLLBqQjCXojyTL37JDcd7CDvfibiGhoTZKr2o03-LgMwQGTeSM8lr_I8HcJyvgRtvgTxe4ex5xv9rOZ42XynEvHfOCFQ0jCMl1Dw-ygDe1pX-lKfF8zcQuQ?width=941&height=660&cropmode=none)\n\n3、删掉默认的class1.cs，新建一个类，命名为“ToastBackgroundTask\"\n\n## 二、配置后台任务\n\n1、在”BackgroundTaskDemo\"中，打开“Package.appxmanifest”，按下图设置。\n\n![](https://31pxcq.sn.files.1drv.com/y4mwHaLkjVReQZsWB2xb7QbOsb1ush4og3qZJyUpWLQkX-dudOHaPQT3aoQcOngjP1UUL0HxDHeU-WCEeY68eU82GdwIiMQw5omPYY1QGnHHXntBjcrFMY8LJP138oJptlpzkg5jMIfh3I0gXtFp8I21tjHPZsHTVLl1mpDdsy7UWrMAR-c8sWayZ-hSgjIQXX13XHk3Cl7yeebWfSu0AYz8w?width=973&height=751&cropmode=none)\n\n## 三、写后台事件的类\n\n1、由于很多方法在windows运行组件里是不能写的，所以这里单独新建一个类库项目。\n\n![](https://es8yra.sn.files.1drv.com/y4mvxqD3M4YLQitVzPnlDWuAFT0_c3o0jXqH4pAgJuvU6cYg4dZV8dZPqDYelbn7lQaRR1hBQDBmkms9k8ejiI0ovgr9dwvMsHG74dE5ta9N2Ha0DG7wm0_jQOU3HiTcAK3R2w4ymydnvpBxyqD4YX--ZblUfongw6zsd67mUmyREEo_QG8IYurWamqKSZ0YKExl34MU8Zugt_GglJheywRsA?width=942&height=660&cropmode=none)\n\n2、新建一个类，命名为”ToastBackgroundTaskHelper“，这里是做了一个Toast通知。代码如下：（需要安装Nuget：”Microsoft.Toolkit.Uwp.Notifications“）\n\n```c#\nusing Microsoft.Toolkit.Uwp.Notifications;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.UI.Notifications;\n\nnamespace BackgroundTaskShare\n{\n    public class ToastBackgroundTaskHelper\n    {\n\n        public static void PopToast()\n        {\n            // Generate the toast notification content and pop the toast\n            ToastContent content = GenerateToastContent();\n            ToastNotificationManager.CreateToastNotifier().Show(new ToastNotification(content.GetXml()));\n        }\n\n        public static ToastContent GenerateToastContent()\n        {\n            return new ToastContent()\n            {\n                Launch = \"action=viewEvent&eventId=1983\",\n                Scenario = ToastScenario.Reminder,\n\n                Visual = new ToastVisual()\n                {\n                    BindingGeneric = new ToastBindingGeneric()\n                    {\n                        Children =\n                {\n                    new AdaptiveText()\n                    {\n                        Text = \"Adaptive Tiles Meeting\"\n                    },\n\n                    new AdaptiveText()\n                    {\n                        Text = \"Conf Room 2001 / Building 135\"\n                    },\n\n                    new AdaptiveText()\n                    {\n                        Text = \"10:00 AM - 10:30 AM\"\n                    }\n                }\n                    }\n                },\n\n                Actions = new ToastActionsCustom()\n                {\n                    Inputs =\n            {\n                new ToastSelectionBox(\"snoozeTime\")\n                {\n                    DefaultSelectionBoxItemId = \"15\",\n                    Items =\n                    {\n                        new ToastSelectionBoxItem(\"1\", \"1 minute\"),\n                        new ToastSelectionBoxItem(\"15\", \"15 minutes\"),\n                        new ToastSelectionBoxItem(\"60\", \"1 hour\"),\n                        new ToastSelectionBoxItem(\"240\", \"4 hours\"),\n                        new ToastSelectionBoxItem(\"1440\", \"1 day\")\n                    }\n                }\n            },\n\n                    Buttons =\n            {\n                new ToastButtonSnooze()\n                {\n                    SelectionBoxId = \"snoozeTime\"\n                },\n\n                new ToastButtonDismiss()\n            }\n                }\n            };\n        }\n\n    }\n}\n```\n\n## 四、处理 ToastBackgroundTask\n\n1、要调用 ToastBackgroundTaskHelper 里面的方法，首先需要在BackgroundTasks中添加对BackgroundTaskShare的引用。\n\n![](https://i9jkqq.sn.files.1drv.com/y4mOeNFptIgyJSNCO3Yztx-okWGBzNMwLD2TPjaA0G5bSXNvfByNvGr3us4LbGKgpLalRlp5tiRZbK2zT6Zb-OeiPCiabopQ2QsJpRtKcGIyba3GeN1QgaEyJD1LqRT2mzjrSeD3Q3za8SGdAVr3nCE0I19MBzxg4BksWLQvfNApp3kffFjRsSMAHpSEZBNvJF6X3ocdAaOEScrm3s8dwemAA?width=783&height=550&cropmode=none)\n\n2、处理ToastBackgroundTask.cs，代码如下，\n\n```c#\nusing Microsoft.Toolkit.Uwp.Notifications;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Windows.ApplicationModel.Background;\n\nnamespace BackgroundTasks\n{\n    // 记得要加sealed\n    public sealed class ToastBackgroundTask:IBackgroundTask\n    {\n        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            var defferral = taskInstance.GetDeferral();\n            // 这里写你的后台操作，操作耗时如果超过5秒就失败了,有异步操作的记得加async\n            BackgroundTaskShare.ToastBackgroundTaskHelper.PopToast();\n\n            defferral.Complete();\n        }\n\n       \n\n    }\n}\n```\n\n## 五、注册和取消后台任务\n\n1、首先在BackgroundTaskDemo中添加对“BackgroundTasks”的引用。\n\n![](https://vkbysw.sn.files.1drv.com/y4mbWOfwMigZNxO5-C5ggEYRbqa2JyPlr1sEXYBqs0sp5sQcVI5-8S7wBBZh8TezfultiHUAda3cHuDACAw24X2wGz4XK7kwKQ3XoBV9uaszU0lYwcp5Io_XrOsERq807hUkoWJC-FJ4iyJYa6EQEo8nqTVuPYTSddgTvBRsWtyC4fKa4y9t9CMAthRmzij_MUdKCVRWT0-qGZevo80aQZ4lA?width=786&height=550&cropmode=none)\n\n2、在 BackgroundTaskDemo中安装Nuget：“Microsoft.Toolkit.Uwp”，使用如下方法进行注册和取消后台任务。\n\n```c#\n// 注册 \nBackgroundTaskRegistration registered =                    BackgroundTaskHelper.Register(typeof(BackgroundTasks.ToastBackgroundTask),new TimeTrigger(15, false), false, true, new SystemCondition(SystemConditionType.InternetAvailable));\n\n// 取消\nBackgroundTaskHelper.Unregister(typeof(BackgroundTasks.ToastBackgroundTask));\n```\n\n上面设置为在有网络的情况下每15分钟触发一次后台任务。\n\n## 六、调试后台任务\n\n1、运行Demo后注册后台任务，稍等一会儿，点开VS的生命周期事件，就可以看到ToastBackgroundTask。需要调试的话就可以在 ToastBackgroundTask 中设置断点。\n\n![](https://sy0ola.sn.files.1drv.com/y4mfruaIRS7XasDPB6QBGD-ndEQ1iduTqgvrxQlf0ldx5PYrkMYUeWTUQaHPeRU1YdSGUgwDlPnMRBH9KvHOT_79_efakAK07QTKQvx7SIDXkNcacVM7T0_VHFdQgVKOwhRl-Y-hhK6SDPf0Z1yqIQO7uEw_ks-dlCQ6eQwEAm5SyzKMgmx7LP30A5Xq30s11YvGmpDmXSOxfqFMoIli5-TFw?width=775&height=427&cropmode=none)\n\n2、点击后就会立刻运行后台任务，结果如下。说明代码是没有问题的。\n\n![](https://5qg1ng.sn.files.1drv.com/y4m_bEkZvH08yU2CtNpH67jy6jb4cDqoU6UJ2tLRJBL9KDMvFzVPK6AVW5K5q7waOwRUK5GMBOzCAFBtVt7XA3LzdTDZYsRwsBshuBYe1NIBpz81IP-hTxXe8MvkZuKXcWIYLGblDlaxLoDXQshxe-cPmhz8xHVa8gx1BgvVFoPjkM58Xy_WUX_LZjxS3ccTX3be_MEt_atm2wxC7m_cUFwOw?width=456&height=288&cropmode=none)\n\n这样子就大功告成了。需要的可以下载Demo。\n\n## 七、Demo下载\n\n[BackgroundTaskDemo](https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip)[Download](https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip)","slug":"UWP/win10-uwp-timetrigger-backgroundtask","published":1,"updated":"2025-02-21T10:54:54.009Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1y002bews72rpt8eua","content":"<h2 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h2><p>添加后台任务是开发app，必需的功能。比如动态磁贴就需要后台任务的支持。但是怎么添加后台任务？添加后台任务后为什么不触发？还是有小伙伴遇到这样的问题。所以写下了这篇文章，记录如何快速简单的添加后台任务。</p>\n<h2 id=\"一、新建解决方案\"><a href=\"#一、新建解决方案\" class=\"headerlink\" title=\"一、新建解决方案\"></a>一、新建解决方案</h2><p>1、新建windows通用项目，命名为“BackgroundTaskDemo”</p>\n<p><img src=\"https://grze2q.sn.files.1drv.com/y4mEZgNfocMGJFvGrNYC-mMxU3qoqf3bb49kzPBQiy25c_4OxmcC0wkfakRB93HeEh0bVTcNOF1kqCnw7FA9LNXlnmaBD3WHfTuNNOoV5vnsQ7E0pvI6gISXE34ZoqaC0CDHbEvSFoxeaPubzw6AOrN12XxqpuIgMHNxZWcTcj_q1b4c-oDDSkKrqQo4QkGHmgZM1e-UwynOO580D3WVi7c_Q?width=941&height=660&cropmode=none\"></p>\n<p>2、在解决方案资源管理器，右键解决方案，选择”添加“-”新建项目“，新建windows运行时组件。命名为”BackgroundTasks“，应用内所有的后台任务都写在这里面。</p>\n<p><img src=\"https://hisffa.sn.files.1drv.com/y4mMC5Swk-p2vnZzzfh5QA9YnTEIf0Sc5O7wMAWuSy5Fr5o3UqMeZtTwmMn5i_lubcEl3GoRoBzZZAbwJac_Byr7T7dlZ63IEGWLLBqQjCXojyTL37JDcd7CDvfibiGhoTZKr2o03-LgMwQGTeSM8lr_I8HcJyvgRtvgTxe4ex5xv9rOZ42XynEvHfOCFQ0jCMl1Dw-ygDe1pX-lKfF8zcQuQ?width=941&height=660&cropmode=none\"></p>\n<p>3、删掉默认的class1.cs，新建一个类，命名为“ToastBackgroundTask”</p>\n<h2 id=\"二、配置后台任务\"><a href=\"#二、配置后台任务\" class=\"headerlink\" title=\"二、配置后台任务\"></a>二、配置后台任务</h2><p>1、在”BackgroundTaskDemo”中，打开“Package.appxmanifest”，按下图设置。</p>\n<p><img src=\"https://31pxcq.sn.files.1drv.com/y4mwHaLkjVReQZsWB2xb7QbOsb1ush4og3qZJyUpWLQkX-dudOHaPQT3aoQcOngjP1UUL0HxDHeU-WCEeY68eU82GdwIiMQw5omPYY1QGnHHXntBjcrFMY8LJP138oJptlpzkg5jMIfh3I0gXtFp8I21tjHPZsHTVLl1mpDdsy7UWrMAR-c8sWayZ-hSgjIQXX13XHk3Cl7yeebWfSu0AYz8w?width=973&height=751&cropmode=none\"></p>\n<h2 id=\"三、写后台事件的类\"><a href=\"#三、写后台事件的类\" class=\"headerlink\" title=\"三、写后台事件的类\"></a>三、写后台事件的类</h2><p>1、由于很多方法在windows运行组件里是不能写的，所以这里单独新建一个类库项目。</p>\n<p><img src=\"https://es8yra.sn.files.1drv.com/y4mvxqD3M4YLQitVzPnlDWuAFT0_c3o0jXqH4pAgJuvU6cYg4dZV8dZPqDYelbn7lQaRR1hBQDBmkms9k8ejiI0ovgr9dwvMsHG74dE5ta9N2Ha0DG7wm0_jQOU3HiTcAK3R2w4ymydnvpBxyqD4YX--ZblUfongw6zsd67mUmyREEo_QG8IYurWamqKSZ0YKExl34MU8Zugt_GglJheywRsA?width=942&height=660&cropmode=none\"></p>\n<p>2、新建一个类，命名为”ToastBackgroundTaskHelper“，这里是做了一个Toast通知。代码如下：（需要安装Nuget：”Microsoft.Toolkit.Uwp.Notifications“）</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Toolkit.Uwp.Notifications;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Notifications;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">BackgroundTaskShare</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ToastBackgroundTaskHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">PopToast</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Generate the toast notification content and pop the toast</span></span><br><span class=\"line\">            ToastContent content = GenerateToastContent();</span><br><span class=\"line\">            ToastNotificationManager.CreateToastNotifier().Show(<span class=\"keyword\">new</span> ToastNotification(content.GetXml()));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ToastContent <span class=\"title\">GenerateToastContent</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ToastContent()</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Launch = <span class=\"string\">&quot;action=viewEvent&amp;eventId=1983&quot;</span>,</span><br><span class=\"line\">                Scenario = ToastScenario.Reminder,</span><br><span class=\"line\"></span><br><span class=\"line\">                Visual = <span class=\"keyword\">new</span> ToastVisual()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    BindingGeneric = <span class=\"keyword\">new</span> ToastBindingGeneric()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Children =</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;Adaptive Tiles Meeting&quot;</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;Conf Room 2001 / Building 135&quot;</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;10:00 AM - 10:30 AM&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                Actions = <span class=\"keyword\">new</span> ToastActionsCustom()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Inputs =</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastSelectionBox(<span class=\"string\">&quot;snoozeTime&quot;</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    DefaultSelectionBoxItemId = <span class=\"string\">&quot;15&quot;</span>,</span><br><span class=\"line\">                    Items =</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;1&quot;</span>, <span class=\"string\">&quot;1 minute&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;15&quot;</span>, <span class=\"string\">&quot;15 minutes&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;60&quot;</span>, <span class=\"string\">&quot;1 hour&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;240&quot;</span>, <span class=\"string\">&quot;4 hours&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;1440&quot;</span>, <span class=\"string\">&quot;1 day&quot;</span>)</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    Buttons =</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastButtonSnooze()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    SelectionBoxId = <span class=\"string\">&quot;snoozeTime&quot;</span></span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastButtonDismiss()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"四、处理-ToastBackgroundTask\"><a href=\"#四、处理-ToastBackgroundTask\" class=\"headerlink\" title=\"四、处理 ToastBackgroundTask\"></a>四、处理 ToastBackgroundTask</h2><p>1、要调用 ToastBackgroundTaskHelper 里面的方法，首先需要在BackgroundTasks中添加对BackgroundTaskShare的引用。</p>\n<p><img src=\"https://i9jkqq.sn.files.1drv.com/y4mOeNFptIgyJSNCO3Yztx-okWGBzNMwLD2TPjaA0G5bSXNvfByNvGr3us4LbGKgpLalRlp5tiRZbK2zT6Zb-OeiPCiabopQ2QsJpRtKcGIyba3GeN1QgaEyJD1LqRT2mzjrSeD3Q3za8SGdAVr3nCE0I19MBzxg4BksWLQvfNApp3kffFjRsSMAHpSEZBNvJF6X3ocdAaOEScrm3s8dwemAA?width=783&height=550&cropmode=none\"></p>\n<p>2、处理ToastBackgroundTask.cs，代码如下，</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Toolkit.Uwp.Notifications;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.ApplicationModel.Background;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">BackgroundTasks</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 记得要加sealed</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">ToastBackgroundTask</span>:<span class=\"title\">IBackgroundTask</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Run</span>(<span class=\"params\">IBackgroundTaskInstance taskInstance</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> defferral = taskInstance.GetDeferral();</span><br><span class=\"line\">            <span class=\"comment\">// 这里写你的后台操作，操作耗时如果超过5秒就失败了,有异步操作的记得加async</span></span><br><span class=\"line\">            BackgroundTaskShare.ToastBackgroundTaskHelper.PopToast();</span><br><span class=\"line\"></span><br><span class=\"line\">            defferral.Complete();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       </span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"五、注册和取消后台任务\"><a href=\"#五、注册和取消后台任务\" class=\"headerlink\" title=\"五、注册和取消后台任务\"></a>五、注册和取消后台任务</h2><p>1、首先在BackgroundTaskDemo中添加对“BackgroundTasks”的引用。</p>\n<p><img src=\"https://vkbysw.sn.files.1drv.com/y4mbWOfwMigZNxO5-C5ggEYRbqa2JyPlr1sEXYBqs0sp5sQcVI5-8S7wBBZh8TezfultiHUAda3cHuDACAw24X2wGz4XK7kwKQ3XoBV9uaszU0lYwcp5Io_XrOsERq807hUkoWJC-FJ4iyJYa6EQEo8nqTVuPYTSddgTvBRsWtyC4fKa4y9t9CMAthRmzij_MUdKCVRWT0-qGZevo80aQZ4lA?width=786&height=550&cropmode=none\"></p>\n<p>2、在 BackgroundTaskDemo中安装Nuget：“Microsoft.Toolkit.Uwp”，使用如下方法进行注册和取消后台任务。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 注册 </span></span><br><span class=\"line\">BackgroundTaskRegistration registered =                    BackgroundTaskHelper.Register(<span class=\"keyword\">typeof</span>(BackgroundTasks.ToastBackgroundTask),<span class=\"keyword\">new</span> TimeTrigger(<span class=\"number\">15</span>, <span class=\"literal\">false</span>), <span class=\"literal\">false</span>, <span class=\"literal\">true</span>, <span class=\"keyword\">new</span> SystemCondition(SystemConditionType.InternetAvailable));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 取消</span></span><br><span class=\"line\">BackgroundTaskHelper.Unregister(<span class=\"keyword\">typeof</span>(BackgroundTasks.ToastBackgroundTask));</span><br></pre></td></tr></table></figure>\n\n<p>上面设置为在有网络的情况下每15分钟触发一次后台任务。</p>\n<h2 id=\"六、调试后台任务\"><a href=\"#六、调试后台任务\" class=\"headerlink\" title=\"六、调试后台任务\"></a>六、调试后台任务</h2><p>1、运行Demo后注册后台任务，稍等一会儿，点开VS的生命周期事件，就可以看到ToastBackgroundTask。需要调试的话就可以在 ToastBackgroundTask 中设置断点。</p>\n<p><img src=\"https://sy0ola.sn.files.1drv.com/y4mfruaIRS7XasDPB6QBGD-ndEQ1iduTqgvrxQlf0ldx5PYrkMYUeWTUQaHPeRU1YdSGUgwDlPnMRBH9KvHOT_79_efakAK07QTKQvx7SIDXkNcacVM7T0_VHFdQgVKOwhRl-Y-hhK6SDPf0Z1yqIQO7uEw_ks-dlCQ6eQwEAm5SyzKMgmx7LP30A5Xq30s11YvGmpDmXSOxfqFMoIli5-TFw?width=775&height=427&cropmode=none\"></p>\n<p>2、点击后就会立刻运行后台任务，结果如下。说明代码是没有问题的。</p>\n<p><img src=\"https://5qg1ng.sn.files.1drv.com/y4m_bEkZvH08yU2CtNpH67jy6jb4cDqoU6UJ2tLRJBL9KDMvFzVPK6AVW5K5q7waOwRUK5GMBOzCAFBtVt7XA3LzdTDZYsRwsBshuBYe1NIBpz81IP-hTxXe8MvkZuKXcWIYLGblDlaxLoDXQshxe-cPmhz8xHVa8gx1BgvVFoPjkM58Xy_WUX_LZjxS3ccTX3be_MEt_atm2wxC7m_cUFwOw?width=456&height=288&cropmode=none\"></p>\n<p>这样子就大功告成了。需要的可以下载Demo。</p>\n<h2 id=\"七、Demo下载\"><a href=\"#七、Demo下载\" class=\"headerlink\" title=\"七、Demo下载\"></a>七、Demo下载</h2><p><a href=\"https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip\">BackgroundTaskDemo</a><a href=\"https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip\">Download</a></p>\n","excerpt":"","more":"<h2 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h2><p>添加后台任务是开发app，必需的功能。比如动态磁贴就需要后台任务的支持。但是怎么添加后台任务？添加后台任务后为什么不触发？还是有小伙伴遇到这样的问题。所以写下了这篇文章，记录如何快速简单的添加后台任务。</p>\n<h2 id=\"一、新建解决方案\"><a href=\"#一、新建解决方案\" class=\"headerlink\" title=\"一、新建解决方案\"></a>一、新建解决方案</h2><p>1、新建windows通用项目，命名为“BackgroundTaskDemo”</p>\n<p><img src=\"https://grze2q.sn.files.1drv.com/y4mEZgNfocMGJFvGrNYC-mMxU3qoqf3bb49kzPBQiy25c_4OxmcC0wkfakRB93HeEh0bVTcNOF1kqCnw7FA9LNXlnmaBD3WHfTuNNOoV5vnsQ7E0pvI6gISXE34ZoqaC0CDHbEvSFoxeaPubzw6AOrN12XxqpuIgMHNxZWcTcj_q1b4c-oDDSkKrqQo4QkGHmgZM1e-UwynOO580D3WVi7c_Q?width=941&height=660&cropmode=none\"></p>\n<p>2、在解决方案资源管理器，右键解决方案，选择”添加“-”新建项目“，新建windows运行时组件。命名为”BackgroundTasks“，应用内所有的后台任务都写在这里面。</p>\n<p><img src=\"https://hisffa.sn.files.1drv.com/y4mMC5Swk-p2vnZzzfh5QA9YnTEIf0Sc5O7wMAWuSy5Fr5o3UqMeZtTwmMn5i_lubcEl3GoRoBzZZAbwJac_Byr7T7dlZ63IEGWLLBqQjCXojyTL37JDcd7CDvfibiGhoTZKr2o03-LgMwQGTeSM8lr_I8HcJyvgRtvgTxe4ex5xv9rOZ42XynEvHfOCFQ0jCMl1Dw-ygDe1pX-lKfF8zcQuQ?width=941&height=660&cropmode=none\"></p>\n<p>3、删掉默认的class1.cs，新建一个类，命名为“ToastBackgroundTask”</p>\n<h2 id=\"二、配置后台任务\"><a href=\"#二、配置后台任务\" class=\"headerlink\" title=\"二、配置后台任务\"></a>二、配置后台任务</h2><p>1、在”BackgroundTaskDemo”中，打开“Package.appxmanifest”，按下图设置。</p>\n<p><img src=\"https://31pxcq.sn.files.1drv.com/y4mwHaLkjVReQZsWB2xb7QbOsb1ush4og3qZJyUpWLQkX-dudOHaPQT3aoQcOngjP1UUL0HxDHeU-WCEeY68eU82GdwIiMQw5omPYY1QGnHHXntBjcrFMY8LJP138oJptlpzkg5jMIfh3I0gXtFp8I21tjHPZsHTVLl1mpDdsy7UWrMAR-c8sWayZ-hSgjIQXX13XHk3Cl7yeebWfSu0AYz8w?width=973&height=751&cropmode=none\"></p>\n<h2 id=\"三、写后台事件的类\"><a href=\"#三、写后台事件的类\" class=\"headerlink\" title=\"三、写后台事件的类\"></a>三、写后台事件的类</h2><p>1、由于很多方法在windows运行组件里是不能写的，所以这里单独新建一个类库项目。</p>\n<p><img src=\"https://es8yra.sn.files.1drv.com/y4mvxqD3M4YLQitVzPnlDWuAFT0_c3o0jXqH4pAgJuvU6cYg4dZV8dZPqDYelbn7lQaRR1hBQDBmkms9k8ejiI0ovgr9dwvMsHG74dE5ta9N2Ha0DG7wm0_jQOU3HiTcAK3R2w4ymydnvpBxyqD4YX--ZblUfongw6zsd67mUmyREEo_QG8IYurWamqKSZ0YKExl34MU8Zugt_GglJheywRsA?width=942&height=660&cropmode=none\"></p>\n<p>2、新建一个类，命名为”ToastBackgroundTaskHelper“，这里是做了一个Toast通知。代码如下：（需要安装Nuget：”Microsoft.Toolkit.Uwp.Notifications“）</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Toolkit.Uwp.Notifications;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Notifications;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">BackgroundTaskShare</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ToastBackgroundTaskHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">PopToast</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Generate the toast notification content and pop the toast</span></span><br><span class=\"line\">            ToastContent content = GenerateToastContent();</span><br><span class=\"line\">            ToastNotificationManager.CreateToastNotifier().Show(<span class=\"keyword\">new</span> ToastNotification(content.GetXml()));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ToastContent <span class=\"title\">GenerateToastContent</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ToastContent()</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Launch = <span class=\"string\">&quot;action=viewEvent&amp;eventId=1983&quot;</span>,</span><br><span class=\"line\">                Scenario = ToastScenario.Reminder,</span><br><span class=\"line\"></span><br><span class=\"line\">                Visual = <span class=\"keyword\">new</span> ToastVisual()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    BindingGeneric = <span class=\"keyword\">new</span> ToastBindingGeneric()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Children =</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;Adaptive Tiles Meeting&quot;</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;Conf Room 2001 / Building 135&quot;</span></span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">new</span> AdaptiveText()</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Text = <span class=\"string\">&quot;10:00 AM - 10:30 AM&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                Actions = <span class=\"keyword\">new</span> ToastActionsCustom()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Inputs =</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastSelectionBox(<span class=\"string\">&quot;snoozeTime&quot;</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    DefaultSelectionBoxItemId = <span class=\"string\">&quot;15&quot;</span>,</span><br><span class=\"line\">                    Items =</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;1&quot;</span>, <span class=\"string\">&quot;1 minute&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;15&quot;</span>, <span class=\"string\">&quot;15 minutes&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;60&quot;</span>, <span class=\"string\">&quot;1 hour&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;240&quot;</span>, <span class=\"string\">&quot;4 hours&quot;</span>),</span><br><span class=\"line\">                        <span class=\"keyword\">new</span> ToastSelectionBoxItem(<span class=\"string\">&quot;1440&quot;</span>, <span class=\"string\">&quot;1 day&quot;</span>)</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                    Buttons =</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastButtonSnooze()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    SelectionBoxId = <span class=\"string\">&quot;snoozeTime&quot;</span></span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">new</span> ToastButtonDismiss()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"四、处理-ToastBackgroundTask\"><a href=\"#四、处理-ToastBackgroundTask\" class=\"headerlink\" title=\"四、处理 ToastBackgroundTask\"></a>四、处理 ToastBackgroundTask</h2><p>1、要调用 ToastBackgroundTaskHelper 里面的方法，首先需要在BackgroundTasks中添加对BackgroundTaskShare的引用。</p>\n<p><img src=\"https://i9jkqq.sn.files.1drv.com/y4mOeNFptIgyJSNCO3Yztx-okWGBzNMwLD2TPjaA0G5bSXNvfByNvGr3us4LbGKgpLalRlp5tiRZbK2zT6Zb-OeiPCiabopQ2QsJpRtKcGIyba3GeN1QgaEyJD1LqRT2mzjrSeD3Q3za8SGdAVr3nCE0I19MBzxg4BksWLQvfNApp3kffFjRsSMAHpSEZBNvJF6X3ocdAaOEScrm3s8dwemAA?width=783&height=550&cropmode=none\"></p>\n<p>2、处理ToastBackgroundTask.cs，代码如下，</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Toolkit.Uwp.Notifications;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.ApplicationModel.Background;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">BackgroundTasks</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 记得要加sealed</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">class</span> <span class=\"title\">ToastBackgroundTask</span>:<span class=\"title\">IBackgroundTask</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Run</span>(<span class=\"params\">IBackgroundTaskInstance taskInstance</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> defferral = taskInstance.GetDeferral();</span><br><span class=\"line\">            <span class=\"comment\">// 这里写你的后台操作，操作耗时如果超过5秒就失败了,有异步操作的记得加async</span></span><br><span class=\"line\">            BackgroundTaskShare.ToastBackgroundTaskHelper.PopToast();</span><br><span class=\"line\"></span><br><span class=\"line\">            defferral.Complete();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       </span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"五、注册和取消后台任务\"><a href=\"#五、注册和取消后台任务\" class=\"headerlink\" title=\"五、注册和取消后台任务\"></a>五、注册和取消后台任务</h2><p>1、首先在BackgroundTaskDemo中添加对“BackgroundTasks”的引用。</p>\n<p><img src=\"https://vkbysw.sn.files.1drv.com/y4mbWOfwMigZNxO5-C5ggEYRbqa2JyPlr1sEXYBqs0sp5sQcVI5-8S7wBBZh8TezfultiHUAda3cHuDACAw24X2wGz4XK7kwKQ3XoBV9uaszU0lYwcp5Io_XrOsERq807hUkoWJC-FJ4iyJYa6EQEo8nqTVuPYTSddgTvBRsWtyC4fKa4y9t9CMAthRmzij_MUdKCVRWT0-qGZevo80aQZ4lA?width=786&height=550&cropmode=none\"></p>\n<p>2、在 BackgroundTaskDemo中安装Nuget：“Microsoft.Toolkit.Uwp”，使用如下方法进行注册和取消后台任务。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 注册 </span></span><br><span class=\"line\">BackgroundTaskRegistration registered =                    BackgroundTaskHelper.Register(<span class=\"keyword\">typeof</span>(BackgroundTasks.ToastBackgroundTask),<span class=\"keyword\">new</span> TimeTrigger(<span class=\"number\">15</span>, <span class=\"literal\">false</span>), <span class=\"literal\">false</span>, <span class=\"literal\">true</span>, <span class=\"keyword\">new</span> SystemCondition(SystemConditionType.InternetAvailable));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 取消</span></span><br><span class=\"line\">BackgroundTaskHelper.Unregister(<span class=\"keyword\">typeof</span>(BackgroundTasks.ToastBackgroundTask));</span><br></pre></td></tr></table></figure>\n\n<p>上面设置为在有网络的情况下每15分钟触发一次后台任务。</p>\n<h2 id=\"六、调试后台任务\"><a href=\"#六、调试后台任务\" class=\"headerlink\" title=\"六、调试后台任务\"></a>六、调试后台任务</h2><p>1、运行Demo后注册后台任务，稍等一会儿，点开VS的生命周期事件，就可以看到ToastBackgroundTask。需要调试的话就可以在 ToastBackgroundTask 中设置断点。</p>\n<p><img src=\"https://sy0ola.sn.files.1drv.com/y4mfruaIRS7XasDPB6QBGD-ndEQ1iduTqgvrxQlf0ldx5PYrkMYUeWTUQaHPeRU1YdSGUgwDlPnMRBH9KvHOT_79_efakAK07QTKQvx7SIDXkNcacVM7T0_VHFdQgVKOwhRl-Y-hhK6SDPf0Z1yqIQO7uEw_ks-dlCQ6eQwEAm5SyzKMgmx7LP30A5Xq30s11YvGmpDmXSOxfqFMoIli5-TFw?width=775&height=427&cropmode=none\"></p>\n<p>2、点击后就会立刻运行后台任务，结果如下。说明代码是没有问题的。</p>\n<p><img src=\"https://5qg1ng.sn.files.1drv.com/y4m_bEkZvH08yU2CtNpH67jy6jb4cDqoU6UJ2tLRJBL9KDMvFzVPK6AVW5K5q7waOwRUK5GMBOzCAFBtVt7XA3LzdTDZYsRwsBshuBYe1NIBpz81IP-hTxXe8MvkZuKXcWIYLGblDlaxLoDXQshxe-cPmhz8xHVa8gx1BgvVFoPjkM58Xy_WUX_LZjxS3ccTX3be_MEt_atm2wxC7m_cUFwOw?width=456&height=288&cropmode=none\"></p>\n<p>这样子就大功告成了。需要的可以下载Demo。</p>\n<h2 id=\"七、Demo下载\"><a href=\"#七、Demo下载\" class=\"headerlink\" title=\"七、Demo下载\"></a>七、Demo下载</h2><p><a href=\"https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip\">BackgroundTaskDemo</a><a href=\"https://www.yzj0308.com/wp-content/uploads/2019/01/BackgroundTaskDemo.zip\">Download</a></p>\n"},{"title":"Win10 UWP 使用FlipView制作顶部轮播控件","date":"2019-04-15T19:03:26.000Z","_content":"\n先在这儿备份一下。  \n还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。  \n还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。\n\n```xml\n\n        <RelativePanel Grid.Row=\"1\">\n            <Grid x:Name=\"GridLeft\"\n                  RelativePanel.AlignLeftWithPanel=\"True\">\n                <FlipView x:Name=\"LeftFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          IsEnabled=\"False\"\n                          BorderThickness=\"0\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate\n                                      x:DataType=\"models:Itemlist1\">\n                            <Image Stretch=\"UniformToFill\">\n                                <Image.Source>\n                                    <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                </Image.Source>\n                            </Image>\n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>\n                <Rectangle>\n                    <Rectangle.Fill>\n                        <LinearGradientBrush StartPoint=\"0,0.5\"\n                                             EndPoint=\"1,0.5\">\n                            <GradientStop Color=\"Black\"\n                                          Offset=\"0\" />\n                            <GradientStop Color=\"#99000000\"\n                                          Offset=\"1\" />\n                        </LinearGradientBrush>\n                    </Rectangle.Fill>\n                </Rectangle>\n            </Grid>\n            <Grid x:Name=\"GridCenter\"\n                  RelativePanel.RightOf=\"GridLeft\">\n                <FlipView x:Name=\"CenterFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          BorderThickness=\"0\"\n                          SelectionChanged=\"CenterFv_SelectionChanged\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate x:DataType=\"models:Itemlist1\">\n                            <Grid>\n                                <Image ImageOpened=\"Image_ImageOpened\"\n                                       Tapped=\"Image_Tapped\"\n                                       Stretch=\"Fill\"\n                                       HorizontalAlignment=\"Left\"\n                                       VerticalAlignment=\"Top\">\n                                    <Image.Source>\n                                        <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                    </Image.Source>\n                                </Image>\n                                <Grid VerticalAlignment=\"Bottom\"\n                                      Background=\"{ThemeResource SystemControlPageBackgroundChromeLowBrush}\"\n                                      Opacity=\".7\"\n                                      Padding=\"8\">\n                                    <TextBlock Text=\"{x:Bind data.header.title}\"\n                                               HorizontalAlignment=\"Center\"\n                                               FontSize=\"16\"\n                                               VerticalAlignment=\"Center\"\n                                               TextTrimming=\"CharacterEllipsis\"\n                                               FontWeight=\"Bold\"/>\n                                </Grid>\n                            </Grid>\n                         \n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>                          \n            </Grid>\n            <Grid x:Name=\"GridRight\"\n                  RelativePanel.RightOf=\"GridCenter\"\n                  RelativePanel.AlignRightWithPanel=\"True\">\n                <FlipView x:Name=\"RightFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          IsEnabled=\"False\"\n                          BorderThickness=\"0\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate \n                                      x:DataType=\"models:Itemlist1\">\n                            <Image Stretch=\"UniformToFill\">\n                                <Image.Source>\n                                    <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                </Image.Source>\n                            </Image>\n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>\n                <Rectangle>\n                    <Rectangle.Fill>\n                        <LinearGradientBrush StartPoint=\"1,0.5\"\n                                             EndPoint=\"0,0.5\">\n                            <GradientStop Color=\"Black\"\n                                          Offset=\"0\" />\n                            <GradientStop Color=\"#99000000\"\n                                          Offset=\"1\" />\n                        </LinearGradientBrush>\n                    </Rectangle.Fill>\n                </Rectangle>\n            </Grid>\n        </RelativePanel>\n```\n\n```c#\nusing KaiYanUWP.Views;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Media.Imaging;\nusing Windows.UI.Xaml.Navigation;\n\n//https://go.microsoft.com/fwlink/?LinkId=234236 上介绍了“用户控件”项模板\n\nnamespace KaiYanUWP.Controls\n{\n    public sealed partial class SquareCardUserControl : UserControl\n    {\n\n\n        public Core.Models.Data Data\n        {\n            get { return (Core.Models.Data)GetValue(DataProperty); }\n            set { SetValue(DataProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for Data1.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty DataProperty =\n            DependencyProperty.Register(\"Data\", typeof(Core.Models.Data), typeof(SquareCardUserControl), new PropertyMetadata(null));\n\n\n        public SquareCardUserControl()\n        {\n            this.InitializeComponent();\n            Loaded += SquareCardUserControl_Loaded;\n            this.SizeChanged += SquareCardUserControl_SizeChanged;\n        }\n\n        private void SquareCardUserControl_SizeChanged(object sender, SizeChangedEventArgs e)\n        {\n            Refresh();\n        }\n\n        private void SquareCardUserControl_Loaded(object sender, RoutedEventArgs e)\n        {\n            Refresh();\n            CenterFv.SelectedIndex = 0;\n            LeftFv.SelectedIndex = LeftFv.Items.Count - 1;\n            RightFv.SelectedIndex = CenterFv.SelectedIndex + 1;\n            //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            DispatcherTimer timer = new DispatcherTimer();\n            timer.Interval = new System.TimeSpan(0, 0, 3);\n            timer.Tick += (s, args) =>\n            {\n                this.CenterFv.SelectedIndex = this.CenterFv.SelectedIndex < this.CenterFv.Items.Count - 1 ? ++this.CenterFv.SelectedIndex : 0;\n            };\n            timer.Start();\n        }\n        private void Refresh()\n        {\n            //double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n            var width = RootGird.ActualWidth;\n            //var height = RootGird.ActualHeight/density;\n           \n            if ( width >= 480)\n            {\n                CenterFv.Width = 480;\n                var height = CenterFv.Width * 0.5625;\n                CenterFv.Height = height;\n                var leftWidth = (width-480) / 2;\n\n                GridLeft.Width = leftWidth;\n                GridLeft.Height = height;\n\n                GridRight.Width = leftWidth;\n                GridRight.Height = height;\n\n            }\n            else\n            {\n                CenterFv.Width = width;\n                var height = width * 0.5625;\n                CenterFv.Height = height;\n\n                GridLeft.Width = 0;\n                GridLeft.Height = height;\n                GridRight.Height = height;\n                GridRight.Width = 0;\n\n            }\n        }\n        private void Image_Tapped(object sender, TappedRoutedEventArgs e)\n        {\n            var data = (e.OriginalSource as FrameworkElement).DataContext as Core.Models.Itemlist1;\n            ShellPage.Current.NavigateToDetail(\"KaiYanUWP.Views.PlayVideoPage\",data.data.header.id);\n        }\n\n        private void CenterFv_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            if (this.CenterFv.SelectedIndex == 0)\n            {\n                this.LeftFv.SelectedIndex = this.LeftFv.Items.Count - 1;\n                this.RightFv.SelectedIndex = 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if (this.CenterFv.SelectedIndex == 1)\n            {\n                this.LeftFv.SelectedIndex = 0;\n                this.RightFv.SelectedIndex = this.RightFv.Items.Count - 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if (this.CenterFv.SelectedIndex == this.CenterFv.Items.Count - 1)\n            {\n                this.LeftFv.SelectedIndex = this.LeftFv.Items.Count - 2;\n                this.RightFv.SelectedIndex = 0;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if ((this.CenterFv.SelectedIndex < (this.CenterFv.Items.Count - 1)) && this.CenterFv.SelectedIndex > -1)\n            {\n                this.LeftFv.SelectedIndex = this.CenterFv.SelectedIndex - 1;\n                this.RightFv.SelectedIndex = this.CenterFv.SelectedIndex + 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else\n            {\n                return;\n            }\n        }\n\n        private void Image_ImageOpened(object sender, RoutedEventArgs e)\n        {\n\n        }\n    }\n}\n```","source":"_posts/UWP/win10-uwp-use-flipview-make-top-carousel.md","raw":"---\ntitle: Win10 UWP 使用FlipView制作顶部轮播控件\ntags:\n  - FlipView\n  - UWP\n  - Win10\n  - Windows 10\ncategories:\n  - - 开发笔记\ndate: 2019-04-16 03:03:26\n---\n\n先在这儿备份一下。  \n还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。  \n还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。\n\n```xml\n\n        <RelativePanel Grid.Row=\"1\">\n            <Grid x:Name=\"GridLeft\"\n                  RelativePanel.AlignLeftWithPanel=\"True\">\n                <FlipView x:Name=\"LeftFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          IsEnabled=\"False\"\n                          BorderThickness=\"0\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate\n                                      x:DataType=\"models:Itemlist1\">\n                            <Image Stretch=\"UniformToFill\">\n                                <Image.Source>\n                                    <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                </Image.Source>\n                            </Image>\n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>\n                <Rectangle>\n                    <Rectangle.Fill>\n                        <LinearGradientBrush StartPoint=\"0,0.5\"\n                                             EndPoint=\"1,0.5\">\n                            <GradientStop Color=\"Black\"\n                                          Offset=\"0\" />\n                            <GradientStop Color=\"#99000000\"\n                                          Offset=\"1\" />\n                        </LinearGradientBrush>\n                    </Rectangle.Fill>\n                </Rectangle>\n            </Grid>\n            <Grid x:Name=\"GridCenter\"\n                  RelativePanel.RightOf=\"GridLeft\">\n                <FlipView x:Name=\"CenterFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          BorderThickness=\"0\"\n                          SelectionChanged=\"CenterFv_SelectionChanged\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate x:DataType=\"models:Itemlist1\">\n                            <Grid>\n                                <Image ImageOpened=\"Image_ImageOpened\"\n                                       Tapped=\"Image_Tapped\"\n                                       Stretch=\"Fill\"\n                                       HorizontalAlignment=\"Left\"\n                                       VerticalAlignment=\"Top\">\n                                    <Image.Source>\n                                        <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                    </Image.Source>\n                                </Image>\n                                <Grid VerticalAlignment=\"Bottom\"\n                                      Background=\"{ThemeResource SystemControlPageBackgroundChromeLowBrush}\"\n                                      Opacity=\".7\"\n                                      Padding=\"8\">\n                                    <TextBlock Text=\"{x:Bind data.header.title}\"\n                                               HorizontalAlignment=\"Center\"\n                                               FontSize=\"16\"\n                                               VerticalAlignment=\"Center\"\n                                               TextTrimming=\"CharacterEllipsis\"\n                                               FontWeight=\"Bold\"/>\n                                </Grid>\n                            </Grid>\n                         \n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>                          \n            </Grid>\n            <Grid x:Name=\"GridRight\"\n                  RelativePanel.RightOf=\"GridCenter\"\n                  RelativePanel.AlignRightWithPanel=\"True\">\n                <FlipView x:Name=\"RightFv\"\n                          ItemsSource=\"{x:Bind Data.itemList,Mode=OneWay}\"\n                          IsEnabled=\"False\"\n                          BorderThickness=\"0\">\n                    <FlipView.ItemTemplate>\n                        <DataTemplate \n                                      x:DataType=\"models:Itemlist1\">\n                            <Image Stretch=\"UniformToFill\">\n                                <Image.Source>\n                                    <BitmapImage UriSource=\"{x:Bind data.content.data.cover.feed}\" />\n                                </Image.Source>\n                            </Image>\n                        </DataTemplate>\n                    </FlipView.ItemTemplate>\n                </FlipView>\n                <Rectangle>\n                    <Rectangle.Fill>\n                        <LinearGradientBrush StartPoint=\"1,0.5\"\n                                             EndPoint=\"0,0.5\">\n                            <GradientStop Color=\"Black\"\n                                          Offset=\"0\" />\n                            <GradientStop Color=\"#99000000\"\n                                          Offset=\"1\" />\n                        </LinearGradientBrush>\n                    </Rectangle.Fill>\n                </Rectangle>\n            </Grid>\n        </RelativePanel>\n```\n\n```c#\nusing KaiYanUWP.Views;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Media.Imaging;\nusing Windows.UI.Xaml.Navigation;\n\n//https://go.microsoft.com/fwlink/?LinkId=234236 上介绍了“用户控件”项模板\n\nnamespace KaiYanUWP.Controls\n{\n    public sealed partial class SquareCardUserControl : UserControl\n    {\n\n\n        public Core.Models.Data Data\n        {\n            get { return (Core.Models.Data)GetValue(DataProperty); }\n            set { SetValue(DataProperty, value); }\n        }\n\n        // Using a DependencyProperty as the backing store for Data1.  This enables animation, styling, binding, etc...\n        public static readonly DependencyProperty DataProperty =\n            DependencyProperty.Register(\"Data\", typeof(Core.Models.Data), typeof(SquareCardUserControl), new PropertyMetadata(null));\n\n\n        public SquareCardUserControl()\n        {\n            this.InitializeComponent();\n            Loaded += SquareCardUserControl_Loaded;\n            this.SizeChanged += SquareCardUserControl_SizeChanged;\n        }\n\n        private void SquareCardUserControl_SizeChanged(object sender, SizeChangedEventArgs e)\n        {\n            Refresh();\n        }\n\n        private void SquareCardUserControl_Loaded(object sender, RoutedEventArgs e)\n        {\n            Refresh();\n            CenterFv.SelectedIndex = 0;\n            LeftFv.SelectedIndex = LeftFv.Items.Count - 1;\n            RightFv.SelectedIndex = CenterFv.SelectedIndex + 1;\n            //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            DispatcherTimer timer = new DispatcherTimer();\n            timer.Interval = new System.TimeSpan(0, 0, 3);\n            timer.Tick += (s, args) =>\n            {\n                this.CenterFv.SelectedIndex = this.CenterFv.SelectedIndex < this.CenterFv.Items.Count - 1 ? ++this.CenterFv.SelectedIndex : 0;\n            };\n            timer.Start();\n        }\n        private void Refresh()\n        {\n            //double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;\n            var width = RootGird.ActualWidth;\n            //var height = RootGird.ActualHeight/density;\n           \n            if ( width >= 480)\n            {\n                CenterFv.Width = 480;\n                var height = CenterFv.Width * 0.5625;\n                CenterFv.Height = height;\n                var leftWidth = (width-480) / 2;\n\n                GridLeft.Width = leftWidth;\n                GridLeft.Height = height;\n\n                GridRight.Width = leftWidth;\n                GridRight.Height = height;\n\n            }\n            else\n            {\n                CenterFv.Width = width;\n                var height = width * 0.5625;\n                CenterFv.Height = height;\n\n                GridLeft.Width = 0;\n                GridLeft.Height = height;\n                GridRight.Height = height;\n                GridRight.Width = 0;\n\n            }\n        }\n        private void Image_Tapped(object sender, TappedRoutedEventArgs e)\n        {\n            var data = (e.OriginalSource as FrameworkElement).DataContext as Core.Models.Itemlist1;\n            ShellPage.Current.NavigateToDetail(\"KaiYanUWP.Views.PlayVideoPage\",data.data.header.id);\n        }\n\n        private void CenterFv_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            if (this.CenterFv.SelectedIndex == 0)\n            {\n                this.LeftFv.SelectedIndex = this.LeftFv.Items.Count - 1;\n                this.RightFv.SelectedIndex = 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if (this.CenterFv.SelectedIndex == 1)\n            {\n                this.LeftFv.SelectedIndex = 0;\n                this.RightFv.SelectedIndex = this.RightFv.Items.Count - 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if (this.CenterFv.SelectedIndex == this.CenterFv.Items.Count - 1)\n            {\n                this.LeftFv.SelectedIndex = this.LeftFv.Items.Count - 2;\n                this.RightFv.SelectedIndex = 0;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else if ((this.CenterFv.SelectedIndex < (this.CenterFv.Items.Count - 1)) && this.CenterFv.SelectedIndex > -1)\n            {\n                this.LeftFv.SelectedIndex = this.CenterFv.SelectedIndex - 1;\n                this.RightFv.SelectedIndex = this.CenterFv.SelectedIndex + 1;\n                //this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;\n            }\n            else\n            {\n                return;\n            }\n        }\n\n        private void Image_ImageOpened(object sender, RoutedEventArgs e)\n        {\n\n        }\n    }\n}\n```","slug":"UWP/win10-uwp-use-flipview-make-top-carousel","published":1,"updated":"2025-02-21T10:54:54.010Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1y002fews75dt0eqo3","content":"<p>先在这儿备份一下。<br>还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。<br>还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativePanel</span> <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.AlignLeftWithPanel</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">IsEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;UniformToFill&quot;</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">LinearGradientBrush</span> <span class=\"attr\">StartPoint</span>=<span class=\"string\">&quot;0,0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                     <span class=\"attr\">EndPoint</span>=<span class=\"string\">&quot;1,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;Black&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;#99000000&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">LinearGradientBrush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridCenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.RightOf</span>=<span class=\"string\">&quot;GridLeft&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CenterFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">SelectionChanged</span>=<span class=\"string\">&quot;CenterFv_SelectionChanged&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span> <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">ImageOpened</span>=<span class=\"string\">&quot;Image_ImageOpened&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">Tapped</span>=<span class=\"string\">&quot;Image_Tapped&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;Fill&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlPageBackgroundChromeLowBrush&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Opacity</span>=<span class=\"string\">&quot;.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Padding</span>=<span class=\"string\">&quot;8&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;x:Bind data.header.title&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">FontSize</span>=<span class=\"string\">&quot;16&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">TextTrimming</span>=<span class=\"string\">&quot;CharacterEllipsis&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">FontWeight</span>=<span class=\"string\">&quot;Bold&quot;</span>/&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                 </span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span>                          </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridRight&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.RightOf</span>=<span class=\"string\">&quot;GridCenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.AlignRightWithPanel</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RightFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">IsEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span> </span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;UniformToFill&quot;</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">LinearGradientBrush</span> <span class=\"attr\">StartPoint</span>=<span class=\"string\">&quot;1,0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                     <span class=\"attr\">EndPoint</span>=<span class=\"string\">&quot;0,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;Black&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;#99000000&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">LinearGradientBrush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativePanel</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> KaiYanUWP.Views;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.IO;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Runtime.InteropServices.WindowsRuntime;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.Foundation;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.Foundation.Collections;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls.Primitives;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Data;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Input;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media.Imaging;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Navigation;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//https://go.microsoft.com/fwlink/?LinkId=234236 上介绍了“用户控件”项模板</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">KaiYanUWP.Controls</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">SquareCardUserControl</span> : <span class=\"title\">UserControl</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> Core.Models.Data Data</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (Core.Models.Data)GetValue(DataProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(DataProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for Data1.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty DataProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;Data&quot;</span>, <span class=\"keyword\">typeof</span>(Core.Models.Data), <span class=\"keyword\">typeof</span>(SquareCardUserControl), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquareCardUserControl</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.InitializeComponent();</span><br><span class=\"line\">            Loaded += SquareCardUserControl_Loaded;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.SizeChanged += SquareCardUserControl_SizeChanged;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">SquareCardUserControl_SizeChanged</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, SizeChangedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Refresh();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">SquareCardUserControl_Loaded</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Refresh();</span><br><span class=\"line\">            CenterFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            LeftFv.SelectedIndex = LeftFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">            RightFv.SelectedIndex = CenterFv.SelectedIndex + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            DispatcherTimer timer = <span class=\"keyword\">new</span> DispatcherTimer();</span><br><span class=\"line\">            timer.Interval = <span class=\"keyword\">new</span> System.TimeSpan(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">            timer.Tick += (s, <span class=\"keyword\">args</span>) =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.CenterFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex &lt; <span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span> ? ++<span class=\"keyword\">this</span>.CenterFv.SelectedIndex : <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            timer.Start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Refresh</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> width = RootGird.ActualWidth;</span><br><span class=\"line\">            <span class=\"comment\">//var height = RootGird.ActualHeight/density;</span></span><br><span class=\"line\">           </span><br><span class=\"line\">            <span class=\"keyword\">if</span> ( width &gt;= <span class=\"number\">480</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CenterFv.Width = <span class=\"number\">480</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> height = CenterFv.Width * <span class=\"number\">0.5625</span>;</span><br><span class=\"line\">                CenterFv.Height = height;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> leftWidth = (width<span class=\"number\">-480</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridLeft.Width = leftWidth;</span><br><span class=\"line\">                GridLeft.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridRight.Width = leftWidth;</span><br><span class=\"line\">                GridRight.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CenterFv.Width = width;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> height = width * <span class=\"number\">0.5625</span>;</span><br><span class=\"line\">                CenterFv.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridLeft.Width = <span class=\"number\">0</span>;</span><br><span class=\"line\">                GridLeft.Height = height;</span><br><span class=\"line\">                GridRight.Height = height;</span><br><span class=\"line\">                GridRight.Width = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Image_Tapped</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, TappedRoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> data = (e.OriginalSource <span class=\"keyword\">as</span> FrameworkElement).DataContext <span class=\"keyword\">as</span> Core.Models.Itemlist1;</span><br><span class=\"line\">            ShellPage.Current.NavigateToDetail(<span class=\"string\">&quot;KaiYanUWP.Views.PlayVideoPage&quot;</span>,data.data.header.id);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">CenterFv_SelectionChanged</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.LeftFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"keyword\">this</span>.RightFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.LeftFv.Items.Count - <span class=\"number\">2</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ((<span class=\"keyword\">this</span>.CenterFv.SelectedIndex &lt; (<span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span>)) &amp;&amp; <span class=\"keyword\">this</span>.CenterFv.SelectedIndex &gt; <span class=\"number\">-1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex + <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Image_ImageOpened</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<p>先在这儿备份一下。<br>还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。<br>还必须凑够一定的字数，否则网页就显示不正常。我也是真心醉了。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativePanel</span> <span class=\"attr\">Grid.Row</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridLeft&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.AlignLeftWithPanel</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;LeftFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">IsEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;UniformToFill&quot;</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">LinearGradientBrush</span> <span class=\"attr\">StartPoint</span>=<span class=\"string\">&quot;0,0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                     <span class=\"attr\">EndPoint</span>=<span class=\"string\">&quot;1,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;Black&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;#99000000&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">LinearGradientBrush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridCenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.RightOf</span>=<span class=\"string\">&quot;GridLeft&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;CenterFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">SelectionChanged</span>=<span class=\"string\">&quot;CenterFv_SelectionChanged&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span> <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">ImageOpened</span>=<span class=\"string\">&quot;Image_ImageOpened&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">Tapped</span>=<span class=\"string\">&quot;Image_Tapped&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;Fill&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Left&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                               <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Top&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Bottom&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Background</span>=<span class=\"string\">&quot;&#123;ThemeResource SystemControlPageBackgroundChromeLowBrush&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Opacity</span>=<span class=\"string\">&quot;.7&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">Padding</span>=<span class=\"string\">&quot;8&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">TextBlock</span> <span class=\"attr\">Text</span>=<span class=\"string\">&quot;&#123;x:Bind data.header.title&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">HorizontalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">FontSize</span>=<span class=\"string\">&quot;16&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">VerticalAlignment</span>=<span class=\"string\">&quot;Center&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">TextTrimming</span>=<span class=\"string\">&quot;CharacterEllipsis&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                       <span class=\"attr\">FontWeight</span>=<span class=\"string\">&quot;Bold&quot;</span>/&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">                 </span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span>                          </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Grid</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;GridRight&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.RightOf</span>=<span class=\"string\">&quot;GridCenter&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">RelativePanel.AlignRightWithPanel</span>=<span class=\"string\">&quot;True&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">FlipView</span> <span class=\"attr\">x:Name</span>=<span class=\"string\">&quot;RightFv&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">ItemsSource</span>=<span class=\"string\">&quot;&#123;x:Bind Data.itemList,Mode=OneWay&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">IsEnabled</span>=<span class=\"string\">&quot;False&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">BorderThickness</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">DataTemplate</span> </span></span><br><span class=\"line\"><span class=\"tag\">                              <span class=\"attr\">x:DataType</span>=<span class=\"string\">&quot;models:Itemlist1&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">Stretch</span>=<span class=\"string\">&quot;UniformToFill&quot;</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">BitmapImage</span> <span class=\"attr\">UriSource</span>=<span class=\"string\">&quot;&#123;x:Bind data.content.data.cover.feed&#125;&quot;</span> /&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">Image.Source</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">DataTemplate</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">FlipView.ItemTemplate</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">FlipView</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">LinearGradientBrush</span> <span class=\"attr\">StartPoint</span>=<span class=\"string\">&quot;1,0.5&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                     <span class=\"attr\">EndPoint</span>=<span class=\"string\">&quot;0,0.5&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;Black&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;0&quot;</span> /&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">GradientStop</span> <span class=\"attr\">Color</span>=<span class=\"string\">&quot;#99000000&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                  <span class=\"attr\">Offset</span>=<span class=\"string\">&quot;1&quot;</span> /&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">LinearGradientBrush</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">Rectangle.Fill</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">Rectangle</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Grid</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativePanel</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> KaiYanUWP.Views;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.IO;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Runtime.InteropServices.WindowsRuntime;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.Foundation;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.Foundation.Collections;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Controls.Primitives;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Data;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Input;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Media.Imaging;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Windows.UI.Xaml.Navigation;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//https://go.microsoft.com/fwlink/?LinkId=234236 上介绍了“用户控件”项模板</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">KaiYanUWP.Controls</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">sealed</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">SquareCardUserControl</span> : <span class=\"title\">UserControl</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> Core.Models.Data Data</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span> &#123; <span class=\"keyword\">return</span> (Core.Models.Data)GetValue(DataProperty); &#125;</span><br><span class=\"line\">            <span class=\"keyword\">set</span> &#123; SetValue(DataProperty, <span class=\"keyword\">value</span>); &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Using a DependencyProperty as the backing store for Data1.  This enables animation, styling, binding, etc...</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> DependencyProperty DataProperty =</span><br><span class=\"line\">            DependencyProperty.Register(<span class=\"string\">&quot;Data&quot;</span>, <span class=\"keyword\">typeof</span>(Core.Models.Data), <span class=\"keyword\">typeof</span>(SquareCardUserControl), <span class=\"keyword\">new</span> PropertyMetadata(<span class=\"literal\">null</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SquareCardUserControl</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.InitializeComponent();</span><br><span class=\"line\">            Loaded += SquareCardUserControl_Loaded;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.SizeChanged += SquareCardUserControl_SizeChanged;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">SquareCardUserControl_SizeChanged</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, SizeChangedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Refresh();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">SquareCardUserControl_Loaded</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Refresh();</span><br><span class=\"line\">            CenterFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">            LeftFv.SelectedIndex = LeftFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">            RightFv.SelectedIndex = CenterFv.SelectedIndex + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            DispatcherTimer timer = <span class=\"keyword\">new</span> DispatcherTimer();</span><br><span class=\"line\">            timer.Interval = <span class=\"keyword\">new</span> System.TimeSpan(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">            timer.Tick += (s, <span class=\"keyword\">args</span>) =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.CenterFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex &lt; <span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span> ? ++<span class=\"keyword\">this</span>.CenterFv.SelectedIndex : <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">            timer.Start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Refresh</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//double density = Windows.Graphics.Display.DisplayInformation.GetForCurrentView().RawPixelsPerViewPixel;</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> width = RootGird.ActualWidth;</span><br><span class=\"line\">            <span class=\"comment\">//var height = RootGird.ActualHeight/density;</span></span><br><span class=\"line\">           </span><br><span class=\"line\">            <span class=\"keyword\">if</span> ( width &gt;= <span class=\"number\">480</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CenterFv.Width = <span class=\"number\">480</span>;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> height = CenterFv.Width * <span class=\"number\">0.5625</span>;</span><br><span class=\"line\">                CenterFv.Height = height;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> leftWidth = (width<span class=\"number\">-480</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridLeft.Width = leftWidth;</span><br><span class=\"line\">                GridLeft.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridRight.Width = leftWidth;</span><br><span class=\"line\">                GridRight.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                CenterFv.Width = width;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> height = width * <span class=\"number\">0.5625</span>;</span><br><span class=\"line\">                CenterFv.Height = height;</span><br><span class=\"line\"></span><br><span class=\"line\">                GridLeft.Width = <span class=\"number\">0</span>;</span><br><span class=\"line\">                GridLeft.Height = height;</span><br><span class=\"line\">                GridRight.Height = height;</span><br><span class=\"line\">                GridRight.Width = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Image_Tapped</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, TappedRoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> data = (e.OriginalSource <span class=\"keyword\">as</span> FrameworkElement).DataContext <span class=\"keyword\">as</span> Core.Models.Itemlist1;</span><br><span class=\"line\">            ShellPage.Current.NavigateToDetail(<span class=\"string\">&quot;KaiYanUWP.Views.PlayVideoPage&quot;</span>,data.data.header.id);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">CenterFv_SelectionChanged</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, SelectionChangedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.LeftFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"keyword\">this</span>.RightFv.Items.Count - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.CenterFv.SelectedIndex == <span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.LeftFv.Items.Count - <span class=\"number\">2</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ((<span class=\"keyword\">this</span>.CenterFv.SelectedIndex &lt; (<span class=\"keyword\">this</span>.CenterFv.Items.Count - <span class=\"number\">1</span>)) &amp;&amp; <span class=\"keyword\">this</span>.CenterFv.SelectedIndex &gt; <span class=\"number\">-1</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.LeftFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex - <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.RightFv.SelectedIndex = <span class=\"keyword\">this</span>.CenterFv.SelectedIndex + <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"comment\">//this.NaviGridView.SelectedIndex = CenterFv.SelectedIndex;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Image_ImageOpened</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Win10 UWP使用Windows Hello登录应用","date":"2018-04-10T03:48:10.000Z","_content":"\nWin10 UWP使用Windows Hello登录应用。Windows Hello是一种生物特征授权方式，让你可以实时访问自己的Windows10设备。有了Windows Hello，用户只需要露一下脸，动动手指，就能立刻被运行Windows10的新设备所识别。 Windows Hello不仅比输入密码更加方便，也更加安全。系统能够让你无需存储在本地或网络服务器的密码即可进行认证应用、企业内容甚至包括某些在线体验。（引用自[百度百科](https://baike.baidu.com/item/windows%20hello/16961229?fr=aladdin)）\n\n让自己的UWP应用使用Windows Hello是一件很酷的事情。原本以为会是很难的一件事，没想到很简单就实现了。本文仅实现了本地登录。（[按照微软官方文档实现](https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login)）。\n\nC#,记得引用`using Windows.Security.Credentials`命名空间\n\n第一步，验证设备是否可以使用Windows Hello。需要满足两个条件：\n\n1.  有一个登录的微软账户；\n2.  已经设置PIN登录或者surface系列的虹膜识别登录，或者其他生物识别设备都是可用的。\n\n用下面的代码实现。\n\n```c#\npublic static async Task<bool> MicrosoftPassportAvailableCheckAsync()\n{\n    bool keyCredentialAvailable = await KeyCredentialManager.IsSupportedAsync();\n    if (keyCredentialAvailable == false)\n    {\n        // Key credential is not enabled yet as user\n        // needs to connect to a Microsoft Account and select a PIN in the connecting flow.\n        Debug.WriteLine(\"Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.\");\n        return false;\n    }\n    return true;\n}\n```\n\n使用时这样调用：\n\n```c#\nbool value = await MicrosoftPassportHelper.MicrosoftPassportAvailableCheckAsync()\n```\n\n返回是“true”说明可用。\n\n第二步，在本地创建登录的密钥。\n\n```c#\npublic static async Task<bool> CreatePassportKeyAsync(string account)\n{\n    KeyCredentialRetrievalResult keyCreationResult = await KeyCredentialManager.RequestCreateAsync(accountId, KeyCredentialCreationOption.ReplaceExisting);\n    switch (keyCreationResult.Status)\n    {\n        case KeyCredentialStatus.Success:\n            Debug.WriteLine(\"Successfully made key\");\n            return true;\n        case KeyCredentialStatus.UserCanceled:\n            Debug.WriteLine(\"User cancelled sign-in process.\");\n            break;\n        case KeyCredentialStatus.NotFound:\n            // User needs to setup Microsoft Passport\n            Debug.WriteLine(\"Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.\");\n            break;\n        default:\n            break;\n    }\n    return false;\n}\n```\n\n同样的使用方法，返回“true”说明注册成功。account使用你的App名称比较好。\n\n第三步，登录应用，这个有两个过程：\n\n1.  获取已经注册的密钥，如果存在调用安全验证，输入PIN或者其他生物识别特征（虹膜，指纹等等）登录。\n2.  如果不存在调用注册密钥过程。重新注册。\n\n第一个过程代码如下：\n\n```c#\npublic static async Task<bool> GetPassportAuthenticationMessageAsync(string account)\n   {\n       KeyCredentialRetrievalResult openKeyResult = await KeyCredentialManager.OpenAsync(account);\n       if (openKeyResult.Status == KeyCredentialStatus.Success)\n       {\n           return true;\n       }\n       else if (openKeyResult.Status == KeyCredentialStatus.NotFound)\n       {\n           if (await CreatePassportKeyAsync(account))\n           {\n               // If the Passport Key was again successfully created, Microsoft Passport has just been reset.\n               // Now that the Passport Key has been reset for the _account retry sign in.\n               return await GetPassportAuthenticationMessageAsync(account);\n           }\n       }\n       // Can't use Passport right now, try again later\n       return false;\n   }\n```\n\n第二个过程：调用了安全验证，枚举了所有的可能性，在这里我把其他的情况都返回“false”，只有验证成功的情况返回“true”。\n\n```c#\npublic static async Task<bool> ConsentVerifierAsync()\n   {\n       var consentResult = await UserConsentVerifier.RequestVerificationAsync(HelloAccount);\n       switch (consentResult)\n       {\n           case UserConsentVerificationResult.Verified:\n               return true;\n           case UserConsentVerificationResult.DeviceNotPresent:\n               return false;\n           case UserConsentVerificationResult.NotConfiguredForUser:\n               return false;\n           case UserConsentVerificationResult.DisabledByPolicy:\n               return false;\n           case UserConsentVerificationResult.DeviceBusy:\n               return false;\n           case UserConsentVerificationResult.RetriesExhausted:\n               return false;\n           case UserConsentVerificationResult.Canceled:\n               return false;\n           default:\n               break;\n       }\n       return false;\n   }\n```\n\n可以这样使用，验证成功后导航到指定页面，代码如下：\n\n```c#\nif (await MicrosoftPassportHelper.ConsentVerifierAsync())\n{\n    Frame.Navigate(typeof(MainPage));\n}\n```\n\n这样就完成了一个登录的整个过程。\n\n注销所注册的密钥的代码如下：\n\n```c#\npublic static async void RemovePassportAccountAsync(string account)\n{    \n// Open the account with Passport    \nKeyCredentialRetrievalResult keyOpenResult = await KeyCredentialManager.OpenAsync(account);    \n// Then delete the account from the machines list of Passport Accounts    await KeyCredentialManager.DeleteAsync(account);}\n```\n\n![](/source/post_img/Demo.gif)\n\n如果需要使用Windows Hello 登录服务，可以去看看[微软的官方文档](https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login-auth-service)。","source":"_posts/UWP/win10-uwp-windows-hello.md","raw":"---\ntitle: Win10 UWP使用Windows Hello登录应用\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2018-04-10 11:48:10\n---\n\nWin10 UWP使用Windows Hello登录应用。Windows Hello是一种生物特征授权方式，让你可以实时访问自己的Windows10设备。有了Windows Hello，用户只需要露一下脸，动动手指，就能立刻被运行Windows10的新设备所识别。 Windows Hello不仅比输入密码更加方便，也更加安全。系统能够让你无需存储在本地或网络服务器的密码即可进行认证应用、企业内容甚至包括某些在线体验。（引用自[百度百科](https://baike.baidu.com/item/windows%20hello/16961229?fr=aladdin)）\n\n让自己的UWP应用使用Windows Hello是一件很酷的事情。原本以为会是很难的一件事，没想到很简单就实现了。本文仅实现了本地登录。（[按照微软官方文档实现](https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login)）。\n\nC#,记得引用`using Windows.Security.Credentials`命名空间\n\n第一步，验证设备是否可以使用Windows Hello。需要满足两个条件：\n\n1.  有一个登录的微软账户；\n2.  已经设置PIN登录或者surface系列的虹膜识别登录，或者其他生物识别设备都是可用的。\n\n用下面的代码实现。\n\n```c#\npublic static async Task<bool> MicrosoftPassportAvailableCheckAsync()\n{\n    bool keyCredentialAvailable = await KeyCredentialManager.IsSupportedAsync();\n    if (keyCredentialAvailable == false)\n    {\n        // Key credential is not enabled yet as user\n        // needs to connect to a Microsoft Account and select a PIN in the connecting flow.\n        Debug.WriteLine(\"Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.\");\n        return false;\n    }\n    return true;\n}\n```\n\n使用时这样调用：\n\n```c#\nbool value = await MicrosoftPassportHelper.MicrosoftPassportAvailableCheckAsync()\n```\n\n返回是“true”说明可用。\n\n第二步，在本地创建登录的密钥。\n\n```c#\npublic static async Task<bool> CreatePassportKeyAsync(string account)\n{\n    KeyCredentialRetrievalResult keyCreationResult = await KeyCredentialManager.RequestCreateAsync(accountId, KeyCredentialCreationOption.ReplaceExisting);\n    switch (keyCreationResult.Status)\n    {\n        case KeyCredentialStatus.Success:\n            Debug.WriteLine(\"Successfully made key\");\n            return true;\n        case KeyCredentialStatus.UserCanceled:\n            Debug.WriteLine(\"User cancelled sign-in process.\");\n            break;\n        case KeyCredentialStatus.NotFound:\n            // User needs to setup Microsoft Passport\n            Debug.WriteLine(\"Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.\");\n            break;\n        default:\n            break;\n    }\n    return false;\n}\n```\n\n同样的使用方法，返回“true”说明注册成功。account使用你的App名称比较好。\n\n第三步，登录应用，这个有两个过程：\n\n1.  获取已经注册的密钥，如果存在调用安全验证，输入PIN或者其他生物识别特征（虹膜，指纹等等）登录。\n2.  如果不存在调用注册密钥过程。重新注册。\n\n第一个过程代码如下：\n\n```c#\npublic static async Task<bool> GetPassportAuthenticationMessageAsync(string account)\n   {\n       KeyCredentialRetrievalResult openKeyResult = await KeyCredentialManager.OpenAsync(account);\n       if (openKeyResult.Status == KeyCredentialStatus.Success)\n       {\n           return true;\n       }\n       else if (openKeyResult.Status == KeyCredentialStatus.NotFound)\n       {\n           if (await CreatePassportKeyAsync(account))\n           {\n               // If the Passport Key was again successfully created, Microsoft Passport has just been reset.\n               // Now that the Passport Key has been reset for the _account retry sign in.\n               return await GetPassportAuthenticationMessageAsync(account);\n           }\n       }\n       // Can't use Passport right now, try again later\n       return false;\n   }\n```\n\n第二个过程：调用了安全验证，枚举了所有的可能性，在这里我把其他的情况都返回“false”，只有验证成功的情况返回“true”。\n\n```c#\npublic static async Task<bool> ConsentVerifierAsync()\n   {\n       var consentResult = await UserConsentVerifier.RequestVerificationAsync(HelloAccount);\n       switch (consentResult)\n       {\n           case UserConsentVerificationResult.Verified:\n               return true;\n           case UserConsentVerificationResult.DeviceNotPresent:\n               return false;\n           case UserConsentVerificationResult.NotConfiguredForUser:\n               return false;\n           case UserConsentVerificationResult.DisabledByPolicy:\n               return false;\n           case UserConsentVerificationResult.DeviceBusy:\n               return false;\n           case UserConsentVerificationResult.RetriesExhausted:\n               return false;\n           case UserConsentVerificationResult.Canceled:\n               return false;\n           default:\n               break;\n       }\n       return false;\n   }\n```\n\n可以这样使用，验证成功后导航到指定页面，代码如下：\n\n```c#\nif (await MicrosoftPassportHelper.ConsentVerifierAsync())\n{\n    Frame.Navigate(typeof(MainPage));\n}\n```\n\n这样就完成了一个登录的整个过程。\n\n注销所注册的密钥的代码如下：\n\n```c#\npublic static async void RemovePassportAccountAsync(string account)\n{    \n// Open the account with Passport    \nKeyCredentialRetrievalResult keyOpenResult = await KeyCredentialManager.OpenAsync(account);    \n// Then delete the account from the machines list of Passport Accounts    await KeyCredentialManager.DeleteAsync(account);}\n```\n\n![](/source/post_img/Demo.gif)\n\n如果需要使用Windows Hello 登录服务，可以去看看[微软的官方文档](https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login-auth-service)。","slug":"UWP/win10-uwp-windows-hello","published":1,"updated":"2025-02-21T10:54:54.010Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1z002iews74sym1c5p","content":"<p>Win10 UWP使用Windows Hello登录应用。Windows Hello是一种生物特征授权方式，让你可以实时访问自己的Windows10设备。有了Windows Hello，用户只需要露一下脸，动动手指，就能立刻被运行Windows10的新设备所识别。 Windows Hello不仅比输入密码更加方便，也更加安全。系统能够让你无需存储在本地或网络服务器的密码即可进行认证应用、企业内容甚至包括某些在线体验。（引用自<a href=\"https://baike.baidu.com/item/windows%20hello/16961229?fr=aladdin\">百度百科</a>）</p>\n<p>让自己的UWP应用使用Windows Hello是一件很酷的事情。原本以为会是很难的一件事，没想到很简单就实现了。本文仅实现了本地登录。（<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login\">按照微软官方文档实现</a>）。</p>\n<p>C#,记得引用<code>using Windows.Security.Credentials</code>命名空间</p>\n<p>第一步，验证设备是否可以使用Windows Hello。需要满足两个条件：</p>\n<ol>\n<li>有一个登录的微软账户；</li>\n<li>已经设置PIN登录或者surface系列的虹膜识别登录，或者其他生物识别设备都是可用的。</li>\n</ol>\n<p>用下面的代码实现。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">MicrosoftPassportAvailableCheckAsync</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">bool</span> keyCredentialAvailable = <span class=\"keyword\">await</span> KeyCredentialManager.IsSupportedAsync();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (keyCredentialAvailable == <span class=\"literal\">false</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Key credential is not enabled yet as user</span></span><br><span class=\"line\">        <span class=\"comment\">// needs to connect to a Microsoft Account and select a PIN in the connecting flow.</span></span><br><span class=\"line\">        Debug.WriteLine(<span class=\"string\">&quot;Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>使用时这样调用：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">bool</span> <span class=\"keyword\">value</span> = <span class=\"keyword\">await</span> MicrosoftPassportHelper.MicrosoftPassportAvailableCheckAsync()</span><br></pre></td></tr></table></figure>\n\n<p>返回是“true”说明可用。</p>\n<p>第二步，在本地创建登录的密钥。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">CreatePassportKeyAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    KeyCredentialRetrievalResult keyCreationResult = <span class=\"keyword\">await</span> KeyCredentialManager.RequestCreateAsync(accountId, KeyCredentialCreationOption.ReplaceExisting);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (keyCreationResult.Status)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.Success:</span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;Successfully made key&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.UserCanceled:</span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;User cancelled sign-in process.&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.NotFound:</span><br><span class=\"line\">            <span class=\"comment\">// User needs to setup Microsoft Passport</span></span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>同样的使用方法，返回“true”说明注册成功。account使用你的App名称比较好。</p>\n<p>第三步，登录应用，这个有两个过程：</p>\n<ol>\n<li>获取已经注册的密钥，如果存在调用安全验证，输入PIN或者其他生物识别特征（虹膜，指纹等等）登录。</li>\n<li>如果不存在调用注册密钥过程。重新注册。</li>\n</ol>\n<p>第一个过程代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">GetPassportAuthenticationMessageAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">       KeyCredentialRetrievalResult openKeyResult = <span class=\"keyword\">await</span> KeyCredentialManager.OpenAsync(account);</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (openKeyResult.Status == KeyCredentialStatus.Success)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (openKeyResult.Status == KeyCredentialStatus.NotFound)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"keyword\">await</span> CreatePassportKeyAsync(account))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">// If the Passport Key was again successfully created, Microsoft Passport has just been reset.</span></span><br><span class=\"line\">               <span class=\"comment\">// Now that the Passport Key has been reset for the _account retry sign in.</span></span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> GetPassportAuthenticationMessageAsync(account);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">// Can&#x27;t use Passport right now, try again later</span></span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二个过程：调用了安全验证，枚举了所有的可能性，在这里我把其他的情况都返回“false”，只有验证成功的情况返回“true”。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">ConsentVerifierAsync</span>()</span></span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">       <span class=\"keyword\">var</span> consentResult = <span class=\"keyword\">await</span> UserConsentVerifier.RequestVerificationAsync(HelloAccount);</span><br><span class=\"line\">       <span class=\"keyword\">switch</span> (consentResult)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.Verified:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DeviceNotPresent:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.NotConfiguredForUser:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DisabledByPolicy:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DeviceBusy:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.RetriesExhausted:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.Canceled:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"literal\">default</span>:</span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<p>可以这样使用，验证成功后导航到指定页面，代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">await</span> MicrosoftPassportHelper.ConsentVerifierAsync())</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Frame.Navigate(<span class=\"keyword\">typeof</span>(MainPage));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这样就完成了一个登录的整个过程。</p>\n<p>注销所注册的密钥的代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> <span class=\"keyword\">void</span> <span class=\"title\">RemovePassportAccountAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">&#123;    </span><br><span class=\"line\"><span class=\"comment\">// Open the account with Passport    </span></span><br><span class=\"line\">KeyCredentialRetrievalResult keyOpenResult = <span class=\"keyword\">await</span> KeyCredentialManager.OpenAsync(account);    </span><br><span class=\"line\"><span class=\"comment\">// Then delete the account from the machines list of Passport Accounts    await KeyCredentialManager.DeleteAsync(account);&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/source/post_img/Demo.gif\"></p>\n<p>如果需要使用Windows Hello 登录服务，可以去看看<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login-auth-service\">微软的官方文档</a>。</p>\n","excerpt":"","more":"<p>Win10 UWP使用Windows Hello登录应用。Windows Hello是一种生物特征授权方式，让你可以实时访问自己的Windows10设备。有了Windows Hello，用户只需要露一下脸，动动手指，就能立刻被运行Windows10的新设备所识别。 Windows Hello不仅比输入密码更加方便，也更加安全。系统能够让你无需存储在本地或网络服务器的密码即可进行认证应用、企业内容甚至包括某些在线体验。（引用自<a href=\"https://baike.baidu.com/item/windows%20hello/16961229?fr=aladdin\">百度百科</a>）</p>\n<p>让自己的UWP应用使用Windows Hello是一件很酷的事情。原本以为会是很难的一件事，没想到很简单就实现了。本文仅实现了本地登录。（<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login\">按照微软官方文档实现</a>）。</p>\n<p>C#,记得引用<code>using Windows.Security.Credentials</code>命名空间</p>\n<p>第一步，验证设备是否可以使用Windows Hello。需要满足两个条件：</p>\n<ol>\n<li>有一个登录的微软账户；</li>\n<li>已经设置PIN登录或者surface系列的虹膜识别登录，或者其他生物识别设备都是可用的。</li>\n</ol>\n<p>用下面的代码实现。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">MicrosoftPassportAvailableCheckAsync</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">bool</span> keyCredentialAvailable = <span class=\"keyword\">await</span> KeyCredentialManager.IsSupportedAsync();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (keyCredentialAvailable == <span class=\"literal\">false</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Key credential is not enabled yet as user</span></span><br><span class=\"line\">        <span class=\"comment\">// needs to connect to a Microsoft Account and select a PIN in the connecting flow.</span></span><br><span class=\"line\">        Debug.WriteLine(<span class=\"string\">&quot;Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>使用时这样调用：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">bool</span> <span class=\"keyword\">value</span> = <span class=\"keyword\">await</span> MicrosoftPassportHelper.MicrosoftPassportAvailableCheckAsync()</span><br></pre></td></tr></table></figure>\n\n<p>返回是“true”说明可用。</p>\n<p>第二步，在本地创建登录的密钥。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">CreatePassportKeyAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    KeyCredentialRetrievalResult keyCreationResult = <span class=\"keyword\">await</span> KeyCredentialManager.RequestCreateAsync(accountId, KeyCredentialCreationOption.ReplaceExisting);</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (keyCreationResult.Status)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.Success:</span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;Successfully made key&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.UserCanceled:</span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;User cancelled sign-in process.&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> KeyCredentialStatus.NotFound:</span><br><span class=\"line\">            <span class=\"comment\">// User needs to setup Microsoft Passport</span></span><br><span class=\"line\">            Debug.WriteLine(<span class=\"string\">&quot;Microsoft Passport is not setup!\\nPlease go to Windows Settings and set up a PIN to use it.&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"literal\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>同样的使用方法，返回“true”说明注册成功。account使用你的App名称比较好。</p>\n<p>第三步，登录应用，这个有两个过程：</p>\n<ol>\n<li>获取已经注册的密钥，如果存在调用安全验证，输入PIN或者其他生物识别特征（虹膜，指纹等等）登录。</li>\n<li>如果不存在调用注册密钥过程。重新注册。</li>\n</ol>\n<p>第一个过程代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">GetPassportAuthenticationMessageAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">       KeyCredentialRetrievalResult openKeyResult = <span class=\"keyword\">await</span> KeyCredentialManager.OpenAsync(account);</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (openKeyResult.Status == KeyCredentialStatus.Success)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (openKeyResult.Status == KeyCredentialStatus.NotFound)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"keyword\">await</span> CreatePassportKeyAsync(account))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">// If the Passport Key was again successfully created, Microsoft Passport has just been reset.</span></span><br><span class=\"line\">               <span class=\"comment\">// Now that the Passport Key has been reset for the _account retry sign in.</span></span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> GetPassportAuthenticationMessageAsync(account);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"comment\">// Can&#x27;t use Passport right now, try again later</span></span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二个过程：调用了安全验证，枚举了所有的可能性，在这里我把其他的情况都返回“false”，只有验证成功的情况返回“true”。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> Task&lt;<span class=\"built_in\">bool</span>&gt; <span class=\"title\">ConsentVerifierAsync</span>()</span></span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">       <span class=\"keyword\">var</span> consentResult = <span class=\"keyword\">await</span> UserConsentVerifier.RequestVerificationAsync(HelloAccount);</span><br><span class=\"line\">       <span class=\"keyword\">switch</span> (consentResult)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.Verified:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DeviceNotPresent:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.NotConfiguredForUser:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DisabledByPolicy:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.DeviceBusy:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.RetriesExhausted:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"keyword\">case</span> UserConsentVerificationResult.Canceled:</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">           <span class=\"literal\">default</span>:</span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<p>可以这样使用，验证成功后导航到指定页面，代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">await</span> MicrosoftPassportHelper.ConsentVerifierAsync())</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Frame.Navigate(<span class=\"keyword\">typeof</span>(MainPage));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这样就完成了一个登录的整个过程。</p>\n<p>注销所注册的密钥的代码如下：</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">async</span> <span class=\"keyword\">void</span> <span class=\"title\">RemovePassportAccountAsync</span>(<span class=\"params\"><span class=\"built_in\">string</span> account</span>)</span></span><br><span class=\"line\">&#123;    </span><br><span class=\"line\"><span class=\"comment\">// Open the account with Passport    </span></span><br><span class=\"line\">KeyCredentialRetrievalResult keyOpenResult = <span class=\"keyword\">await</span> KeyCredentialManager.OpenAsync(account);    </span><br><span class=\"line\"><span class=\"comment\">// Then delete the account from the machines list of Passport Accounts    await KeyCredentialManager.DeleteAsync(account);&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/source/post_img/Demo.gif\"></p>\n<p>如果需要使用Windows Hello 登录服务，可以去看看<a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/microsoft-passport-login-auth-service\">微软的官方文档</a>。</p>\n"},{"title":"Win10 UWP使用DES加密解密字符串（自定义密码）","date":"2017-12-16T18:51:32.000Z","_content":"\n在我们开发应用时，一些重要的数据如果以明文的方式保存，自然是很不安全的。因此，我就需要将所保存的账户信息加密以后再保存。微软的官方文档中有这方面的内容，但是采用的是生成随机密钥的形式。我需要的是采用用户自己设置的密码加密和解密内容。一直不知道改怎么实现（个人水平太差），在看到周老师的[【WP开发】加密篇：双向加密](http://www.cnblogs.com/tcjiaan/p/4303918.html)的时候才知道了具体的操作方法。废话不多说了，直接上最终完成效果。\n微软的官方文档：[https://msdn.microsoft.com/library/windows/apps/br241537 ](https://msdn.microsoft.com/library/windows/apps/br241537) [https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys](https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys) [![](http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo--1024x765.gif)](http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo-.gif) 加密需要Key和IV两个值，他们都是数组的形式Byte\\[\\]。我写成了一个类，方便调用。\n```c#\n using System; \n using System.Collections.Generic; \n using System.Linq; \n using System.Text; \n using System.Threading.Tasks; \n using Windows.Security.Cryptography; \n using Windows.Security.Cryptography.Core; \n using Windows.Storage.Streams; \n namespace Des-Sample \n { \n   public class DESCBCHelper \n   { \n     public static string EnPassword(string value)\n      { \n        string _password = AppSettingsHelper.GetSettings(\"password\").ToString(); \n        value = DESCECEncryption(value, _password, _password); return value; \n      } \n\n      public static string DePassword(string value) { \n        string _password = AppSettingsHelper.GetSettings(\"password\").ToString(); \n        value = DESCBCDecryption(value, _password, _password); \n        return value; \n      } \n      //加密数据\n      private static string DESCECEncryption(string strMsg,string iv,string key) \n      { \n        //处理strMsg,不能为空，所以加一个空格。 \n        if (strMsg == \"\") { strMsg = \" \"; } \n        //加密模式，选择带Pkcs7的编码方式会自动补全所缺的字节，否则加密内容必须是8字节的倍数。 \n        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; \n        //把要加密的字符串进行UTF8编码并写入缓冲区\n        IBuffer buffMsg = CryptographicBuffer.ConvertStringToBinary(strMsg, BinaryStringEncoding.Utf8); SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); \n        //处理key \n        if (key.Length < 8) \n        { \n          key = key + \" \"; \n        } \n        byte\\[\\] byteKey = Encoding.UTF8.GetBytes(key); \n        IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); \n        //处理iv，iv必须大于8 \n        if (iv.Length < 8) \n        { \n          iv = iv + \" \"; \n        } \n        byte[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); \n        //加密字符串 \n        IBuffer buffEncrypt = CryptographicEngine.Encrypt(cryKey, buffMsg,buffIV); \n        //将缓冲区已加密的字符串转换为\n        Base64 string base64Msg = CryptographicBuffer.EncodeToBase64String(buffEncrypt); return base64Msg; \n      } \n      //解密数据 \n      private static string DESCBCDecryption(string strMsg, string iv, string key) \n      { \n        //加密模式 \n        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); \n        //把Base64转换为string，并写入缓冲区 \n        IBuffer buffMsg = CryptographicBuffer.DecodeFromBase64String(strMsg); \n        //处理key \n        if (key.Length < 8) { key = key + \" \"; } \n        byte[] byteKey = Encoding.UTF8.GetBytes(key); IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); \n        //处理iv //iv必须大于8 \n        if (iv.Length < 8) { iv = iv + \" \"; } \n        byte[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); \n        //解密 \n        IBuffer buffDecrypted = CryptographicEngine.Decrypt(cryKey, buffMsg, buffIV); string result = CryptographicBuffer.ConvertBinaryToString(BinaryStringEncoding.Utf8, buffDecrypted); return result; \n        } \n    } \n} \n```\n其中：AppSettingsHelper是我写的一个存储本地设置的帮助类。 需要注意的点：\n\n- 加密用的密码Key和IV长度都必须大于8，否则无法加密。我的处理方法不具有通用性（我获取的密码是大于等于6位的），或者干脆可以限制密码长度不小于8.\n- 需要加密的内容不能为空。\n- 为了演示方便我把key和Iv用了相同的值，实际操作中不要使用相同的值，增加安全性。\n\n调用方法： \n```c#\n//加密\nstring result = DESCBCHelper.EnPassword(tb1.Text);  \n//解密\nstring result = DESCBCHelper.DePassword(resultTB.Text);\n```\nDEMO下载： \n\nOneDrive链接：[Des-Sample](https://1drv.ms/u/s!ApMNS_xXtxUkmcQehBskSO2iq1aFeg) \n\n百度云链接：[Des-Sample](\"http://pan.baidu.com/s/1NjSo-1ikbBD7LSvEzVc6tA) 密码：xkgw\"","source":"_posts/UWP/win10-uwp使用des加密解密字符串.md","raw":"---\ntitle: Win10 UWP使用DES加密解密字符串（自定义密码）\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2017-12-17 02:51:32\n---\n\n在我们开发应用时，一些重要的数据如果以明文的方式保存，自然是很不安全的。因此，我就需要将所保存的账户信息加密以后再保存。微软的官方文档中有这方面的内容，但是采用的是生成随机密钥的形式。我需要的是采用用户自己设置的密码加密和解密内容。一直不知道改怎么实现（个人水平太差），在看到周老师的[【WP开发】加密篇：双向加密](http://www.cnblogs.com/tcjiaan/p/4303918.html)的时候才知道了具体的操作方法。废话不多说了，直接上最终完成效果。\n微软的官方文档：[https://msdn.microsoft.com/library/windows/apps/br241537 ](https://msdn.microsoft.com/library/windows/apps/br241537) [https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys](https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys) [![](http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo--1024x765.gif)](http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo-.gif) 加密需要Key和IV两个值，他们都是数组的形式Byte\\[\\]。我写成了一个类，方便调用。\n```c#\n using System; \n using System.Collections.Generic; \n using System.Linq; \n using System.Text; \n using System.Threading.Tasks; \n using Windows.Security.Cryptography; \n using Windows.Security.Cryptography.Core; \n using Windows.Storage.Streams; \n namespace Des-Sample \n { \n   public class DESCBCHelper \n   { \n     public static string EnPassword(string value)\n      { \n        string _password = AppSettingsHelper.GetSettings(\"password\").ToString(); \n        value = DESCECEncryption(value, _password, _password); return value; \n      } \n\n      public static string DePassword(string value) { \n        string _password = AppSettingsHelper.GetSettings(\"password\").ToString(); \n        value = DESCBCDecryption(value, _password, _password); \n        return value; \n      } \n      //加密数据\n      private static string DESCECEncryption(string strMsg,string iv,string key) \n      { \n        //处理strMsg,不能为空，所以加一个空格。 \n        if (strMsg == \"\") { strMsg = \" \"; } \n        //加密模式，选择带Pkcs7的编码方式会自动补全所缺的字节，否则加密内容必须是8字节的倍数。 \n        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; \n        //把要加密的字符串进行UTF8编码并写入缓冲区\n        IBuffer buffMsg = CryptographicBuffer.ConvertStringToBinary(strMsg, BinaryStringEncoding.Utf8); SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); \n        //处理key \n        if (key.Length < 8) \n        { \n          key = key + \" \"; \n        } \n        byte\\[\\] byteKey = Encoding.UTF8.GetBytes(key); \n        IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); \n        //处理iv，iv必须大于8 \n        if (iv.Length < 8) \n        { \n          iv = iv + \" \"; \n        } \n        byte[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); \n        //加密字符串 \n        IBuffer buffEncrypt = CryptographicEngine.Encrypt(cryKey, buffMsg,buffIV); \n        //将缓冲区已加密的字符串转换为\n        Base64 string base64Msg = CryptographicBuffer.EncodeToBase64String(buffEncrypt); return base64Msg; \n      } \n      //解密数据 \n      private static string DESCBCDecryption(string strMsg, string iv, string key) \n      { \n        //加密模式 \n        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); \n        //把Base64转换为string，并写入缓冲区 \n        IBuffer buffMsg = CryptographicBuffer.DecodeFromBase64String(strMsg); \n        //处理key \n        if (key.Length < 8) { key = key + \" \"; } \n        byte[] byteKey = Encoding.UTF8.GetBytes(key); IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); \n        //处理iv //iv必须大于8 \n        if (iv.Length < 8) { iv = iv + \" \"; } \n        byte[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); \n        //解密 \n        IBuffer buffDecrypted = CryptographicEngine.Decrypt(cryKey, buffMsg, buffIV); string result = CryptographicBuffer.ConvertBinaryToString(BinaryStringEncoding.Utf8, buffDecrypted); return result; \n        } \n    } \n} \n```\n其中：AppSettingsHelper是我写的一个存储本地设置的帮助类。 需要注意的点：\n\n- 加密用的密码Key和IV长度都必须大于8，否则无法加密。我的处理方法不具有通用性（我获取的密码是大于等于6位的），或者干脆可以限制密码长度不小于8.\n- 需要加密的内容不能为空。\n- 为了演示方便我把key和Iv用了相同的值，实际操作中不要使用相同的值，增加安全性。\n\n调用方法： \n```c#\n//加密\nstring result = DESCBCHelper.EnPassword(tb1.Text);  \n//解密\nstring result = DESCBCHelper.DePassword(resultTB.Text);\n```\nDEMO下载： \n\nOneDrive链接：[Des-Sample](https://1drv.ms/u/s!ApMNS_xXtxUkmcQehBskSO2iq1aFeg) \n\n百度云链接：[Des-Sample](\"http://pan.baidu.com/s/1NjSo-1ikbBD7LSvEzVc6tA) 密码：xkgw\"","slug":"UWP/win10-uwp使用des加密解密字符串","published":1,"updated":"2025-02-21T10:54:54.011Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl1z002lews70zwd9icv","content":"<p>在我们开发应用时，一些重要的数据如果以明文的方式保存，自然是很不安全的。因此，我就需要将所保存的账户信息加密以后再保存。微软的官方文档中有这方面的内容，但是采用的是生成随机密钥的形式。我需要的是采用用户自己设置的密码加密和解密内容。一直不知道改怎么实现（个人水平太差），在看到周老师的<a href=\"http://www.cnblogs.com/tcjiaan/p/4303918.html\">【WP开发】加密篇：双向加密</a>的时候才知道了具体的操作方法。废话不多说了，直接上最终完成效果。<br>微软的官方文档：<a href=\"https://msdn.microsoft.com/library/windows/apps/br241537\">https://msdn.microsoft.com/library/windows/apps/br241537 </a> <a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys\">https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys</a> <a href=\"http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo-.gif\"><img src=\"http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo--1024x765.gif\"></a> 加密需要Key和IV两个值，他们都是数组的形式Byte[]。我写成了一个类，方便调用。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">using</span> System; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Collections.Generic; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Linq; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Text; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Threading.Tasks; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Security.Cryptography; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Security.Cryptography.Core; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Storage.Streams; </span><br><span class=\"line\"> <span class=\"keyword\">namespace</span> <span class=\"title\">Des</span>-<span class=\"title\">Sample</span> </span><br><span class=\"line\"> &#123; </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DESCBCHelper</span> </span><br><span class=\"line\">   &#123; </span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">EnPassword</span>(<span class=\"params\"><span class=\"built_in\">string</span> <span class=\"keyword\">value</span></span>)</span></span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"built_in\">string</span> _password = AppSettingsHelper.GetSettings(<span class=\"string\">&quot;password&quot;</span>).ToString(); </span><br><span class=\"line\">        <span class=\"keyword\">value</span> = DESCECEncryption(<span class=\"keyword\">value</span>, _password, _password); <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DePassword</span>(<span class=\"params\"><span class=\"built_in\">string</span> <span class=\"keyword\">value</span></span>)</span> &#123; </span><br><span class=\"line\">        <span class=\"built_in\">string</span> _password = AppSettingsHelper.GetSettings(<span class=\"string\">&quot;password&quot;</span>).ToString(); </span><br><span class=\"line\">        <span class=\"keyword\">value</span> = DESCBCDecryption(<span class=\"keyword\">value</span>, _password, _password); </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"comment\">//加密数据</span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DESCECEncryption</span>(<span class=\"params\"><span class=\"built_in\">string</span> strMsg,<span class=\"built_in\">string</span> iv,<span class=\"built_in\">string</span> key</span>)</span> </span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"comment\">//处理strMsg,不能为空，所以加一个空格。 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (strMsg == <span class=\"string\">&quot;&quot;</span>) &#123; strMsg = <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"comment\">//加密模式，选择带Pkcs7的编码方式会自动补全所缺的字节，否则加密内容必须是8字节的倍数。 </span></span><br><span class=\"line\">        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; </span><br><span class=\"line\">        <span class=\"comment\">//把要加密的字符串进行UTF8编码并写入缓冲区</span></span><br><span class=\"line\">        IBuffer buffMsg = CryptographicBuffer.ConvertStringToBinary(strMsg, BinaryStringEncoding.Utf8); SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); </span><br><span class=\"line\">        <span class=\"comment\">//处理key </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (key.Length &lt; <span class=\"number\">8</span>) </span><br><span class=\"line\">        &#123; </span><br><span class=\"line\">          key = key + <span class=\"string\">&quot; &quot;</span>; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>\\[\\] byteKey = Encoding.UTF8.GetBytes(key); </span><br><span class=\"line\">        IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); </span><br><span class=\"line\">        <span class=\"comment\">//处理iv，iv必须大于8 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (iv.Length &lt; <span class=\"number\">8</span>) </span><br><span class=\"line\">        &#123; </span><br><span class=\"line\">          iv = iv + <span class=\"string\">&quot; &quot;</span>; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); </span><br><span class=\"line\">        <span class=\"comment\">//加密字符串 </span></span><br><span class=\"line\">        IBuffer buffEncrypt = CryptographicEngine.Encrypt(cryKey, buffMsg,buffIV); </span><br><span class=\"line\">        <span class=\"comment\">//将缓冲区已加密的字符串转换为</span></span><br><span class=\"line\">        Base64 <span class=\"built_in\">string</span> base64Msg = CryptographicBuffer.EncodeToBase64String(buffEncrypt); <span class=\"keyword\">return</span> base64Msg; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"comment\">//解密数据 </span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DESCBCDecryption</span>(<span class=\"params\"><span class=\"built_in\">string</span> strMsg, <span class=\"built_in\">string</span> iv, <span class=\"built_in\">string</span> key</span>)</span> </span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"comment\">//加密模式 </span></span><br><span class=\"line\">        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); </span><br><span class=\"line\">        <span class=\"comment\">//把Base64转换为string，并写入缓冲区 </span></span><br><span class=\"line\">        IBuffer buffMsg = CryptographicBuffer.DecodeFromBase64String(strMsg); </span><br><span class=\"line\">        <span class=\"comment\">//处理key </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (key.Length &lt; <span class=\"number\">8</span>) &#123; key = key + <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteKey = Encoding.UTF8.GetBytes(key); IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); </span><br><span class=\"line\">        <span class=\"comment\">//处理iv //iv必须大于8 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (iv.Length &lt; <span class=\"number\">8</span>) &#123; iv = iv + <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); </span><br><span class=\"line\">        <span class=\"comment\">//解密 </span></span><br><span class=\"line\">        IBuffer buffDecrypted = CryptographicEngine.Decrypt(cryKey, buffMsg, buffIV); <span class=\"built_in\">string</span> result = CryptographicBuffer.ConvertBinaryToString(BinaryStringEncoding.Utf8, buffDecrypted); <span class=\"keyword\">return</span> result; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>其中：AppSettingsHelper是我写的一个存储本地设置的帮助类。 需要注意的点：</p>\n<ul>\n<li>加密用的密码Key和IV长度都必须大于8，否则无法加密。我的处理方法不具有通用性（我获取的密码是大于等于6位的），或者干脆可以限制密码长度不小于8.</li>\n<li>需要加密的内容不能为空。</li>\n<li>为了演示方便我把key和Iv用了相同的值，实际操作中不要使用相同的值，增加安全性。</li>\n</ul>\n<p>调用方法： </p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//加密</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> result = DESCBCHelper.EnPassword(tb1.Text);  </span><br><span class=\"line\"><span class=\"comment\">//解密</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> result = DESCBCHelper.DePassword(resultTB.Text);</span><br></pre></td></tr></table></figure>\n<p>DEMO下载： </p>\n<p>OneDrive链接：<a href=\"https://1drv.ms/u/s!ApMNS_xXtxUkmcQehBskSO2iq1aFeg\">Des-Sample</a> </p>\n<p>百度云链接：<a href=\"%22http://pan.baidu.com/s/1NjSo-1ikbBD7LSvEzVc6tA\">Des-Sample</a> 密码：xkgw”</p>\n","excerpt":"","more":"<p>在我们开发应用时，一些重要的数据如果以明文的方式保存，自然是很不安全的。因此，我就需要将所保存的账户信息加密以后再保存。微软的官方文档中有这方面的内容，但是采用的是生成随机密钥的形式。我需要的是采用用户自己设置的密码加密和解密内容。一直不知道改怎么实现（个人水平太差），在看到周老师的<a href=\"http://www.cnblogs.com/tcjiaan/p/4303918.html\">【WP开发】加密篇：双向加密</a>的时候才知道了具体的操作方法。废话不多说了，直接上最终完成效果。<br>微软的官方文档：<a href=\"https://msdn.microsoft.com/library/windows/apps/br241537\">https://msdn.microsoft.com/library/windows/apps/br241537 </a> <a href=\"https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys\">https://docs.microsoft.com/zh-cn/windows/uwp/security/cryptographic-keys</a> <a href=\"http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo-.gif\"><img src=\"http://www.yzj0308.com/wp-content/uploads/2017/12/Des-SampleDemo--1024x765.gif\"></a> 加密需要Key和IV两个值，他们都是数组的形式Byte[]。我写成了一个类，方便调用。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">using</span> System; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Collections.Generic; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Linq; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Text; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> System.Threading.Tasks; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Security.Cryptography; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Security.Cryptography.Core; </span><br><span class=\"line\"> <span class=\"keyword\">using</span> Windows.Storage.Streams; </span><br><span class=\"line\"> <span class=\"keyword\">namespace</span> <span class=\"title\">Des</span>-<span class=\"title\">Sample</span> </span><br><span class=\"line\"> &#123; </span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DESCBCHelper</span> </span><br><span class=\"line\">   &#123; </span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">EnPassword</span>(<span class=\"params\"><span class=\"built_in\">string</span> <span class=\"keyword\">value</span></span>)</span></span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"built_in\">string</span> _password = AppSettingsHelper.GetSettings(<span class=\"string\">&quot;password&quot;</span>).ToString(); </span><br><span class=\"line\">        <span class=\"keyword\">value</span> = DESCECEncryption(<span class=\"keyword\">value</span>, _password, _password); <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DePassword</span>(<span class=\"params\"><span class=\"built_in\">string</span> <span class=\"keyword\">value</span></span>)</span> &#123; </span><br><span class=\"line\">        <span class=\"built_in\">string</span> _password = AppSettingsHelper.GetSettings(<span class=\"string\">&quot;password&quot;</span>).ToString(); </span><br><span class=\"line\">        <span class=\"keyword\">value</span> = DESCBCDecryption(<span class=\"keyword\">value</span>, _password, _password); </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">value</span>; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"comment\">//加密数据</span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DESCECEncryption</span>(<span class=\"params\"><span class=\"built_in\">string</span> strMsg,<span class=\"built_in\">string</span> iv,<span class=\"built_in\">string</span> key</span>)</span> </span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"comment\">//处理strMsg,不能为空，所以加一个空格。 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (strMsg == <span class=\"string\">&quot;&quot;</span>) &#123; strMsg = <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"comment\">//加密模式，选择带Pkcs7的编码方式会自动补全所缺的字节，否则加密内容必须是8字节的倍数。 </span></span><br><span class=\"line\">        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; </span><br><span class=\"line\">        <span class=\"comment\">//把要加密的字符串进行UTF8编码并写入缓冲区</span></span><br><span class=\"line\">        IBuffer buffMsg = CryptographicBuffer.ConvertStringToBinary(strMsg, BinaryStringEncoding.Utf8); SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); </span><br><span class=\"line\">        <span class=\"comment\">//处理key </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (key.Length &lt; <span class=\"number\">8</span>) </span><br><span class=\"line\">        &#123; </span><br><span class=\"line\">          key = key + <span class=\"string\">&quot; &quot;</span>; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>\\[\\] byteKey = Encoding.UTF8.GetBytes(key); </span><br><span class=\"line\">        IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); </span><br><span class=\"line\">        <span class=\"comment\">//处理iv，iv必须大于8 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (iv.Length &lt; <span class=\"number\">8</span>) </span><br><span class=\"line\">        &#123; </span><br><span class=\"line\">          iv = iv + <span class=\"string\">&quot; &quot;</span>; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); </span><br><span class=\"line\">        <span class=\"comment\">//加密字符串 </span></span><br><span class=\"line\">        IBuffer buffEncrypt = CryptographicEngine.Encrypt(cryKey, buffMsg,buffIV); </span><br><span class=\"line\">        <span class=\"comment\">//将缓冲区已加密的字符串转换为</span></span><br><span class=\"line\">        Base64 <span class=\"built_in\">string</span> base64Msg = CryptographicBuffer.EncodeToBase64String(buffEncrypt); <span class=\"keyword\">return</span> base64Msg; </span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"comment\">//解密数据 </span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> <span class=\"title\">DESCBCDecryption</span>(<span class=\"params\"><span class=\"built_in\">string</span> strMsg, <span class=\"built_in\">string</span> iv, <span class=\"built_in\">string</span> key</span>)</span> </span><br><span class=\"line\">      &#123; </span><br><span class=\"line\">        <span class=\"comment\">//加密模式 </span></span><br><span class=\"line\">        String strAlgName = SymmetricAlgorithmNames.DesCbcPkcs7; SymmetricKeyAlgorithmProvider objAlg = SymmetricKeyAlgorithmProvider.OpenAlgorithm(strAlgName); </span><br><span class=\"line\">        <span class=\"comment\">//把Base64转换为string，并写入缓冲区 </span></span><br><span class=\"line\">        IBuffer buffMsg = CryptographicBuffer.DecodeFromBase64String(strMsg); </span><br><span class=\"line\">        <span class=\"comment\">//处理key </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (key.Length &lt; <span class=\"number\">8</span>) &#123; key = key + <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteKey = Encoding.UTF8.GetBytes(key); IBuffer buffKey = CryptographicBuffer.CreateFromByteArray(byteKey); CryptographicKey cryKey = objAlg.CreateSymmetricKey(buffKey); </span><br><span class=\"line\">        <span class=\"comment\">//处理iv //iv必须大于8 </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (iv.Length &lt; <span class=\"number\">8</span>) &#123; iv = iv + <span class=\"string\">&quot; &quot;</span>; &#125; </span><br><span class=\"line\">        <span class=\"built_in\">byte</span>[] byteIV = Encoding.UTF8.GetBytes(iv); IBuffer buffIV = CryptographicBuffer.CreateFromByteArray(byteIV); </span><br><span class=\"line\">        <span class=\"comment\">//解密 </span></span><br><span class=\"line\">        IBuffer buffDecrypted = CryptographicEngine.Decrypt(cryKey, buffMsg, buffIV); <span class=\"built_in\">string</span> result = CryptographicBuffer.ConvertBinaryToString(BinaryStringEncoding.Utf8, buffDecrypted); <span class=\"keyword\">return</span> result; </span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n<p>其中：AppSettingsHelper是我写的一个存储本地设置的帮助类。 需要注意的点：</p>\n<ul>\n<li>加密用的密码Key和IV长度都必须大于8，否则无法加密。我的处理方法不具有通用性（我获取的密码是大于等于6位的），或者干脆可以限制密码长度不小于8.</li>\n<li>需要加密的内容不能为空。</li>\n<li>为了演示方便我把key和Iv用了相同的值，实际操作中不要使用相同的值，增加安全性。</li>\n</ul>\n<p>调用方法： </p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//加密</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> result = DESCBCHelper.EnPassword(tb1.Text);  </span><br><span class=\"line\"><span class=\"comment\">//解密</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> result = DESCBCHelper.DePassword(resultTB.Text);</span><br></pre></td></tr></table></figure>\n<p>DEMO下载： </p>\n<p>OneDrive链接：<a href=\"https://1drv.ms/u/s!ApMNS_xXtxUkmcQehBskSO2iq1aFeg\">Des-Sample</a> </p>\n<p>百度云链接：<a href=\"%22http://pan.baidu.com/s/1NjSo-1ikbBD7LSvEzVc6tA\">Des-Sample</a> 密码：xkgw”</p>\n"},{"title":"阿里云虚拟主机无法使用Smtp发送邮件","date":"2019-07-11T09:31:57.000Z","_content":"\n因阿里云虚拟主机禁用了mail()函数，导致wordpress系统无法使用默认mail()函数发送邮件，即便改用SMTP插件也无法成功发送（因为阿里云虚拟主机提供的是fsockopen，而SMTP所使用的是steam\\_connect\\_client），因此想要实现SMTP成功发送邮件，就要修改wordpress程序源文件class-smtp.php，把wordpres的SMTP发送方式改为fsockopen方式。\n\n1、登录阿里云主机管理控制台，进入：站点信息-高级环境设置-php.ini设置，PHP函数fsockopen设置：启用\n\n2、修改wordpress系统文件，打开 /wp-includes/class-smtp.php，在274-283 行位置，查找以下代码：\n\n$socket\\_context = stream\\_context\\_create($options);\n//Suppress errors; connection failures are handled at a higher level\n$this->smtp\\_conn = @stream\\_socket\\_client(\n     $host . \":\" . $port,\n     $errno,\n     $errstr,\n     $timeout,\n     STREAM\\_CLIENT\\_CONNECT,\n     $socket\\_context\n);\n\n替换为以下代码：\n\n$this->smtp\\_conn = @fsockopen($host,$port,$errno,$errstr,$timeout);\n\n然后使用 [Easy WP SMTP](http://www.themege.com/downloads/easy-wp-smtp/) 或 WP MAIL SMTP 这类 SMTP 发送邮件的插件，配置好一般就可以了。  \n**特别注意：由于这个方法是直接修改了 WordPress 的核心代码，一旦升级了 WordPress 版本，就需要重新进行修改，切记！！！**\n\n[原文链接](https://www.themege.com/aliyun-mail-failure/)","source":"_posts/Tool/aliyun-smtp-send-email-failed.md","raw":"---\ntitle: 阿里云虚拟主机无法使用Smtp发送邮件\ntags:\n  - Smtp\n  - 阿里云\n  - wordpress\ncategories:\n  - - 服务器\ndate: 2019-07-11 17:31:57\n---\n\n因阿里云虚拟主机禁用了mail()函数，导致wordpress系统无法使用默认mail()函数发送邮件，即便改用SMTP插件也无法成功发送（因为阿里云虚拟主机提供的是fsockopen，而SMTP所使用的是steam\\_connect\\_client），因此想要实现SMTP成功发送邮件，就要修改wordpress程序源文件class-smtp.php，把wordpres的SMTP发送方式改为fsockopen方式。\n\n1、登录阿里云主机管理控制台，进入：站点信息-高级环境设置-php.ini设置，PHP函数fsockopen设置：启用\n\n2、修改wordpress系统文件，打开 /wp-includes/class-smtp.php，在274-283 行位置，查找以下代码：\n\n$socket\\_context = stream\\_context\\_create($options);\n//Suppress errors; connection failures are handled at a higher level\n$this->smtp\\_conn = @stream\\_socket\\_client(\n     $host . \":\" . $port,\n     $errno,\n     $errstr,\n     $timeout,\n     STREAM\\_CLIENT\\_CONNECT,\n     $socket\\_context\n);\n\n替换为以下代码：\n\n$this->smtp\\_conn = @fsockopen($host,$port,$errno,$errstr,$timeout);\n\n然后使用 [Easy WP SMTP](http://www.themege.com/downloads/easy-wp-smtp/) 或 WP MAIL SMTP 这类 SMTP 发送邮件的插件，配置好一般就可以了。  \n**特别注意：由于这个方法是直接修改了 WordPress 的核心代码，一旦升级了 WordPress 版本，就需要重新进行修改，切记！！！**\n\n[原文链接](https://www.themege.com/aliyun-mail-failure/)","slug":"Tool/aliyun-smtp-send-email-failed","published":1,"updated":"2025-02-21T10:54:53.993Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl20002pews72blyd8b0","content":"<p>因阿里云虚拟主机禁用了mail()函数，导致wordpress系统无法使用默认mail()函数发送邮件，即便改用SMTP插件也无法成功发送（因为阿里云虚拟主机提供的是fsockopen，而SMTP所使用的是steam_connect_client），因此想要实现SMTP成功发送邮件，就要修改wordpress程序源文件class-smtp.php，把wordpres的SMTP发送方式改为fsockopen方式。</p>\n<p>1、登录阿里云主机管理控制台，进入：站点信息-高级环境设置-php.ini设置，PHP函数fsockopen设置：启用</p>\n<p>2、修改wordpress系统文件，打开 &#x2F;wp-includes&#x2F;class-smtp.php，在274-283 行位置，查找以下代码：</p>\n<p>$socket_context &#x3D; stream_context_create($options);<br>&#x2F;&#x2F;Suppress errors; connection failures are handled at a higher level<br>$this-&gt;smtp_conn &#x3D; @stream_socket_client(<br>     $host . “:” . $port,<br>     $errno,<br>     $errstr,<br>     $timeout,<br>     STREAM_CLIENT_CONNECT,<br>     $socket_context<br>);</p>\n<p>替换为以下代码：</p>\n<p>$this-&gt;smtp_conn &#x3D; @fsockopen($host,$port,$errno,$errstr,$timeout);</p>\n<p>然后使用 <a href=\"http://www.themege.com/downloads/easy-wp-smtp/\">Easy WP SMTP</a> 或 WP MAIL SMTP 这类 SMTP 发送邮件的插件，配置好一般就可以了。<br><strong>特别注意：由于这个方法是直接修改了 WordPress 的核心代码，一旦升级了 WordPress 版本，就需要重新进行修改，切记！！！</strong></p>\n<p><a href=\"https://www.themege.com/aliyun-mail-failure/\">原文链接</a></p>\n","excerpt":"","more":"<p>因阿里云虚拟主机禁用了mail()函数，导致wordpress系统无法使用默认mail()函数发送邮件，即便改用SMTP插件也无法成功发送（因为阿里云虚拟主机提供的是fsockopen，而SMTP所使用的是steam_connect_client），因此想要实现SMTP成功发送邮件，就要修改wordpress程序源文件class-smtp.php，把wordpres的SMTP发送方式改为fsockopen方式。</p>\n<p>1、登录阿里云主机管理控制台，进入：站点信息-高级环境设置-php.ini设置，PHP函数fsockopen设置：启用</p>\n<p>2、修改wordpress系统文件，打开 &#x2F;wp-includes&#x2F;class-smtp.php，在274-283 行位置，查找以下代码：</p>\n<p>$socket_context &#x3D; stream_context_create($options);<br>&#x2F;&#x2F;Suppress errors; connection failures are handled at a higher level<br>$this-&gt;smtp_conn &#x3D; @stream_socket_client(<br>     $host . “:” . $port,<br>     $errno,<br>     $errstr,<br>     $timeout,<br>     STREAM_CLIENT_CONNECT,<br>     $socket_context<br>);</p>\n<p>替换为以下代码：</p>\n<p>$this-&gt;smtp_conn &#x3D; @fsockopen($host,$port,$errno,$errstr,$timeout);</p>\n<p>然后使用 <a href=\"http://www.themege.com/downloads/easy-wp-smtp/\">Easy WP SMTP</a> 或 WP MAIL SMTP 这类 SMTP 发送邮件的插件，配置好一般就可以了。<br><strong>特别注意：由于这个方法是直接修改了 WordPress 的核心代码，一旦升级了 WordPress 版本，就需要重新进行修改，切记！！！</strong></p>\n<p><a href=\"https://www.themege.com/aliyun-mail-failure/\">原文链接</a></p>\n"},{"title":"反编译安卓apk文件","date":"2020-01-11T18:48:00.000Z","_content":"\n需要用到的工具：\n\n*   [apktool](https://ibotpeaches.github.io/Apktool/install/)\n*   [jd-gui](https://github.com/java-decompiler/jd-gui)\n*   [dex2jar](https://github.com/pxb1988/dex2jar)\n\n## 方法一\n\n使用apktool，下载解压apktool，然后打开cmd，进入apktool所在的文件夹，命令 `apktool d Demo.apk`\n\n## 方法二\n\n下载jd-gui和dex2jar，全部解压，解压Demo.apk，复制里面的.dex文件到dex2jar的文件夹内， 然后打开cmd，进入dex2jar所在的文件夹，命令`d2j-dex2jar classes.dex` 。会在文件夹中生成 classes-dex2jar.jar。\n\n打开jd-gui，把上面生成的 classes-dex2jar.jar 打开。就可以看到java源码了。\n\n参考文章： [https://juejin.im/post/5d804928f265da03a7160717](https://juejin.im/post/5d804928f265da03a7160717)","source":"_posts/Tool/decompile-android-apk-file.md","raw":"---\ntitle: 反编译安卓apk文件\ntags:\n  - 安卓\ncategories:\n  - - 开发笔记\ndate: 2020-01-12 02:48:00\n---\n\n需要用到的工具：\n\n*   [apktool](https://ibotpeaches.github.io/Apktool/install/)\n*   [jd-gui](https://github.com/java-decompiler/jd-gui)\n*   [dex2jar](https://github.com/pxb1988/dex2jar)\n\n## 方法一\n\n使用apktool，下载解压apktool，然后打开cmd，进入apktool所在的文件夹，命令 `apktool d Demo.apk`\n\n## 方法二\n\n下载jd-gui和dex2jar，全部解压，解压Demo.apk，复制里面的.dex文件到dex2jar的文件夹内， 然后打开cmd，进入dex2jar所在的文件夹，命令`d2j-dex2jar classes.dex` 。会在文件夹中生成 classes-dex2jar.jar。\n\n打开jd-gui，把上面生成的 classes-dex2jar.jar 打开。就可以看到java源码了。\n\n参考文章： [https://juejin.im/post/5d804928f265da03a7160717](https://juejin.im/post/5d804928f265da03a7160717)","slug":"Tool/decompile-android-apk-file","published":1,"updated":"2025-02-21T10:54:53.994Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl20002sews70yeiay12","content":"<p>需要用到的工具：</p>\n<ul>\n<li><a href=\"https://ibotpeaches.github.io/Apktool/install/\">apktool</a></li>\n<li><a href=\"https://github.com/java-decompiler/jd-gui\">jd-gui</a></li>\n<li><a href=\"https://github.com/pxb1988/dex2jar\">dex2jar</a></li>\n</ul>\n<h2 id=\"方法一\"><a href=\"#方法一\" class=\"headerlink\" title=\"方法一\"></a>方法一</h2><p>使用apktool，下载解压apktool，然后打开cmd，进入apktool所在的文件夹，命令 <code>apktool d Demo.apk</code></p>\n<h2 id=\"方法二\"><a href=\"#方法二\" class=\"headerlink\" title=\"方法二\"></a>方法二</h2><p>下载jd-gui和dex2jar，全部解压，解压Demo.apk，复制里面的.dex文件到dex2jar的文件夹内， 然后打开cmd，进入dex2jar所在的文件夹，命令<code>d2j-dex2jar classes.dex</code> 。会在文件夹中生成 classes-dex2jar.jar。</p>\n<p>打开jd-gui，把上面生成的 classes-dex2jar.jar 打开。就可以看到java源码了。</p>\n<p>参考文章： <a href=\"https://juejin.im/post/5d804928f265da03a7160717\">https://juejin.im/post/5d804928f265da03a7160717</a></p>\n","excerpt":"","more":"<p>需要用到的工具：</p>\n<ul>\n<li><a href=\"https://ibotpeaches.github.io/Apktool/install/\">apktool</a></li>\n<li><a href=\"https://github.com/java-decompiler/jd-gui\">jd-gui</a></li>\n<li><a href=\"https://github.com/pxb1988/dex2jar\">dex2jar</a></li>\n</ul>\n<h2 id=\"方法一\"><a href=\"#方法一\" class=\"headerlink\" title=\"方法一\"></a>方法一</h2><p>使用apktool，下载解压apktool，然后打开cmd，进入apktool所在的文件夹，命令 <code>apktool d Demo.apk</code></p>\n<h2 id=\"方法二\"><a href=\"#方法二\" class=\"headerlink\" title=\"方法二\"></a>方法二</h2><p>下载jd-gui和dex2jar，全部解压，解压Demo.apk，复制里面的.dex文件到dex2jar的文件夹内， 然后打开cmd，进入dex2jar所在的文件夹，命令<code>d2j-dex2jar classes.dex</code> 。会在文件夹中生成 classes-dex2jar.jar。</p>\n<p>打开jd-gui，把上面生成的 classes-dex2jar.jar 打开。就可以看到java源码了。</p>\n<p>参考文章： <a href=\"https://juejin.im/post/5d804928f265da03a7160717\">https://juejin.im/post/5d804928f265da03a7160717</a></p>\n"},{"title":"Github Desktop无法使用","date":"2019-04-16T11:23:36.000Z","_content":"\n## 一、常见错误及处理方法\n\n### 1、OpenSSL Erro及解决方法\n\n![](https://fc8gla.dm.files.1drv.com/y4mP4gFGYnQZj4U3_29-5-p_ZR41PU0K8F7CGv4NGx5l3sXVqoSXEU1Fp7jeSOvJFmb4R0NYcA_S7emMroUlCQJ1trK0S7OhVX5HZPlywJv3rtwmk3XBZ_cTYj9NnbLsyLX_8mCIXtfJs4OUQaltErAM08lHA4_oJSmk-buvWZJyOlhjCPwE_j6eelL7r-oe8775PlifyTV4q-jJIfsTP4FPg?width=630&height=236&cropmode=none)\n\n首先是需要安装[Git](https://git-scm.com/)(安装有不懂就一直下一步)，然后发现直接也用不了。需要打开Git CMD,然后执行下面的命令。看评论说执行第一个就可以使用了。但是我两个都执行了。无所谓了。反正是有效的。[原文地址](https://stackoverflow.com/questions/49345357/fatal-unable-to-access-https-github-com-xxx-openssl-ssl-connect-ssl-error)\n\n```\ngit config --global http.sslBackend \"openssl\"\ngit config --global http.sslCAInfo \"C:\\Program Files\\Git\\mingw64\\ssl\\cert.pem\"\n```\n\n### 2、请求超时Timeout\n\n本地开启梯子后，Git还需要设置代理，才能正常使用。\n\n添加代理，主要是socks5.稳妥起见都设置了吧。\n\n```\ngit config --global https.proxy http://127.0.0.1:1081\n\ngit config --global https.proxy https://127.0.0.1:1081\n\ngit config --global http.proxy 'socks5://127.0.0.1:1080' \n\ngit config --global https.proxy 'socks5://127.0.0.1:1080'\n```\n\n取消代理\n\n```\ngit config --global --unset http.proxy\n\ngit config --global --unset https.proxy\n```\n\n这样Github Desktop应该就可以正常使用了。\n\n## 二、Git常用使用方法\n\n首先进入项目根目录，空白处右键，选择“Git Bash Here\".\n\n![](https://geting.bn.files.1drv.com/y4mla4pr4_m-TcZwRvpmwyeG9dD1zP0l5JZ_xTV0wvxAUXVJ8JsERFgMGD4bUmsKJB5Cdv2hqz6CH_y1KgL8OQMx3646KRpL3DJgky3wMYebOrAu_Mz5KK7OIUzqGnBLWBeEDZwouhDfI7P3H7AG6EoKFNQuf9mHXgLPwVEs0CfBtyBiiOyUJ4kq0gNlDGfTpFOcJCAawt-MT90G9vxUnKJzw?width=899&height=585&cropmode=none)\n\n基本配置邮箱和用户名\n\n```\ngit config --global user.name \"KevinZjYang\"\ngit config --global user.email \"keivn.zj.yang@outlook.com\"\n```\n\n### 1、Pull和Fetch\n\npull是直接和本地合并的。fetch是更安全的方式，[看这里](https://www.jianshu.com/p/4c1d3b741b19)\n\n```\ngit pull origin master\n```\n\n### 2、Push\n\n其他同上\n\n```\ngit push origin master\n```\n\n### 3、查看远程仓库\n\n```\ngit remote -v\n```\n\n### 4、Clone\n\n首先进入你想克隆的本地文件夹。然后再运行下面命令。\n\n```\ngit clone 远程项目地址\n```\n\n### 5、清除未提交的内容\n\n```\ngit clean -df\ngit reset --hard\n```","source":"_posts/Tool/github-desktop-ssl-erro.md","raw":"---\ntitle: Github Desktop无法使用\ntags:\n  - Git\n  - Github Desktop\ncategories:\n  - - 随笔\ndate: 2019-04-16 19:23:36\n---\n\n## 一、常见错误及处理方法\n\n### 1、OpenSSL Erro及解决方法\n\n![](https://fc8gla.dm.files.1drv.com/y4mP4gFGYnQZj4U3_29-5-p_ZR41PU0K8F7CGv4NGx5l3sXVqoSXEU1Fp7jeSOvJFmb4R0NYcA_S7emMroUlCQJ1trK0S7OhVX5HZPlywJv3rtwmk3XBZ_cTYj9NnbLsyLX_8mCIXtfJs4OUQaltErAM08lHA4_oJSmk-buvWZJyOlhjCPwE_j6eelL7r-oe8775PlifyTV4q-jJIfsTP4FPg?width=630&height=236&cropmode=none)\n\n首先是需要安装[Git](https://git-scm.com/)(安装有不懂就一直下一步)，然后发现直接也用不了。需要打开Git CMD,然后执行下面的命令。看评论说执行第一个就可以使用了。但是我两个都执行了。无所谓了。反正是有效的。[原文地址](https://stackoverflow.com/questions/49345357/fatal-unable-to-access-https-github-com-xxx-openssl-ssl-connect-ssl-error)\n\n```\ngit config --global http.sslBackend \"openssl\"\ngit config --global http.sslCAInfo \"C:\\Program Files\\Git\\mingw64\\ssl\\cert.pem\"\n```\n\n### 2、请求超时Timeout\n\n本地开启梯子后，Git还需要设置代理，才能正常使用。\n\n添加代理，主要是socks5.稳妥起见都设置了吧。\n\n```\ngit config --global https.proxy http://127.0.0.1:1081\n\ngit config --global https.proxy https://127.0.0.1:1081\n\ngit config --global http.proxy 'socks5://127.0.0.1:1080' \n\ngit config --global https.proxy 'socks5://127.0.0.1:1080'\n```\n\n取消代理\n\n```\ngit config --global --unset http.proxy\n\ngit config --global --unset https.proxy\n```\n\n这样Github Desktop应该就可以正常使用了。\n\n## 二、Git常用使用方法\n\n首先进入项目根目录，空白处右键，选择“Git Bash Here\".\n\n![](https://geting.bn.files.1drv.com/y4mla4pr4_m-TcZwRvpmwyeG9dD1zP0l5JZ_xTV0wvxAUXVJ8JsERFgMGD4bUmsKJB5Cdv2hqz6CH_y1KgL8OQMx3646KRpL3DJgky3wMYebOrAu_Mz5KK7OIUzqGnBLWBeEDZwouhDfI7P3H7AG6EoKFNQuf9mHXgLPwVEs0CfBtyBiiOyUJ4kq0gNlDGfTpFOcJCAawt-MT90G9vxUnKJzw?width=899&height=585&cropmode=none)\n\n基本配置邮箱和用户名\n\n```\ngit config --global user.name \"KevinZjYang\"\ngit config --global user.email \"keivn.zj.yang@outlook.com\"\n```\n\n### 1、Pull和Fetch\n\npull是直接和本地合并的。fetch是更安全的方式，[看这里](https://www.jianshu.com/p/4c1d3b741b19)\n\n```\ngit pull origin master\n```\n\n### 2、Push\n\n其他同上\n\n```\ngit push origin master\n```\n\n### 3、查看远程仓库\n\n```\ngit remote -v\n```\n\n### 4、Clone\n\n首先进入你想克隆的本地文件夹。然后再运行下面命令。\n\n```\ngit clone 远程项目地址\n```\n\n### 5、清除未提交的内容\n\n```\ngit clean -df\ngit reset --hard\n```","slug":"Tool/github-desktop-ssl-erro","published":1,"updated":"2025-02-21T10:54:53.994Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl21002vews77xmng9ua","content":"<h2 id=\"一、常见错误及处理方法\"><a href=\"#一、常见错误及处理方法\" class=\"headerlink\" title=\"一、常见错误及处理方法\"></a>一、常见错误及处理方法</h2><h3 id=\"1、OpenSSL-Erro及解决方法\"><a href=\"#1、OpenSSL-Erro及解决方法\" class=\"headerlink\" title=\"1、OpenSSL Erro及解决方法\"></a>1、OpenSSL Erro及解决方法</h3><p><img src=\"https://fc8gla.dm.files.1drv.com/y4mP4gFGYnQZj4U3_29-5-p_ZR41PU0K8F7CGv4NGx5l3sXVqoSXEU1Fp7jeSOvJFmb4R0NYcA_S7emMroUlCQJ1trK0S7OhVX5HZPlywJv3rtwmk3XBZ_cTYj9NnbLsyLX_8mCIXtfJs4OUQaltErAM08lHA4_oJSmk-buvWZJyOlhjCPwE_j6eelL7r-oe8775PlifyTV4q-jJIfsTP4FPg?width=630&height=236&cropmode=none\"></p>\n<p>首先是需要安装<a href=\"https://git-scm.com/\">Git</a>(安装有不懂就一直下一步)，然后发现直接也用不了。需要打开Git CMD,然后执行下面的命令。看评论说执行第一个就可以使用了。但是我两个都执行了。无所谓了。反正是有效的。<a href=\"https://stackoverflow.com/questions/49345357/fatal-unable-to-access-https-github-com-xxx-openssl-ssl-connect-ssl-error\">原文地址</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global http.sslBackend &quot;openssl&quot;</span><br><span class=\"line\">git config --global http.sslCAInfo &quot;C:\\Program Files\\Git\\mingw64\\ssl\\cert.pem&quot;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、请求超时Timeout\"><a href=\"#2、请求超时Timeout\" class=\"headerlink\" title=\"2、请求超时Timeout\"></a>2、请求超时Timeout</h3><p>本地开启梯子后，Git还需要设置代理，才能正常使用。</p>\n<p>添加代理，主要是socks5.稳妥起见都设置了吧。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global https.proxy http://127.0.0.1:1081</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global https.proxy https://127.0.0.1:1081</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global http.proxy &#x27;socks5://127.0.0.1:1080&#x27; </span><br><span class=\"line\"></span><br><span class=\"line\">git config --global https.proxy &#x27;socks5://127.0.0.1:1080&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>取消代理</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global --unset http.proxy</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>\n\n<p>这样Github Desktop应该就可以正常使用了。</p>\n<h2 id=\"二、Git常用使用方法\"><a href=\"#二、Git常用使用方法\" class=\"headerlink\" title=\"二、Git常用使用方法\"></a>二、Git常用使用方法</h2><p>首先进入项目根目录，空白处右键，选择“Git Bash Here”.</p>\n<p><img src=\"https://geting.bn.files.1drv.com/y4mla4pr4_m-TcZwRvpmwyeG9dD1zP0l5JZ_xTV0wvxAUXVJ8JsERFgMGD4bUmsKJB5Cdv2hqz6CH_y1KgL8OQMx3646KRpL3DJgky3wMYebOrAu_Mz5KK7OIUzqGnBLWBeEDZwouhDfI7P3H7AG6EoKFNQuf9mHXgLPwVEs0CfBtyBiiOyUJ4kq0gNlDGfTpFOcJCAawt-MT90G9vxUnKJzw?width=899&height=585&cropmode=none\"></p>\n<p>基本配置邮箱和用户名</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name &quot;KevinZjYang&quot;</span><br><span class=\"line\">git config --global user.email &quot;keivn.zj.yang@outlook.com&quot;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1、Pull和Fetch\"><a href=\"#1、Pull和Fetch\" class=\"headerlink\" title=\"1、Pull和Fetch\"></a>1、Pull和Fetch</h3><p>pull是直接和本地合并的。fetch是更安全的方式，<a href=\"https://www.jianshu.com/p/4c1d3b741b19\">看这里</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、Push\"><a href=\"#2、Push\" class=\"headerlink\" title=\"2、Push\"></a>2、Push</h3><p>其他同上</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3、查看远程仓库\"><a href=\"#3、查看远程仓库\" class=\"headerlink\" title=\"3、查看远程仓库\"></a>3、查看远程仓库</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote -v</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4、Clone\"><a href=\"#4、Clone\" class=\"headerlink\" title=\"4、Clone\"></a>4、Clone</h3><p>首先进入你想克隆的本地文件夹。然后再运行下面命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone 远程项目地址</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5、清除未提交的内容\"><a href=\"#5、清除未提交的内容\" class=\"headerlink\" title=\"5、清除未提交的内容\"></a>5、清除未提交的内容</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clean -df</span><br><span class=\"line\">git reset --hard</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<h2 id=\"一、常见错误及处理方法\"><a href=\"#一、常见错误及处理方法\" class=\"headerlink\" title=\"一、常见错误及处理方法\"></a>一、常见错误及处理方法</h2><h3 id=\"1、OpenSSL-Erro及解决方法\"><a href=\"#1、OpenSSL-Erro及解决方法\" class=\"headerlink\" title=\"1、OpenSSL Erro及解决方法\"></a>1、OpenSSL Erro及解决方法</h3><p><img src=\"https://fc8gla.dm.files.1drv.com/y4mP4gFGYnQZj4U3_29-5-p_ZR41PU0K8F7CGv4NGx5l3sXVqoSXEU1Fp7jeSOvJFmb4R0NYcA_S7emMroUlCQJ1trK0S7OhVX5HZPlywJv3rtwmk3XBZ_cTYj9NnbLsyLX_8mCIXtfJs4OUQaltErAM08lHA4_oJSmk-buvWZJyOlhjCPwE_j6eelL7r-oe8775PlifyTV4q-jJIfsTP4FPg?width=630&height=236&cropmode=none\"></p>\n<p>首先是需要安装<a href=\"https://git-scm.com/\">Git</a>(安装有不懂就一直下一步)，然后发现直接也用不了。需要打开Git CMD,然后执行下面的命令。看评论说执行第一个就可以使用了。但是我两个都执行了。无所谓了。反正是有效的。<a href=\"https://stackoverflow.com/questions/49345357/fatal-unable-to-access-https-github-com-xxx-openssl-ssl-connect-ssl-error\">原文地址</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global http.sslBackend &quot;openssl&quot;</span><br><span class=\"line\">git config --global http.sslCAInfo &quot;C:\\Program Files\\Git\\mingw64\\ssl\\cert.pem&quot;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、请求超时Timeout\"><a href=\"#2、请求超时Timeout\" class=\"headerlink\" title=\"2、请求超时Timeout\"></a>2、请求超时Timeout</h3><p>本地开启梯子后，Git还需要设置代理，才能正常使用。</p>\n<p>添加代理，主要是socks5.稳妥起见都设置了吧。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global https.proxy http://127.0.0.1:1081</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global https.proxy https://127.0.0.1:1081</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global http.proxy &#x27;socks5://127.0.0.1:1080&#x27; </span><br><span class=\"line\"></span><br><span class=\"line\">git config --global https.proxy &#x27;socks5://127.0.0.1:1080&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>取消代理</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global --unset http.proxy</span><br><span class=\"line\"></span><br><span class=\"line\">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure>\n\n<p>这样Github Desktop应该就可以正常使用了。</p>\n<h2 id=\"二、Git常用使用方法\"><a href=\"#二、Git常用使用方法\" class=\"headerlink\" title=\"二、Git常用使用方法\"></a>二、Git常用使用方法</h2><p>首先进入项目根目录，空白处右键，选择“Git Bash Here”.</p>\n<p><img src=\"https://geting.bn.files.1drv.com/y4mla4pr4_m-TcZwRvpmwyeG9dD1zP0l5JZ_xTV0wvxAUXVJ8JsERFgMGD4bUmsKJB5Cdv2hqz6CH_y1KgL8OQMx3646KRpL3DJgky3wMYebOrAu_Mz5KK7OIUzqGnBLWBeEDZwouhDfI7P3H7AG6EoKFNQuf9mHXgLPwVEs0CfBtyBiiOyUJ4kq0gNlDGfTpFOcJCAawt-MT90G9vxUnKJzw?width=899&height=585&cropmode=none\"></p>\n<p>基本配置邮箱和用户名</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name &quot;KevinZjYang&quot;</span><br><span class=\"line\">git config --global user.email &quot;keivn.zj.yang@outlook.com&quot;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1、Pull和Fetch\"><a href=\"#1、Pull和Fetch\" class=\"headerlink\" title=\"1、Pull和Fetch\"></a>1、Pull和Fetch</h3><p>pull是直接和本地合并的。fetch是更安全的方式，<a href=\"https://www.jianshu.com/p/4c1d3b741b19\">看这里</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2、Push\"><a href=\"#2、Push\" class=\"headerlink\" title=\"2、Push\"></a>2、Push</h3><p>其他同上</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3、查看远程仓库\"><a href=\"#3、查看远程仓库\" class=\"headerlink\" title=\"3、查看远程仓库\"></a>3、查看远程仓库</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote -v</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4、Clone\"><a href=\"#4、Clone\" class=\"headerlink\" title=\"4、Clone\"></a>4、Clone</h3><p>首先进入你想克隆的本地文件夹。然后再运行下面命令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone 远程项目地址</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5、清除未提交的内容\"><a href=\"#5、清除未提交的内容\" class=\"headerlink\" title=\"5、清除未提交的内容\"></a>5、清除未提交的内容</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clean -df</span><br><span class=\"line\">git reset --hard</span><br></pre></td></tr></table></figure>"},{"title":"如何使用微软多语言翻译工具Multilingual App Toolkit","date":"2018-10-23T03:05:19.000Z","_content":"\n多语言支持是一个枯燥乏味的工作，加之自身水平限制。使用微软的Multilingual App Toolkit就能在一定程度上解决这个问题。刚开始使用这个工具的时候完全不会，安装好后发现无法翻译。曾几何时还以为是软件的锅，直到前一段时间，我才发现了正确的安装方式。因此在这里记录下来。\n\n## 1、准备工作。\n\n*   Multilingual App Toolkit v4.0(VS 2017+) (VS扩展里面搜索就可以下载）\n*   [Microsoft Azure 的免费翻译服务](https://portal.azure.com/)  \n*   [Multilingual app toolkit 4.0 Editor](https://developer.microsoft.com/en-us/windows/develop/multilingual-app-toolkit)\n\n## 2、安装和设置\n\n*   关闭VS2017,安装下载好的“Multilingual App Toolkit v4.0 (VS 2017)”安装包，一路默认安装即可。\n*   点击小娜，打开“凭据管理器”。\n\n![](https://5qgppg.sn.files.1drv.com/y4m4dFz_EDLZhDcPy9vR_t49391XadLSJbHhH1-cCR-1jrVbgfdfz-fT4THsPKXJRH9fbFnNYM-V3MQBcHwiq72He5XfzIqHQKAbaCRd5sc7wSOZPsLLyXrfruUU2YA13LUH2QAZKnGnVQt5oswHHnsBqMu4QMuu9rRScVr2yT1nqz6V3kDXvaiHcikZrGhdWMb9sRdoWuSYs9H7Yn-Ft7VCg?width=398&height=645&cropmode=none)\n\n打开“凭据管理器”\n\n![](https://hiv4gw.sn.files.1drv.com/y4mBr1iJ7erfOoIwCX6FWRKe6R8DTLsyE_OY3mazzyBZje2b6VSmwHiD0W_6jtwm8uWQj8ppBAqo_olFZToZlwBwU2X5fxRtMY6oEDYpA4w-llaLbkGPjGXHOsi3gSsS6cIUypvCtpjbR9idZCo2y-5FIf4l503QJGTbRJIHYgxHkYdinBoel78FMxgD6rDu_FAGp6sfOVQ0lAHvdYDERtlNw?width=947&height=694&cropmode=none)\n\n*   选择“Windows 凭据”，添加“普通凭据”。\n\n![](https://31pkeq.sn.files.1drv.com/y4mIiEm1k_c6mprCOFSmeXqz5a3Dy2HsrQfPWbUnE5l0oBIKjiGLxYCIfwASiDqlXcNfHaq4x944Z8CoGqRCVaZdzo8gMGkmWrgOQVkULnycEdIE-HRifX1fs47ftN7IwmcbTvHGUejLXOCfWryZbQxlwlBBNu-tdS0vNbIrB40aeORWw2WRSQKDjXNPLeNCFtLIiH5xJ8Yevv400vZP444MA?width=1095&height=855&cropmode=none)\n\n*   第一栏输入：**Multilingual/MicrosoftTranslator**\n*   第二栏输入：**Multilingual App Toolkit**\n*   第三栏输入：（Microsoft Azure的免费翻译api的密钥）\n*   注意前两栏前后不能有空格。点确定以后就大功告成了。\n\n## 3、启用多语言应用程序工具包。\n\n必须先为项目启用Multilingual App Toolkit，然后才能开始本地化应用程序。\n\n要启用Multilingual App Toolkit：\n\n*   打开项目解决方案文件。\n*   在解决方案资源管理器中选择所需的项目。\n*   在“工具”菜单上，选择“启用Multilingual App Toolkit”。\n\n现在就可以正常使用了。\n\n![](https://es8lta.sn.files.1drv.com/y4mQyM_SxTylUsIGTe3MbtbsF44yRh__-q9eIXTlwOcxuRvmFYeBNUplGQjsLSLspA-epvOUQfL_KsAljYAFfaseFHhg4-oak_L3-qJPD2mDXxCZV2pZA-XipjG8ksXZXmwDyyvRsFGUCovjkirqvYAeraw3mkxe0-7kwaROVGsBzuXDQNWA_KnCf-kp67mG-s7UCRNhIlv3zetR2qbQpvy7g?width=1059&height=210&cropmode=none)\n\n## 附：如何获取免费的Microsoft Azure翻译密钥\n\n*   登陆[Microsoft Azure](https://portal.azure.com)，搜索“免费”。然后找到“翻译工具文本API”。可以免费使用2000000个字符。\n\n![](https://fuszvg.sn.files.1drv.com/y4mu_gKtr9sBFY4LhyaECHTw_RNLxf0NboWS5JXKXxsCr9fIdJ3pJYI-e_KShiQy1P5yqix1-wPWIUS264jBM69HmZmoK9hMO2duSWMhwbzYvn8O1TL7yj27mNSWWOnO49_P-ARmLJ-7YuFsrN0ZiWXse775ms2nJsuikGIxR7LzoGLVaIgaU7_VrrtDdSH1UvITSvih9HepvKK2EB0mDJ1Ug?width=1186&height=757&cropmode=none)\n\n*   按照提示创建，定价选f0，其他随便。创建完成后。打开，就可以看到密钥了，有两个密钥，选择任何一个都可以。\n\n![](https://slhapq.sn.files.1drv.com/y4mx7LdDQIoxStIMB23eNne0xArJHa3zagLNTy5ZCbtmL_Ndb6WOKaz33RfKCRuSFTQi6xDZYkmuk31iO1v_bqAw1UQWJ8agxbeWGOvtoxe-Z93t0e23sy3PfKaCHa2-qOsnJw2Y6rVTl4uDkJizrcvsbVSCIGIxG-U4kEbB9wCf4tpsbDpWb13Yw4oyd3710FFIWDsz75uY_OO69Cig330Zg?width=1121&height=745&cropmode=none)\n\n![](https://sy0cna.sn.files.1drv.com/y4mDuJuLiPR30WBqh8Yq5V-2OUL0IuZf0qwwkyFKZT2r_mltdcuW6F8jpKwvWt5dhdPSIIEooq9vdm0JQwAdQQGMV6i0EjVhluBC-PZ2vuWJJ5uV6rxejC-zeNfaJKPxoAnpszs2-jUpfW1ObVyBuXM8mKS8ghhZWAL5FoU7LVszW8TMMJyP7jT7DHbOWbQvdjfcNpRC_tzaW7aGjpvn3cP3Q?width=1920&height=1034&cropmode=none)","source":"_posts/Tool/how-to-use-multilingual-app-toolkit.md","raw":"---\ntitle: 如何使用微软多语言翻译工具Multilingual App Toolkit\ntags:\n  - UWP\ncategories:\n  - - 开发笔记\ndate: 2018-10-23 11:05:19\n---\n\n多语言支持是一个枯燥乏味的工作，加之自身水平限制。使用微软的Multilingual App Toolkit就能在一定程度上解决这个问题。刚开始使用这个工具的时候完全不会，安装好后发现无法翻译。曾几何时还以为是软件的锅，直到前一段时间，我才发现了正确的安装方式。因此在这里记录下来。\n\n## 1、准备工作。\n\n*   Multilingual App Toolkit v4.0(VS 2017+) (VS扩展里面搜索就可以下载）\n*   [Microsoft Azure 的免费翻译服务](https://portal.azure.com/)  \n*   [Multilingual app toolkit 4.0 Editor](https://developer.microsoft.com/en-us/windows/develop/multilingual-app-toolkit)\n\n## 2、安装和设置\n\n*   关闭VS2017,安装下载好的“Multilingual App Toolkit v4.0 (VS 2017)”安装包，一路默认安装即可。\n*   点击小娜，打开“凭据管理器”。\n\n![](https://5qgppg.sn.files.1drv.com/y4m4dFz_EDLZhDcPy9vR_t49391XadLSJbHhH1-cCR-1jrVbgfdfz-fT4THsPKXJRH9fbFnNYM-V3MQBcHwiq72He5XfzIqHQKAbaCRd5sc7wSOZPsLLyXrfruUU2YA13LUH2QAZKnGnVQt5oswHHnsBqMu4QMuu9rRScVr2yT1nqz6V3kDXvaiHcikZrGhdWMb9sRdoWuSYs9H7Yn-Ft7VCg?width=398&height=645&cropmode=none)\n\n打开“凭据管理器”\n\n![](https://hiv4gw.sn.files.1drv.com/y4mBr1iJ7erfOoIwCX6FWRKe6R8DTLsyE_OY3mazzyBZje2b6VSmwHiD0W_6jtwm8uWQj8ppBAqo_olFZToZlwBwU2X5fxRtMY6oEDYpA4w-llaLbkGPjGXHOsi3gSsS6cIUypvCtpjbR9idZCo2y-5FIf4l503QJGTbRJIHYgxHkYdinBoel78FMxgD6rDu_FAGp6sfOVQ0lAHvdYDERtlNw?width=947&height=694&cropmode=none)\n\n*   选择“Windows 凭据”，添加“普通凭据”。\n\n![](https://31pkeq.sn.files.1drv.com/y4mIiEm1k_c6mprCOFSmeXqz5a3Dy2HsrQfPWbUnE5l0oBIKjiGLxYCIfwASiDqlXcNfHaq4x944Z8CoGqRCVaZdzo8gMGkmWrgOQVkULnycEdIE-HRifX1fs47ftN7IwmcbTvHGUejLXOCfWryZbQxlwlBBNu-tdS0vNbIrB40aeORWw2WRSQKDjXNPLeNCFtLIiH5xJ8Yevv400vZP444MA?width=1095&height=855&cropmode=none)\n\n*   第一栏输入：**Multilingual/MicrosoftTranslator**\n*   第二栏输入：**Multilingual App Toolkit**\n*   第三栏输入：（Microsoft Azure的免费翻译api的密钥）\n*   注意前两栏前后不能有空格。点确定以后就大功告成了。\n\n## 3、启用多语言应用程序工具包。\n\n必须先为项目启用Multilingual App Toolkit，然后才能开始本地化应用程序。\n\n要启用Multilingual App Toolkit：\n\n*   打开项目解决方案文件。\n*   在解决方案资源管理器中选择所需的项目。\n*   在“工具”菜单上，选择“启用Multilingual App Toolkit”。\n\n现在就可以正常使用了。\n\n![](https://es8lta.sn.files.1drv.com/y4mQyM_SxTylUsIGTe3MbtbsF44yRh__-q9eIXTlwOcxuRvmFYeBNUplGQjsLSLspA-epvOUQfL_KsAljYAFfaseFHhg4-oak_L3-qJPD2mDXxCZV2pZA-XipjG8ksXZXmwDyyvRsFGUCovjkirqvYAeraw3mkxe0-7kwaROVGsBzuXDQNWA_KnCf-kp67mG-s7UCRNhIlv3zetR2qbQpvy7g?width=1059&height=210&cropmode=none)\n\n## 附：如何获取免费的Microsoft Azure翻译密钥\n\n*   登陆[Microsoft Azure](https://portal.azure.com)，搜索“免费”。然后找到“翻译工具文本API”。可以免费使用2000000个字符。\n\n![](https://fuszvg.sn.files.1drv.com/y4mu_gKtr9sBFY4LhyaECHTw_RNLxf0NboWS5JXKXxsCr9fIdJ3pJYI-e_KShiQy1P5yqix1-wPWIUS264jBM69HmZmoK9hMO2duSWMhwbzYvn8O1TL7yj27mNSWWOnO49_P-ARmLJ-7YuFsrN0ZiWXse775ms2nJsuikGIxR7LzoGLVaIgaU7_VrrtDdSH1UvITSvih9HepvKK2EB0mDJ1Ug?width=1186&height=757&cropmode=none)\n\n*   按照提示创建，定价选f0，其他随便。创建完成后。打开，就可以看到密钥了，有两个密钥，选择任何一个都可以。\n\n![](https://slhapq.sn.files.1drv.com/y4mx7LdDQIoxStIMB23eNne0xArJHa3zagLNTy5ZCbtmL_Ndb6WOKaz33RfKCRuSFTQi6xDZYkmuk31iO1v_bqAw1UQWJ8agxbeWGOvtoxe-Z93t0e23sy3PfKaCHa2-qOsnJw2Y6rVTl4uDkJizrcvsbVSCIGIxG-U4kEbB9wCf4tpsbDpWb13Yw4oyd3710FFIWDsz75uY_OO69Cig330Zg?width=1121&height=745&cropmode=none)\n\n![](https://sy0cna.sn.files.1drv.com/y4mDuJuLiPR30WBqh8Yq5V-2OUL0IuZf0qwwkyFKZT2r_mltdcuW6F8jpKwvWt5dhdPSIIEooq9vdm0JQwAdQQGMV6i0EjVhluBC-PZ2vuWJJ5uV6rxejC-zeNfaJKPxoAnpszs2-jUpfW1ObVyBuXM8mKS8ghhZWAL5FoU7LVszW8TMMJyP7jT7DHbOWbQvdjfcNpRC_tzaW7aGjpvn3cP3Q?width=1920&height=1034&cropmode=none)","slug":"Tool/how-to-use-multilingual-app-toolkit","published":1,"updated":"2025-02-21T10:54:53.995Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl2a0055ews7bc303217","content":"<p>多语言支持是一个枯燥乏味的工作，加之自身水平限制。使用微软的Multilingual App Toolkit就能在一定程度上解决这个问题。刚开始使用这个工具的时候完全不会，安装好后发现无法翻译。曾几何时还以为是软件的锅，直到前一段时间，我才发现了正确的安装方式。因此在这里记录下来。</p>\n<h2 id=\"1、准备工作。\"><a href=\"#1、准备工作。\" class=\"headerlink\" title=\"1、准备工作。\"></a>1、准备工作。</h2><ul>\n<li>Multilingual App Toolkit v4.0(VS 2017+) (VS扩展里面搜索就可以下载）</li>\n<li><a href=\"https://portal.azure.com/\">Microsoft Azure 的免费翻译服务</a>  </li>\n<li><a href=\"https://developer.microsoft.com/en-us/windows/develop/multilingual-app-toolkit\">Multilingual app toolkit 4.0 Editor</a></li>\n</ul>\n<h2 id=\"2、安装和设置\"><a href=\"#2、安装和设置\" class=\"headerlink\" title=\"2、安装和设置\"></a>2、安装和设置</h2><ul>\n<li>关闭VS2017,安装下载好的“Multilingual App Toolkit v4.0 (VS 2017)”安装包，一路默认安装即可。</li>\n<li>点击小娜，打开“凭据管理器”。</li>\n</ul>\n<p><img src=\"https://5qgppg.sn.files.1drv.com/y4m4dFz_EDLZhDcPy9vR_t49391XadLSJbHhH1-cCR-1jrVbgfdfz-fT4THsPKXJRH9fbFnNYM-V3MQBcHwiq72He5XfzIqHQKAbaCRd5sc7wSOZPsLLyXrfruUU2YA13LUH2QAZKnGnVQt5oswHHnsBqMu4QMuu9rRScVr2yT1nqz6V3kDXvaiHcikZrGhdWMb9sRdoWuSYs9H7Yn-Ft7VCg?width=398&height=645&cropmode=none\"></p>\n<p>打开“凭据管理器”</p>\n<p><img src=\"https://hiv4gw.sn.files.1drv.com/y4mBr1iJ7erfOoIwCX6FWRKe6R8DTLsyE_OY3mazzyBZje2b6VSmwHiD0W_6jtwm8uWQj8ppBAqo_olFZToZlwBwU2X5fxRtMY6oEDYpA4w-llaLbkGPjGXHOsi3gSsS6cIUypvCtpjbR9idZCo2y-5FIf4l503QJGTbRJIHYgxHkYdinBoel78FMxgD6rDu_FAGp6sfOVQ0lAHvdYDERtlNw?width=947&height=694&cropmode=none\"></p>\n<ul>\n<li>选择“Windows 凭据”，添加“普通凭据”。</li>\n</ul>\n<p><img src=\"https://31pkeq.sn.files.1drv.com/y4mIiEm1k_c6mprCOFSmeXqz5a3Dy2HsrQfPWbUnE5l0oBIKjiGLxYCIfwASiDqlXcNfHaq4x944Z8CoGqRCVaZdzo8gMGkmWrgOQVkULnycEdIE-HRifX1fs47ftN7IwmcbTvHGUejLXOCfWryZbQxlwlBBNu-tdS0vNbIrB40aeORWw2WRSQKDjXNPLeNCFtLIiH5xJ8Yevv400vZP444MA?width=1095&height=855&cropmode=none\"></p>\n<ul>\n<li>第一栏输入：<strong>Multilingual&#x2F;MicrosoftTranslator</strong></li>\n<li>第二栏输入：<strong>Multilingual App Toolkit</strong></li>\n<li>第三栏输入：（Microsoft Azure的免费翻译api的密钥）</li>\n<li>注意前两栏前后不能有空格。点确定以后就大功告成了。</li>\n</ul>\n<h2 id=\"3、启用多语言应用程序工具包。\"><a href=\"#3、启用多语言应用程序工具包。\" class=\"headerlink\" title=\"3、启用多语言应用程序工具包。\"></a>3、启用多语言应用程序工具包。</h2><p>必须先为项目启用Multilingual App Toolkit，然后才能开始本地化应用程序。</p>\n<p>要启用Multilingual App Toolkit：</p>\n<ul>\n<li>打开项目解决方案文件。</li>\n<li>在解决方案资源管理器中选择所需的项目。</li>\n<li>在“工具”菜单上，选择“启用Multilingual App Toolkit”。</li>\n</ul>\n<p>现在就可以正常使用了。</p>\n<p><img src=\"https://es8lta.sn.files.1drv.com/y4mQyM_SxTylUsIGTe3MbtbsF44yRh__-q9eIXTlwOcxuRvmFYeBNUplGQjsLSLspA-epvOUQfL_KsAljYAFfaseFHhg4-oak_L3-qJPD2mDXxCZV2pZA-XipjG8ksXZXmwDyyvRsFGUCovjkirqvYAeraw3mkxe0-7kwaROVGsBzuXDQNWA_KnCf-kp67mG-s7UCRNhIlv3zetR2qbQpvy7g?width=1059&height=210&cropmode=none\"></p>\n<h2 id=\"附：如何获取免费的Microsoft-Azure翻译密钥\"><a href=\"#附：如何获取免费的Microsoft-Azure翻译密钥\" class=\"headerlink\" title=\"附：如何获取免费的Microsoft Azure翻译密钥\"></a>附：如何获取免费的Microsoft Azure翻译密钥</h2><ul>\n<li>登陆<a href=\"https://portal.azure.com/\">Microsoft Azure</a>，搜索“免费”。然后找到“翻译工具文本API”。可以免费使用2000000个字符。</li>\n</ul>\n<p><img src=\"https://fuszvg.sn.files.1drv.com/y4mu_gKtr9sBFY4LhyaECHTw_RNLxf0NboWS5JXKXxsCr9fIdJ3pJYI-e_KShiQy1P5yqix1-wPWIUS264jBM69HmZmoK9hMO2duSWMhwbzYvn8O1TL7yj27mNSWWOnO49_P-ARmLJ-7YuFsrN0ZiWXse775ms2nJsuikGIxR7LzoGLVaIgaU7_VrrtDdSH1UvITSvih9HepvKK2EB0mDJ1Ug?width=1186&height=757&cropmode=none\"></p>\n<ul>\n<li>按照提示创建，定价选f0，其他随便。创建完成后。打开，就可以看到密钥了，有两个密钥，选择任何一个都可以。</li>\n</ul>\n<p><img src=\"https://slhapq.sn.files.1drv.com/y4mx7LdDQIoxStIMB23eNne0xArJHa3zagLNTy5ZCbtmL_Ndb6WOKaz33RfKCRuSFTQi6xDZYkmuk31iO1v_bqAw1UQWJ8agxbeWGOvtoxe-Z93t0e23sy3PfKaCHa2-qOsnJw2Y6rVTl4uDkJizrcvsbVSCIGIxG-U4kEbB9wCf4tpsbDpWb13Yw4oyd3710FFIWDsz75uY_OO69Cig330Zg?width=1121&height=745&cropmode=none\"></p>\n<p><img src=\"https://sy0cna.sn.files.1drv.com/y4mDuJuLiPR30WBqh8Yq5V-2OUL0IuZf0qwwkyFKZT2r_mltdcuW6F8jpKwvWt5dhdPSIIEooq9vdm0JQwAdQQGMV6i0EjVhluBC-PZ2vuWJJ5uV6rxejC-zeNfaJKPxoAnpszs2-jUpfW1ObVyBuXM8mKS8ghhZWAL5FoU7LVszW8TMMJyP7jT7DHbOWbQvdjfcNpRC_tzaW7aGjpvn3cP3Q?width=1920&height=1034&cropmode=none\"></p>\n","excerpt":"","more":"<p>多语言支持是一个枯燥乏味的工作，加之自身水平限制。使用微软的Multilingual App Toolkit就能在一定程度上解决这个问题。刚开始使用这个工具的时候完全不会，安装好后发现无法翻译。曾几何时还以为是软件的锅，直到前一段时间，我才发现了正确的安装方式。因此在这里记录下来。</p>\n<h2 id=\"1、准备工作。\"><a href=\"#1、准备工作。\" class=\"headerlink\" title=\"1、准备工作。\"></a>1、准备工作。</h2><ul>\n<li>Multilingual App Toolkit v4.0(VS 2017+) (VS扩展里面搜索就可以下载）</li>\n<li><a href=\"https://portal.azure.com/\">Microsoft Azure 的免费翻译服务</a>  </li>\n<li><a href=\"https://developer.microsoft.com/en-us/windows/develop/multilingual-app-toolkit\">Multilingual app toolkit 4.0 Editor</a></li>\n</ul>\n<h2 id=\"2、安装和设置\"><a href=\"#2、安装和设置\" class=\"headerlink\" title=\"2、安装和设置\"></a>2、安装和设置</h2><ul>\n<li>关闭VS2017,安装下载好的“Multilingual App Toolkit v4.0 (VS 2017)”安装包，一路默认安装即可。</li>\n<li>点击小娜，打开“凭据管理器”。</li>\n</ul>\n<p><img src=\"https://5qgppg.sn.files.1drv.com/y4m4dFz_EDLZhDcPy9vR_t49391XadLSJbHhH1-cCR-1jrVbgfdfz-fT4THsPKXJRH9fbFnNYM-V3MQBcHwiq72He5XfzIqHQKAbaCRd5sc7wSOZPsLLyXrfruUU2YA13LUH2QAZKnGnVQt5oswHHnsBqMu4QMuu9rRScVr2yT1nqz6V3kDXvaiHcikZrGhdWMb9sRdoWuSYs9H7Yn-Ft7VCg?width=398&height=645&cropmode=none\"></p>\n<p>打开“凭据管理器”</p>\n<p><img src=\"https://hiv4gw.sn.files.1drv.com/y4mBr1iJ7erfOoIwCX6FWRKe6R8DTLsyE_OY3mazzyBZje2b6VSmwHiD0W_6jtwm8uWQj8ppBAqo_olFZToZlwBwU2X5fxRtMY6oEDYpA4w-llaLbkGPjGXHOsi3gSsS6cIUypvCtpjbR9idZCo2y-5FIf4l503QJGTbRJIHYgxHkYdinBoel78FMxgD6rDu_FAGp6sfOVQ0lAHvdYDERtlNw?width=947&height=694&cropmode=none\"></p>\n<ul>\n<li>选择“Windows 凭据”，添加“普通凭据”。</li>\n</ul>\n<p><img src=\"https://31pkeq.sn.files.1drv.com/y4mIiEm1k_c6mprCOFSmeXqz5a3Dy2HsrQfPWbUnE5l0oBIKjiGLxYCIfwASiDqlXcNfHaq4x944Z8CoGqRCVaZdzo8gMGkmWrgOQVkULnycEdIE-HRifX1fs47ftN7IwmcbTvHGUejLXOCfWryZbQxlwlBBNu-tdS0vNbIrB40aeORWw2WRSQKDjXNPLeNCFtLIiH5xJ8Yevv400vZP444MA?width=1095&height=855&cropmode=none\"></p>\n<ul>\n<li>第一栏输入：<strong>Multilingual&#x2F;MicrosoftTranslator</strong></li>\n<li>第二栏输入：<strong>Multilingual App Toolkit</strong></li>\n<li>第三栏输入：（Microsoft Azure的免费翻译api的密钥）</li>\n<li>注意前两栏前后不能有空格。点确定以后就大功告成了。</li>\n</ul>\n<h2 id=\"3、启用多语言应用程序工具包。\"><a href=\"#3、启用多语言应用程序工具包。\" class=\"headerlink\" title=\"3、启用多语言应用程序工具包。\"></a>3、启用多语言应用程序工具包。</h2><p>必须先为项目启用Multilingual App Toolkit，然后才能开始本地化应用程序。</p>\n<p>要启用Multilingual App Toolkit：</p>\n<ul>\n<li>打开项目解决方案文件。</li>\n<li>在解决方案资源管理器中选择所需的项目。</li>\n<li>在“工具”菜单上，选择“启用Multilingual App Toolkit”。</li>\n</ul>\n<p>现在就可以正常使用了。</p>\n<p><img src=\"https://es8lta.sn.files.1drv.com/y4mQyM_SxTylUsIGTe3MbtbsF44yRh__-q9eIXTlwOcxuRvmFYeBNUplGQjsLSLspA-epvOUQfL_KsAljYAFfaseFHhg4-oak_L3-qJPD2mDXxCZV2pZA-XipjG8ksXZXmwDyyvRsFGUCovjkirqvYAeraw3mkxe0-7kwaROVGsBzuXDQNWA_KnCf-kp67mG-s7UCRNhIlv3zetR2qbQpvy7g?width=1059&height=210&cropmode=none\"></p>\n<h2 id=\"附：如何获取免费的Microsoft-Azure翻译密钥\"><a href=\"#附：如何获取免费的Microsoft-Azure翻译密钥\" class=\"headerlink\" title=\"附：如何获取免费的Microsoft Azure翻译密钥\"></a>附：如何获取免费的Microsoft Azure翻译密钥</h2><ul>\n<li>登陆<a href=\"https://portal.azure.com/\">Microsoft Azure</a>，搜索“免费”。然后找到“翻译工具文本API”。可以免费使用2000000个字符。</li>\n</ul>\n<p><img src=\"https://fuszvg.sn.files.1drv.com/y4mu_gKtr9sBFY4LhyaECHTw_RNLxf0NboWS5JXKXxsCr9fIdJ3pJYI-e_KShiQy1P5yqix1-wPWIUS264jBM69HmZmoK9hMO2duSWMhwbzYvn8O1TL7yj27mNSWWOnO49_P-ARmLJ-7YuFsrN0ZiWXse775ms2nJsuikGIxR7LzoGLVaIgaU7_VrrtDdSH1UvITSvih9HepvKK2EB0mDJ1Ug?width=1186&height=757&cropmode=none\"></p>\n<ul>\n<li>按照提示创建，定价选f0，其他随便。创建完成后。打开，就可以看到密钥了，有两个密钥，选择任何一个都可以。</li>\n</ul>\n<p><img src=\"https://slhapq.sn.files.1drv.com/y4mx7LdDQIoxStIMB23eNne0xArJHa3zagLNTy5ZCbtmL_Ndb6WOKaz33RfKCRuSFTQi6xDZYkmuk31iO1v_bqAw1UQWJ8agxbeWGOvtoxe-Z93t0e23sy3PfKaCHa2-qOsnJw2Y6rVTl4uDkJizrcvsbVSCIGIxG-U4kEbB9wCf4tpsbDpWb13Yw4oyd3710FFIWDsz75uY_OO69Cig330Zg?width=1121&height=745&cropmode=none\"></p>\n<p><img src=\"https://sy0cna.sn.files.1drv.com/y4mDuJuLiPR30WBqh8Yq5V-2OUL0IuZf0qwwkyFKZT2r_mltdcuW6F8jpKwvWt5dhdPSIIEooq9vdm0JQwAdQQGMV6i0EjVhluBC-PZ2vuWJJ5uV6rxejC-zeNfaJKPxoAnpszs2-jUpfW1ObVyBuXM8mKS8ghhZWAL5FoU7LVszW8TMMJyP7jT7DHbOWbQvdjfcNpRC_tzaW7aGjpvn3cP3Q?width=1920&height=1034&cropmode=none\"></p>\n"},{"title":"使用SSH修改群晖SN/MAC[转]","date":"2019-09-28T08:28:35.000Z","_content":"\n开启SSH端口。\n\n在控制面板里面——>终端机和SNMP ，启动SSH功能打勾，并设置端口（建议别用22，改用其他的，比如220或者其他都行）。\n\n![群晖开启端口](https://wp.gxnas.com/wp-content/uploads/2019/02/ba0eda299e5ce73c2a5272696b878a69.png)\n\n挂载synoboot1分区。\n\n第一步：用ssh工具如xshell连接到群晖的地址，用创建群晖的管理用户登陆。\n\n如：admin   密码 123456\n\n第二步：获取root权限。（如果这一步失败，请按照教程开启root权限，6.17及以下版本看这里，6.2及以上版本看这里。）\n\n`sudo -i`\n\n回车后会提示输入密码，即再次输入当前管理账号的密码。\n\n成功后会变成root@Sxxx:~#， 其中root开头，#结尾。\n\n第三步：在/tmp目录下创建一个临时目录，名字随意，如：boot\n\n`mkdir -p /tmp/boot`\n\n第四步：切换到dev目录\n\n`cd /dev`\n\n第五步：将synoboot1 分区挂载到boot\n\nU盘安装的一般是这个\n\n```\nmount -t vfat synoboot1 /tmp/boot/\n```\n如果出现：`mount: special device synoboot1 does not exist`，使用下面代码\n\n虚拟机装的是这个，一般是sda1，如果调整过硬盘顺序，sdx1中x需要根据具体情况确认。可以通过ls命令查看所有文件，参考群晖中看到的硬盘顺序确认。\n```\nmount -t vfat sda1 /tmp/boot\n```\n\n第六步：切换到/tmp/boot/目录\n\n```\ncd /tmp/boot/\nls\n```\n可以看到挂载后有 bzImage  EFI  grub  info.txt 等文件夹或文件（主机或版本不同时，文件夹、文件名有所差别，但肯定有grub文件夹），至此挂载成功。\n\n第七步：切换到grub目录，修改grub.cfg文件\n```\ncd grub\nvi grub.cfg\n```\n此时，进入了vim查看 grub.cfg文件。\n\n![修改配置文件](https://wp.gxnas.com/wp-content/uploads/2019/02/412e74dc2321a3ba16a3fc85b7a00ab6.png)\n\n按键盘向下、向右等箭头，将光标移动到要修改的地方 （注：我这里是双网卡）\n\n此时还是命令模式，按键盘上的 i 键（小写状态），进入文档编辑模式，此时就可以输入新的SN，MAC1的新值。\n\n修改完成后，按键盘上的Esc键，返回到命令模式，输入:wq （英文状态的字符），保存并退出。如果修改乱了，想不保存并退出，则是输入 :q! 。\n\n此时可以再  `vi grub.cfg` 进去看看是否修改成功。\n\n最后重启主机，\n\n`reboot`\n\n修改成功了。\n\n原文链接： https://wp.gxnas.com/2615.html\n","source":"_posts/Tool/nas-ssh-edit-sn-mac.md","raw":"---\ntitle: 使用SSH修改群晖SN/MAC[转]\ntags: \n  - Nas\ncategories:\n  - - 服务器\ndate: 2019-09-28 16:28:35\n---\n\n开启SSH端口。\n\n在控制面板里面——>终端机和SNMP ，启动SSH功能打勾，并设置端口（建议别用22，改用其他的，比如220或者其他都行）。\n\n![群晖开启端口](https://wp.gxnas.com/wp-content/uploads/2019/02/ba0eda299e5ce73c2a5272696b878a69.png)\n\n挂载synoboot1分区。\n\n第一步：用ssh工具如xshell连接到群晖的地址，用创建群晖的管理用户登陆。\n\n如：admin   密码 123456\n\n第二步：获取root权限。（如果这一步失败，请按照教程开启root权限，6.17及以下版本看这里，6.2及以上版本看这里。）\n\n`sudo -i`\n\n回车后会提示输入密码，即再次输入当前管理账号的密码。\n\n成功后会变成root@Sxxx:~#， 其中root开头，#结尾。\n\n第三步：在/tmp目录下创建一个临时目录，名字随意，如：boot\n\n`mkdir -p /tmp/boot`\n\n第四步：切换到dev目录\n\n`cd /dev`\n\n第五步：将synoboot1 分区挂载到boot\n\nU盘安装的一般是这个\n\n```\nmount -t vfat synoboot1 /tmp/boot/\n```\n如果出现：`mount: special device synoboot1 does not exist`，使用下面代码\n\n虚拟机装的是这个，一般是sda1，如果调整过硬盘顺序，sdx1中x需要根据具体情况确认。可以通过ls命令查看所有文件，参考群晖中看到的硬盘顺序确认。\n```\nmount -t vfat sda1 /tmp/boot\n```\n\n第六步：切换到/tmp/boot/目录\n\n```\ncd /tmp/boot/\nls\n```\n可以看到挂载后有 bzImage  EFI  grub  info.txt 等文件夹或文件（主机或版本不同时，文件夹、文件名有所差别，但肯定有grub文件夹），至此挂载成功。\n\n第七步：切换到grub目录，修改grub.cfg文件\n```\ncd grub\nvi grub.cfg\n```\n此时，进入了vim查看 grub.cfg文件。\n\n![修改配置文件](https://wp.gxnas.com/wp-content/uploads/2019/02/412e74dc2321a3ba16a3fc85b7a00ab6.png)\n\n按键盘向下、向右等箭头，将光标移动到要修改的地方 （注：我这里是双网卡）\n\n此时还是命令模式，按键盘上的 i 键（小写状态），进入文档编辑模式，此时就可以输入新的SN，MAC1的新值。\n\n修改完成后，按键盘上的Esc键，返回到命令模式，输入:wq （英文状态的字符），保存并退出。如果修改乱了，想不保存并退出，则是输入 :q! 。\n\n此时可以再  `vi grub.cfg` 进去看看是否修改成功。\n\n最后重启主机，\n\n`reboot`\n\n修改成功了。\n\n原文链接： https://wp.gxnas.com/2615.html\n","slug":"Tool/nas-ssh-edit-sn-mac","published":1,"updated":"2025-02-21T10:54:53.995Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl2a0056ews7a73mdo4j","content":"<p>开启SSH端口。</p>\n<p>在控制面板里面——&gt;终端机和SNMP ，启动SSH功能打勾，并设置端口（建议别用22，改用其他的，比如220或者其他都行）。</p>\n<p><img src=\"https://wp.gxnas.com/wp-content/uploads/2019/02/ba0eda299e5ce73c2a5272696b878a69.png\" alt=\"群晖开启端口\"></p>\n<p>挂载synoboot1分区。</p>\n<p>第一步：用ssh工具如xshell连接到群晖的地址，用创建群晖的管理用户登陆。</p>\n<p>如：admin   密码 123456</p>\n<p>第二步：获取root权限。（如果这一步失败，请按照教程开启root权限，6.17及以下版本看这里，6.2及以上版本看这里。）</p>\n<p><code>sudo -i</code></p>\n<p>回车后会提示输入密码，即再次输入当前管理账号的密码。</p>\n<p>成功后会变成root@Sxxx:~#， 其中root开头，#结尾。</p>\n<p>第三步：在&#x2F;tmp目录下创建一个临时目录，名字随意，如：boot</p>\n<p><code>mkdir -p /tmp/boot</code></p>\n<p>第四步：切换到dev目录</p>\n<p><code>cd /dev</code></p>\n<p>第五步：将synoboot1 分区挂载到boot</p>\n<p>U盘安装的一般是这个</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount -t vfat synoboot1 /tmp/boot/</span><br></pre></td></tr></table></figure>\n<p>如果出现：<code>mount: special device synoboot1 does not exist</code>，使用下面代码</p>\n<p>虚拟机装的是这个，一般是sda1，如果调整过硬盘顺序，sdx1中x需要根据具体情况确认。可以通过ls命令查看所有文件，参考群晖中看到的硬盘顺序确认。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount -t vfat sda1 /tmp/boot</span><br></pre></td></tr></table></figure>\n\n<p>第六步：切换到&#x2F;tmp&#x2F;boot&#x2F;目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /tmp/boot/</span><br><span class=\"line\">ls</span><br></pre></td></tr></table></figure>\n<p>可以看到挂载后有 bzImage  EFI  grub  info.txt 等文件夹或文件（主机或版本不同时，文件夹、文件名有所差别，但肯定有grub文件夹），至此挂载成功。</p>\n<p>第七步：切换到grub目录，修改grub.cfg文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd grub</span><br><span class=\"line\">vi grub.cfg</span><br></pre></td></tr></table></figure>\n<p>此时，进入了vim查看 grub.cfg文件。</p>\n<p><img src=\"https://wp.gxnas.com/wp-content/uploads/2019/02/412e74dc2321a3ba16a3fc85b7a00ab6.png\" alt=\"修改配置文件\"></p>\n<p>按键盘向下、向右等箭头，将光标移动到要修改的地方 （注：我这里是双网卡）</p>\n<p>此时还是命令模式，按键盘上的 i 键（小写状态），进入文档编辑模式，此时就可以输入新的SN，MAC1的新值。</p>\n<p>修改完成后，按键盘上的Esc键，返回到命令模式，输入:wq （英文状态的字符），保存并退出。如果修改乱了，想不保存并退出，则是输入 :q! 。</p>\n<p>此时可以再  <code>vi grub.cfg</code> 进去看看是否修改成功。</p>\n<p>最后重启主机，</p>\n<p><code>reboot</code></p>\n<p>修改成功了。</p>\n<p>原文链接： <a href=\"https://wp.gxnas.com/2615.html\">https://wp.gxnas.com/2615.html</a></p>\n","excerpt":"","more":"<p>开启SSH端口。</p>\n<p>在控制面板里面——&gt;终端机和SNMP ，启动SSH功能打勾，并设置端口（建议别用22，改用其他的，比如220或者其他都行）。</p>\n<p><img src=\"https://wp.gxnas.com/wp-content/uploads/2019/02/ba0eda299e5ce73c2a5272696b878a69.png\" alt=\"群晖开启端口\"></p>\n<p>挂载synoboot1分区。</p>\n<p>第一步：用ssh工具如xshell连接到群晖的地址，用创建群晖的管理用户登陆。</p>\n<p>如：admin   密码 123456</p>\n<p>第二步：获取root权限。（如果这一步失败，请按照教程开启root权限，6.17及以下版本看这里，6.2及以上版本看这里。）</p>\n<p><code>sudo -i</code></p>\n<p>回车后会提示输入密码，即再次输入当前管理账号的密码。</p>\n<p>成功后会变成root@Sxxx:~#， 其中root开头，#结尾。</p>\n<p>第三步：在&#x2F;tmp目录下创建一个临时目录，名字随意，如：boot</p>\n<p><code>mkdir -p /tmp/boot</code></p>\n<p>第四步：切换到dev目录</p>\n<p><code>cd /dev</code></p>\n<p>第五步：将synoboot1 分区挂载到boot</p>\n<p>U盘安装的一般是这个</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount -t vfat synoboot1 /tmp/boot/</span><br></pre></td></tr></table></figure>\n<p>如果出现：<code>mount: special device synoboot1 does not exist</code>，使用下面代码</p>\n<p>虚拟机装的是这个，一般是sda1，如果调整过硬盘顺序，sdx1中x需要根据具体情况确认。可以通过ls命令查看所有文件，参考群晖中看到的硬盘顺序确认。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount -t vfat sda1 /tmp/boot</span><br></pre></td></tr></table></figure>\n\n<p>第六步：切换到&#x2F;tmp&#x2F;boot&#x2F;目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /tmp/boot/</span><br><span class=\"line\">ls</span><br></pre></td></tr></table></figure>\n<p>可以看到挂载后有 bzImage  EFI  grub  info.txt 等文件夹或文件（主机或版本不同时，文件夹、文件名有所差别，但肯定有grub文件夹），至此挂载成功。</p>\n<p>第七步：切换到grub目录，修改grub.cfg文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd grub</span><br><span class=\"line\">vi grub.cfg</span><br></pre></td></tr></table></figure>\n<p>此时，进入了vim查看 grub.cfg文件。</p>\n<p><img src=\"https://wp.gxnas.com/wp-content/uploads/2019/02/412e74dc2321a3ba16a3fc85b7a00ab6.png\" alt=\"修改配置文件\"></p>\n<p>按键盘向下、向右等箭头，将光标移动到要修改的地方 （注：我这里是双网卡）</p>\n<p>此时还是命令模式，按键盘上的 i 键（小写状态），进入文档编辑模式，此时就可以输入新的SN，MAC1的新值。</p>\n<p>修改完成后，按键盘上的Esc键，返回到命令模式，输入:wq （英文状态的字符），保存并退出。如果修改乱了，想不保存并退出，则是输入 :q! 。</p>\n<p>此时可以再  <code>vi grub.cfg</code> 进去看看是否修改成功。</p>\n<p>最后重启主机，</p>\n<p><code>reboot</code></p>\n<p>修改成功了。</p>\n<p>原文链接： <a href=\"https://wp.gxnas.com/2615.html\">https://wp.gxnas.com/2615.html</a></p>\n"},{"title":"PhotoShop离线包官方下载地址","date":"2019-03-27T16:38:12.000Z","_content":"\n[https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html](https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html)","source":"_posts/Tool/photoshop-download-url.md","raw":"---\ntitle: PhotoShop离线包官方下载地址\ntags:\n  - Photoshop\ncategories:\n  - - 随笔\ndate: 2019-03-28 00:38:12\n---\n\n[https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html](https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html)","slug":"Tool/photoshop-download-url","published":1,"updated":"2025-02-21T10:54:53.995Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl2b0058ews7c951g9im","content":"<p><a href=\"https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html\">https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html</a></p>\n","excerpt":"","more":"<p><a href=\"https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html\">https://helpx.adobe.com/cn/creative-cloud/kb/creative-cloud-apps-download.html</a></p>\n"},{"title":"U盘安装Exsi6.7 并安装群晖6.2.3-DS918+","date":"2020-12-19T12:24:24.000Z","_content":"\n## 需要做到的功能\n\n*   使用U盘安装Exsi，因为要直通板载Sata口，没办法。\n*   直通板载Sata接口\n*   直通显卡，Emby可以识别硬解\n*   硬盘顺序正常\n\n## 一、U盘安装EXSI，并直通板载Sata接口\n\nEXSI的安装网上教程很多，此处省略。\n\nExsi6.7密钥：0U0QJ-FR1EP-KZQN9-J1C74-23P5R\n\n### 1、创建U盘分区来安装群晖\n\n打开Exsi的SSH功能，使用putty，进入Exsi。下面的以我的U盘为例（酷豆）\n\n进入/vmfs/devices/disks目录\n\n```\ncd /vmfs/devices/disks\n```\n\n输入`ls`获取U盘的名称\n\n```\nt10.SanDisk00Cruzer_Fit0000000000004C531000630613103551\n```\n获取U盘分区`partedUtil getptbl xxx`,其中xxx就是上面获取的U盘名称\n```\npartedUtil getptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551\n```\n运行上面命令后得到如下结果：\n```\ngpt\n1919 255 63 30842880\n1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B systemPartition 128\n5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0\n8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0\n```\n\n使用第二行的最后1个数字30842880-34得到30842846，替换下面命令最后一行的第三个数字。最后一行的第一个数子设置为和上面几个不一样就行。\n\n```\npartedUtil setptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551 gpt \\\n\"1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B 128\" \\\n\"5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 0\" \\\n\"8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 0\" \\\n\"2 15472640 30842846 AA31E02A400F11DB9590000C2911D1B8 0\"\n```\n\n如果上一步失败，输入下面命令后再次输入上面命令\n\n```\nesxcli system coredump partition set --enable false\n```\n\n创建分区完成，新建数据存储\n\n```\nvmkfstools -C vmfs5 -b 1m -S UsbDatastore t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551:2\n```\n\n输入`reboot`重启后，就可以在Exsi看到名为UsbDatastore的存储空间了。\n\n### 2、直通板载Sata口\n\n做着一步记得主板sata口要连接硬盘。否则可能识别不到。\n\n1、SSH连接Exsi执行如下命令\n\n```\nlspci -v |grep \"Class 0106\" -B 1\n```\n\n查看是否有如下显示\n\n```\n0000:00:1f.2 SATAcontroller Mass storage controller: Intel Corporation Lynx Point AHCIController [vmhba0]\n\n         Class 0106: 8086:8c02\n```\n\n2、手工配置直通。\n\n```\nvi /etc/vmware/passthru.map\n```\n\n添加如下：\n\n```\n#Intel Corporation Lynx Point AHCI Controller\n8086  8c02  d3d0     false\n```\n\n保存，重启即可。\n\n## 二、安装群晖\n\n### 1、制作Exsi引导，打上核显驱动\n\nPS:系统上装有VMware才可以使用这种方法.\n\n1）使用StarWindConverter，把下载的Ds918+的1.04b引导，转换为exsi可用的虚拟文件。教程多的很自己找。转换后得到两个文件。\n\n```\nsynoboot.vmdk\nsynoboot-flat.vmdk\n```\n\n2）右键第一个文件，选择`映射虚拟磁盘...`，或弹出一个对话框，然后选择第二个分区，取消只读模式，点确定，就可以在Windows资源管理器看到这个磁盘了。\n\n![](https://sn3302files.storage.live.com/y4m4AAidumQiTgM7XJZc1SoKEXJGsk_7w8rBllOlNd3vxQlidTYuco1SIAyk6NptXlUZIpUcQeeyq36O4sVq2wkddHiq-czBHIGi-Bj1aFdPGQMDJZubKWXFuYQ4l4_qsIt3V1clH0MP35Eg9uUzJmAY3vIVWTnow-SXk4Zj10-8RQgdsQo_J1jK8p6ROUWfe9b?width=541&height=398&cropmode=none)\n\n3）进入磁盘，删除.lzma后缀的两个文件，用我们下载的带补丁的文件替换。\n\n![](https://sn3302files.storage.live.com/y4mf4X0DY-Bl-XtfyAoHNJRMqC3oHtVH2g8dT1knoIMaQp3JWp47qsStWio3QvDd3VXt9wl9TyNdZAzYqzOuPyOox0yyAg1Kr0Sr1ipq8zNwj2NLRKGQ1zXekhUDFDP8lRb7CKjNzPLFuSbp_dqUUWO9GYtExUmNhgEI1NTlcWcZ9KbngmN7f5DDrKE3-zVIF3D?width=748&height=226&cropmode=none)\n\n4）回到引导所在的文件夹，还是右键第一个文件，点击`断开虚拟磁盘连接`，这样引导文件核显补丁就修改好了。\n\n### 2、安装群晖\n\n把上一步制作好的文件，上传到EXSI。安装群晖的其他步骤省略。主要注意以下几点：\n\n*   系统选择Ubuntu x64\n*   磁盘模式 选 独立-持久\n*   删掉SCSI控制器、USB、光驱\n*   网络选E1000e\n*   添加Pci设备，显卡和直通的主板Sata控制器\n*   启动时选择引导选项的第三个\n\n群晖修改sn、mac详见下文\n\n\\[post id=1246\\]\n\n其实可以顺便把下面\"三、有硬盘不识别或者顺序错乱\"这个做了。\n\n### 3、修复6.2.3导致引导损坏无法升级的问题\n\n1、ssh登录群晖  \n2、# sudo -i 进入root模式（输密码的时候不显示，直接输入就好，输完回车）  \n3、把FixSynoboot.sh使用群晖的File Station传到任意文件夹，然后右键-属性，复制地址，替换下面命令中文件的地址。\n\n```\ncp /volume1/folder/FixSynoboot.sh /usr/local/etc/rc.d\n```\n\n回到ssh，输入替换路径后的上面地址。  \n4、再输入下面的命令\n\n```\nchmod 0755 /usr/local/etc/rc.d/FixSynoboot.sh\n```\n\n5、重启群晖\n\n## 三、有硬盘不识别或者顺序错乱\n\n和修改sn、mac方式一样，进入`grub.cfg`\n\n找到 `set sata_args='SataPortMap=4'` 改成set `sata_args='DiskIdxMap=0F00'`\n\n重启，就可以。\n\n## 四、查看核显是否可用\n\n1、群晖开始SSH端口，连接到群晖，输入以下命令\n\n```\nls -la /dev/dri\n```\n\n执行命令啥后啥都没有，说明没有核显驱动可用。如果出现下图这样的说明成功了。\n\n![](https://sn3302files.storage.live.com/y4mKyzKSrNN9WokVDbOdJiNQ01fxRju5HcxYv3onBlWEXca0WZwKW4YqP0iROV0j1KMU0Ez0Bhqx3N13clqf_22oAREYm8WqPPA-EBuCZoQc4pYe_V0Qnaz8UzDPLz3StuZe4vl5RSlbJ6iRi-S4Nuc6zebH4DBK5RfuwzP_YRMx0CFTERZz6Qz7lwSToHcGK4_?width=661&height=417&cropmode=none)\n\n进入emby，设置-转码，启用硬件加速，选择高级。如下图所示，编码器和解码器有内容说明可以了。\n\n![](https://sn3302files.storage.live.com/y4mU1vmgSBUc3RnHbdrq3D7dzA_nXLdUngLJ9Uz8DT-7oK6ESlvaJwFx5NrecBJ_snut5beUd6UNdtppo7lBLlrNQZFMHUGg3zdAFTXzd0dEgK7mUK3rUwbRsa876ZhTMfLn6Dlj3hXqa_VqVVsYJqkrQa5jTs-X52whyyvIt5D5dbwUySYfZqL9PKCpn253C6M?width=863&height=734&cropmode=none)\n\n相关文件下载","source":"_posts/Tool/u-pan-install-exsi6-7-install-dsm-6-2-3-ds918.md","raw":"---\ntitle: U盘安装Exsi6.7 并安装群晖6.2.3-DS918+\ntags: \n  - NAS\n  - EXSI\ncategories:\n  - - 服务器\ndate: 2020-12-19 20:24:24\n---\n\n## 需要做到的功能\n\n*   使用U盘安装Exsi，因为要直通板载Sata口，没办法。\n*   直通板载Sata接口\n*   直通显卡，Emby可以识别硬解\n*   硬盘顺序正常\n\n## 一、U盘安装EXSI，并直通板载Sata接口\n\nEXSI的安装网上教程很多，此处省略。\n\nExsi6.7密钥：0U0QJ-FR1EP-KZQN9-J1C74-23P5R\n\n### 1、创建U盘分区来安装群晖\n\n打开Exsi的SSH功能，使用putty，进入Exsi。下面的以我的U盘为例（酷豆）\n\n进入/vmfs/devices/disks目录\n\n```\ncd /vmfs/devices/disks\n```\n\n输入`ls`获取U盘的名称\n\n```\nt10.SanDisk00Cruzer_Fit0000000000004C531000630613103551\n```\n获取U盘分区`partedUtil getptbl xxx`,其中xxx就是上面获取的U盘名称\n```\npartedUtil getptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551\n```\n运行上面命令后得到如下结果：\n```\ngpt\n1919 255 63 30842880\n1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B systemPartition 128\n5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0\n8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0\n9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0\n```\n\n使用第二行的最后1个数字30842880-34得到30842846，替换下面命令最后一行的第三个数字。最后一行的第一个数子设置为和上面几个不一样就行。\n\n```\npartedUtil setptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551 gpt \\\n\"1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B 128\" \\\n\"5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 0\" \\\n\"8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 0\" \\\n\"9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 0\" \\\n\"2 15472640 30842846 AA31E02A400F11DB9590000C2911D1B8 0\"\n```\n\n如果上一步失败，输入下面命令后再次输入上面命令\n\n```\nesxcli system coredump partition set --enable false\n```\n\n创建分区完成，新建数据存储\n\n```\nvmkfstools -C vmfs5 -b 1m -S UsbDatastore t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551:2\n```\n\n输入`reboot`重启后，就可以在Exsi看到名为UsbDatastore的存储空间了。\n\n### 2、直通板载Sata口\n\n做着一步记得主板sata口要连接硬盘。否则可能识别不到。\n\n1、SSH连接Exsi执行如下命令\n\n```\nlspci -v |grep \"Class 0106\" -B 1\n```\n\n查看是否有如下显示\n\n```\n0000:00:1f.2 SATAcontroller Mass storage controller: Intel Corporation Lynx Point AHCIController [vmhba0]\n\n         Class 0106: 8086:8c02\n```\n\n2、手工配置直通。\n\n```\nvi /etc/vmware/passthru.map\n```\n\n添加如下：\n\n```\n#Intel Corporation Lynx Point AHCI Controller\n8086  8c02  d3d0     false\n```\n\n保存，重启即可。\n\n## 二、安装群晖\n\n### 1、制作Exsi引导，打上核显驱动\n\nPS:系统上装有VMware才可以使用这种方法.\n\n1）使用StarWindConverter，把下载的Ds918+的1.04b引导，转换为exsi可用的虚拟文件。教程多的很自己找。转换后得到两个文件。\n\n```\nsynoboot.vmdk\nsynoboot-flat.vmdk\n```\n\n2）右键第一个文件，选择`映射虚拟磁盘...`，或弹出一个对话框，然后选择第二个分区，取消只读模式，点确定，就可以在Windows资源管理器看到这个磁盘了。\n\n![](https://sn3302files.storage.live.com/y4m4AAidumQiTgM7XJZc1SoKEXJGsk_7w8rBllOlNd3vxQlidTYuco1SIAyk6NptXlUZIpUcQeeyq36O4sVq2wkddHiq-czBHIGi-Bj1aFdPGQMDJZubKWXFuYQ4l4_qsIt3V1clH0MP35Eg9uUzJmAY3vIVWTnow-SXk4Zj10-8RQgdsQo_J1jK8p6ROUWfe9b?width=541&height=398&cropmode=none)\n\n3）进入磁盘，删除.lzma后缀的两个文件，用我们下载的带补丁的文件替换。\n\n![](https://sn3302files.storage.live.com/y4mf4X0DY-Bl-XtfyAoHNJRMqC3oHtVH2g8dT1knoIMaQp3JWp47qsStWio3QvDd3VXt9wl9TyNdZAzYqzOuPyOox0yyAg1Kr0Sr1ipq8zNwj2NLRKGQ1zXekhUDFDP8lRb7CKjNzPLFuSbp_dqUUWO9GYtExUmNhgEI1NTlcWcZ9KbngmN7f5DDrKE3-zVIF3D?width=748&height=226&cropmode=none)\n\n4）回到引导所在的文件夹，还是右键第一个文件，点击`断开虚拟磁盘连接`，这样引导文件核显补丁就修改好了。\n\n### 2、安装群晖\n\n把上一步制作好的文件，上传到EXSI。安装群晖的其他步骤省略。主要注意以下几点：\n\n*   系统选择Ubuntu x64\n*   磁盘模式 选 独立-持久\n*   删掉SCSI控制器、USB、光驱\n*   网络选E1000e\n*   添加Pci设备，显卡和直通的主板Sata控制器\n*   启动时选择引导选项的第三个\n\n群晖修改sn、mac详见下文\n\n\\[post id=1246\\]\n\n其实可以顺便把下面\"三、有硬盘不识别或者顺序错乱\"这个做了。\n\n### 3、修复6.2.3导致引导损坏无法升级的问题\n\n1、ssh登录群晖  \n2、# sudo -i 进入root模式（输密码的时候不显示，直接输入就好，输完回车）  \n3、把FixSynoboot.sh使用群晖的File Station传到任意文件夹，然后右键-属性，复制地址，替换下面命令中文件的地址。\n\n```\ncp /volume1/folder/FixSynoboot.sh /usr/local/etc/rc.d\n```\n\n回到ssh，输入替换路径后的上面地址。  \n4、再输入下面的命令\n\n```\nchmod 0755 /usr/local/etc/rc.d/FixSynoboot.sh\n```\n\n5、重启群晖\n\n## 三、有硬盘不识别或者顺序错乱\n\n和修改sn、mac方式一样，进入`grub.cfg`\n\n找到 `set sata_args='SataPortMap=4'` 改成set `sata_args='DiskIdxMap=0F00'`\n\n重启，就可以。\n\n## 四、查看核显是否可用\n\n1、群晖开始SSH端口，连接到群晖，输入以下命令\n\n```\nls -la /dev/dri\n```\n\n执行命令啥后啥都没有，说明没有核显驱动可用。如果出现下图这样的说明成功了。\n\n![](https://sn3302files.storage.live.com/y4mKyzKSrNN9WokVDbOdJiNQ01fxRju5HcxYv3onBlWEXca0WZwKW4YqP0iROV0j1KMU0Ez0Bhqx3N13clqf_22oAREYm8WqPPA-EBuCZoQc4pYe_V0Qnaz8UzDPLz3StuZe4vl5RSlbJ6iRi-S4Nuc6zebH4DBK5RfuwzP_YRMx0CFTERZz6Qz7lwSToHcGK4_?width=661&height=417&cropmode=none)\n\n进入emby，设置-转码，启用硬件加速，选择高级。如下图所示，编码器和解码器有内容说明可以了。\n\n![](https://sn3302files.storage.live.com/y4mU1vmgSBUc3RnHbdrq3D7dzA_nXLdUngLJ9Uz8DT-7oK6ESlvaJwFx5NrecBJ_snut5beUd6UNdtppo7lBLlrNQZFMHUGg3zdAFTXzd0dEgK7mUK3rUwbRsa876ZhTMfLn6Dlj3hXqa_VqVVsYJqkrQa5jTs-X52whyyvIt5D5dbwUySYfZqL9PKCpn253C6M?width=863&height=734&cropmode=none)\n\n相关文件下载","slug":"Tool/u-pan-install-exsi6-7-install-dsm-6-2-3-ds918","published":1,"updated":"2025-02-21T10:54:53.996Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl2b005aews70rtrgx9a","content":"<h2 id=\"需要做到的功能\"><a href=\"#需要做到的功能\" class=\"headerlink\" title=\"需要做到的功能\"></a>需要做到的功能</h2><ul>\n<li>使用U盘安装Exsi，因为要直通板载Sata口，没办法。</li>\n<li>直通板载Sata接口</li>\n<li>直通显卡，Emby可以识别硬解</li>\n<li>硬盘顺序正常</li>\n</ul>\n<h2 id=\"一、U盘安装EXSI，并直通板载Sata接口\"><a href=\"#一、U盘安装EXSI，并直通板载Sata接口\" class=\"headerlink\" title=\"一、U盘安装EXSI，并直通板载Sata接口\"></a>一、U盘安装EXSI，并直通板载Sata接口</h2><p>EXSI的安装网上教程很多，此处省略。</p>\n<p>Exsi6.7密钥：0U0QJ-FR1EP-KZQN9-J1C74-23P5R</p>\n<h3 id=\"1、创建U盘分区来安装群晖\"><a href=\"#1、创建U盘分区来安装群晖\" class=\"headerlink\" title=\"1、创建U盘分区来安装群晖\"></a>1、创建U盘分区来安装群晖</h3><p>打开Exsi的SSH功能，使用putty，进入Exsi。下面的以我的U盘为例（酷豆）</p>\n<p>进入&#x2F;vmfs&#x2F;devices&#x2F;disks目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /vmfs/devices/disks</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>ls</code>获取U盘的名称</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551</span><br></pre></td></tr></table></figure>\n<p>获取U盘分区<code>partedUtil getptbl xxx</code>,其中xxx就是上面获取的U盘名称</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">partedUtil getptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551</span><br></pre></td></tr></table></figure>\n<p>运行上面命令后得到如下结果：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpt</span><br><span class=\"line\">1919 255 63 30842880</span><br><span class=\"line\">1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B systemPartition 128</span><br><span class=\"line\">5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0</span><br><span class=\"line\">8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0</span><br></pre></td></tr></table></figure>\n\n<p>使用第二行的最后1个数字30842880-34得到30842846，替换下面命令最后一行的第三个数字。最后一行的第一个数子设置为和上面几个不一样就行。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">partedUtil setptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551 gpt \\</span><br><span class=\"line\">&quot;1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B 128&quot; \\</span><br><span class=\"line\">&quot;5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 0&quot; \\</span><br><span class=\"line\">&quot;8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 0&quot; \\</span><br><span class=\"line\">&quot;2 15472640 30842846 AA31E02A400F11DB9590000C2911D1B8 0&quot;</span><br></pre></td></tr></table></figure>\n\n<p>如果上一步失败，输入下面命令后再次输入上面命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">esxcli system coredump partition set --enable false</span><br></pre></td></tr></table></figure>\n\n<p>创建分区完成，新建数据存储</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vmkfstools -C vmfs5 -b 1m -S UsbDatastore t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551:2</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>reboot</code>重启后，就可以在Exsi看到名为UsbDatastore的存储空间了。</p>\n<h3 id=\"2、直通板载Sata口\"><a href=\"#2、直通板载Sata口\" class=\"headerlink\" title=\"2、直通板载Sata口\"></a>2、直通板载Sata口</h3><p>做着一步记得主板sata口要连接硬盘。否则可能识别不到。</p>\n<p>1、SSH连接Exsi执行如下命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lspci -v |grep &quot;Class 0106&quot; -B 1</span><br></pre></td></tr></table></figure>\n\n<p>查看是否有如下显示</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000:00:1f.2 SATAcontroller Mass storage controller: Intel Corporation Lynx Point AHCIController [vmhba0]</span><br><span class=\"line\"></span><br><span class=\"line\">         Class 0106: 8086:8c02</span><br></pre></td></tr></table></figure>\n\n<p>2、手工配置直通。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/vmware/passthru.map</span><br></pre></td></tr></table></figure>\n\n<p>添加如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Intel Corporation Lynx Point AHCI Controller</span><br><span class=\"line\">8086  8c02  d3d0     false</span><br></pre></td></tr></table></figure>\n\n<p>保存，重启即可。</p>\n<h2 id=\"二、安装群晖\"><a href=\"#二、安装群晖\" class=\"headerlink\" title=\"二、安装群晖\"></a>二、安装群晖</h2><h3 id=\"1、制作Exsi引导，打上核显驱动\"><a href=\"#1、制作Exsi引导，打上核显驱动\" class=\"headerlink\" title=\"1、制作Exsi引导，打上核显驱动\"></a>1、制作Exsi引导，打上核显驱动</h3><p>PS:系统上装有VMware才可以使用这种方法.</p>\n<p>1）使用StarWindConverter，把下载的Ds918+的1.04b引导，转换为exsi可用的虚拟文件。教程多的很自己找。转换后得到两个文件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">synoboot.vmdk</span><br><span class=\"line\">synoboot-flat.vmdk</span><br></pre></td></tr></table></figure>\n\n<p>2）右键第一个文件，选择<code>映射虚拟磁盘...</code>，或弹出一个对话框，然后选择第二个分区，取消只读模式，点确定，就可以在Windows资源管理器看到这个磁盘了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4m4AAidumQiTgM7XJZc1SoKEXJGsk_7w8rBllOlNd3vxQlidTYuco1SIAyk6NptXlUZIpUcQeeyq36O4sVq2wkddHiq-czBHIGi-Bj1aFdPGQMDJZubKWXFuYQ4l4_qsIt3V1clH0MP35Eg9uUzJmAY3vIVWTnow-SXk4Zj10-8RQgdsQo_J1jK8p6ROUWfe9b?width=541&height=398&cropmode=none\"></p>\n<p>3）进入磁盘，删除.lzma后缀的两个文件，用我们下载的带补丁的文件替换。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mf4X0DY-Bl-XtfyAoHNJRMqC3oHtVH2g8dT1knoIMaQp3JWp47qsStWio3QvDd3VXt9wl9TyNdZAzYqzOuPyOox0yyAg1Kr0Sr1ipq8zNwj2NLRKGQ1zXekhUDFDP8lRb7CKjNzPLFuSbp_dqUUWO9GYtExUmNhgEI1NTlcWcZ9KbngmN7f5DDrKE3-zVIF3D?width=748&height=226&cropmode=none\"></p>\n<p>4）回到引导所在的文件夹，还是右键第一个文件，点击<code>断开虚拟磁盘连接</code>，这样引导文件核显补丁就修改好了。</p>\n<h3 id=\"2、安装群晖\"><a href=\"#2、安装群晖\" class=\"headerlink\" title=\"2、安装群晖\"></a>2、安装群晖</h3><p>把上一步制作好的文件，上传到EXSI。安装群晖的其他步骤省略。主要注意以下几点：</p>\n<ul>\n<li>系统选择Ubuntu x64</li>\n<li>磁盘模式 选 独立-持久</li>\n<li>删掉SCSI控制器、USB、光驱</li>\n<li>网络选E1000e</li>\n<li>添加Pci设备，显卡和直通的主板Sata控制器</li>\n<li>启动时选择引导选项的第三个</li>\n</ul>\n<p>群晖修改sn、mac详见下文</p>\n<p>[post id&#x3D;1246]</p>\n<p>其实可以顺便把下面”三、有硬盘不识别或者顺序错乱”这个做了。</p>\n<h3 id=\"3、修复6-2-3导致引导损坏无法升级的问题\"><a href=\"#3、修复6-2-3导致引导损坏无法升级的问题\" class=\"headerlink\" title=\"3、修复6.2.3导致引导损坏无法升级的问题\"></a>3、修复6.2.3导致引导损坏无法升级的问题</h3><p>1、ssh登录群晖<br>2、# sudo -i 进入root模式（输密码的时候不显示，直接输入就好，输完回车）<br>3、把FixSynoboot.sh使用群晖的File Station传到任意文件夹，然后右键-属性，复制地址，替换下面命令中文件的地址。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /volume1/folder/FixSynoboot.sh /usr/local/etc/rc.d</span><br></pre></td></tr></table></figure>\n\n<p>回到ssh，输入替换路径后的上面地址。<br>4、再输入下面的命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 0755 /usr/local/etc/rc.d/FixSynoboot.sh</span><br></pre></td></tr></table></figure>\n\n<p>5、重启群晖</p>\n<h2 id=\"三、有硬盘不识别或者顺序错乱\"><a href=\"#三、有硬盘不识别或者顺序错乱\" class=\"headerlink\" title=\"三、有硬盘不识别或者顺序错乱\"></a>三、有硬盘不识别或者顺序错乱</h2><p>和修改sn、mac方式一样，进入<code>grub.cfg</code></p>\n<p>找到 <code>set sata_args=&#39;SataPortMap=4&#39;</code> 改成set <code>sata_args=&#39;DiskIdxMap=0F00&#39;</code></p>\n<p>重启，就可以。</p>\n<h2 id=\"四、查看核显是否可用\"><a href=\"#四、查看核显是否可用\" class=\"headerlink\" title=\"四、查看核显是否可用\"></a>四、查看核显是否可用</h2><p>1、群晖开始SSH端口，连接到群晖，输入以下命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -la /dev/dri</span><br></pre></td></tr></table></figure>\n\n<p>执行命令啥后啥都没有，说明没有核显驱动可用。如果出现下图这样的说明成功了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mKyzKSrNN9WokVDbOdJiNQ01fxRju5HcxYv3onBlWEXca0WZwKW4YqP0iROV0j1KMU0Ez0Bhqx3N13clqf_22oAREYm8WqPPA-EBuCZoQc4pYe_V0Qnaz8UzDPLz3StuZe4vl5RSlbJ6iRi-S4Nuc6zebH4DBK5RfuwzP_YRMx0CFTERZz6Qz7lwSToHcGK4_?width=661&height=417&cropmode=none\"></p>\n<p>进入emby，设置-转码，启用硬件加速，选择高级。如下图所示，编码器和解码器有内容说明可以了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mU1vmgSBUc3RnHbdrq3D7dzA_nXLdUngLJ9Uz8DT-7oK6ESlvaJwFx5NrecBJ_snut5beUd6UNdtppo7lBLlrNQZFMHUGg3zdAFTXzd0dEgK7mUK3rUwbRsa876ZhTMfLn6Dlj3hXqa_VqVVsYJqkrQa5jTs-X52whyyvIt5D5dbwUySYfZqL9PKCpn253C6M?width=863&height=734&cropmode=none\"></p>\n<p>相关文件下载</p>\n","excerpt":"","more":"<h2 id=\"需要做到的功能\"><a href=\"#需要做到的功能\" class=\"headerlink\" title=\"需要做到的功能\"></a>需要做到的功能</h2><ul>\n<li>使用U盘安装Exsi，因为要直通板载Sata口，没办法。</li>\n<li>直通板载Sata接口</li>\n<li>直通显卡，Emby可以识别硬解</li>\n<li>硬盘顺序正常</li>\n</ul>\n<h2 id=\"一、U盘安装EXSI，并直通板载Sata接口\"><a href=\"#一、U盘安装EXSI，并直通板载Sata接口\" class=\"headerlink\" title=\"一、U盘安装EXSI，并直通板载Sata接口\"></a>一、U盘安装EXSI，并直通板载Sata接口</h2><p>EXSI的安装网上教程很多，此处省略。</p>\n<p>Exsi6.7密钥：0U0QJ-FR1EP-KZQN9-J1C74-23P5R</p>\n<h3 id=\"1、创建U盘分区来安装群晖\"><a href=\"#1、创建U盘分区来安装群晖\" class=\"headerlink\" title=\"1、创建U盘分区来安装群晖\"></a>1、创建U盘分区来安装群晖</h3><p>打开Exsi的SSH功能，使用putty，进入Exsi。下面的以我的U盘为例（酷豆）</p>\n<p>进入&#x2F;vmfs&#x2F;devices&#x2F;disks目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /vmfs/devices/disks</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>ls</code>获取U盘的名称</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551</span><br></pre></td></tr></table></figure>\n<p>获取U盘分区<code>partedUtil getptbl xxx</code>,其中xxx就是上面获取的U盘名称</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">partedUtil getptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551</span><br></pre></td></tr></table></figure>\n<p>运行上面命令后得到如下结果：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpt</span><br><span class=\"line\">1919 255 63 30842880</span><br><span class=\"line\">1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B systemPartition 128</span><br><span class=\"line\">5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0</span><br><span class=\"line\">8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 linuxNative 0</span><br><span class=\"line\">9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 vmkDiagnostic 0</span><br></pre></td></tr></table></figure>\n\n<p>使用第二行的最后1个数字30842880-34得到30842846，替换下面命令最后一行的第三个数字。最后一行的第一个数子设置为和上面几个不一样就行。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">partedUtil setptbl t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551 gpt \\</span><br><span class=\"line\">&quot;1 64 8191 C12A7328F81F11D2BA4B00A0C93EC93B 128&quot; \\</span><br><span class=\"line\">&quot;5 8224 520191 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;6 520224 1032191 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;7 1032224 1257471 9D27538040AD11DBBF97000C2911D1B8 0&quot; \\</span><br><span class=\"line\">&quot;8 1257504 1843199 EBD0A0A2B9E5443387C068B6B72699C7 0&quot; \\</span><br><span class=\"line\">&quot;9 1843200 7086079 9D27538040AD11DBBF97000C2911D1B8 0&quot; \\</span><br><span class=\"line\">&quot;2 15472640 30842846 AA31E02A400F11DB9590000C2911D1B8 0&quot;</span><br></pre></td></tr></table></figure>\n\n<p>如果上一步失败，输入下面命令后再次输入上面命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">esxcli system coredump partition set --enable false</span><br></pre></td></tr></table></figure>\n\n<p>创建分区完成，新建数据存储</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vmkfstools -C vmfs5 -b 1m -S UsbDatastore t10.SanDisk00Cruzer_Fit0000000000004C531000630613103551:2</span><br></pre></td></tr></table></figure>\n\n<p>输入<code>reboot</code>重启后，就可以在Exsi看到名为UsbDatastore的存储空间了。</p>\n<h3 id=\"2、直通板载Sata口\"><a href=\"#2、直通板载Sata口\" class=\"headerlink\" title=\"2、直通板载Sata口\"></a>2、直通板载Sata口</h3><p>做着一步记得主板sata口要连接硬盘。否则可能识别不到。</p>\n<p>1、SSH连接Exsi执行如下命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lspci -v |grep &quot;Class 0106&quot; -B 1</span><br></pre></td></tr></table></figure>\n\n<p>查看是否有如下显示</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0000:00:1f.2 SATAcontroller Mass storage controller: Intel Corporation Lynx Point AHCIController [vmhba0]</span><br><span class=\"line\"></span><br><span class=\"line\">         Class 0106: 8086:8c02</span><br></pre></td></tr></table></figure>\n\n<p>2、手工配置直通。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/vmware/passthru.map</span><br></pre></td></tr></table></figure>\n\n<p>添加如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Intel Corporation Lynx Point AHCI Controller</span><br><span class=\"line\">8086  8c02  d3d0     false</span><br></pre></td></tr></table></figure>\n\n<p>保存，重启即可。</p>\n<h2 id=\"二、安装群晖\"><a href=\"#二、安装群晖\" class=\"headerlink\" title=\"二、安装群晖\"></a>二、安装群晖</h2><h3 id=\"1、制作Exsi引导，打上核显驱动\"><a href=\"#1、制作Exsi引导，打上核显驱动\" class=\"headerlink\" title=\"1、制作Exsi引导，打上核显驱动\"></a>1、制作Exsi引导，打上核显驱动</h3><p>PS:系统上装有VMware才可以使用这种方法.</p>\n<p>1）使用StarWindConverter，把下载的Ds918+的1.04b引导，转换为exsi可用的虚拟文件。教程多的很自己找。转换后得到两个文件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">synoboot.vmdk</span><br><span class=\"line\">synoboot-flat.vmdk</span><br></pre></td></tr></table></figure>\n\n<p>2）右键第一个文件，选择<code>映射虚拟磁盘...</code>，或弹出一个对话框，然后选择第二个分区，取消只读模式，点确定，就可以在Windows资源管理器看到这个磁盘了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4m4AAidumQiTgM7XJZc1SoKEXJGsk_7w8rBllOlNd3vxQlidTYuco1SIAyk6NptXlUZIpUcQeeyq36O4sVq2wkddHiq-czBHIGi-Bj1aFdPGQMDJZubKWXFuYQ4l4_qsIt3V1clH0MP35Eg9uUzJmAY3vIVWTnow-SXk4Zj10-8RQgdsQo_J1jK8p6ROUWfe9b?width=541&height=398&cropmode=none\"></p>\n<p>3）进入磁盘，删除.lzma后缀的两个文件，用我们下载的带补丁的文件替换。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mf4X0DY-Bl-XtfyAoHNJRMqC3oHtVH2g8dT1knoIMaQp3JWp47qsStWio3QvDd3VXt9wl9TyNdZAzYqzOuPyOox0yyAg1Kr0Sr1ipq8zNwj2NLRKGQ1zXekhUDFDP8lRb7CKjNzPLFuSbp_dqUUWO9GYtExUmNhgEI1NTlcWcZ9KbngmN7f5DDrKE3-zVIF3D?width=748&height=226&cropmode=none\"></p>\n<p>4）回到引导所在的文件夹，还是右键第一个文件，点击<code>断开虚拟磁盘连接</code>，这样引导文件核显补丁就修改好了。</p>\n<h3 id=\"2、安装群晖\"><a href=\"#2、安装群晖\" class=\"headerlink\" title=\"2、安装群晖\"></a>2、安装群晖</h3><p>把上一步制作好的文件，上传到EXSI。安装群晖的其他步骤省略。主要注意以下几点：</p>\n<ul>\n<li>系统选择Ubuntu x64</li>\n<li>磁盘模式 选 独立-持久</li>\n<li>删掉SCSI控制器、USB、光驱</li>\n<li>网络选E1000e</li>\n<li>添加Pci设备，显卡和直通的主板Sata控制器</li>\n<li>启动时选择引导选项的第三个</li>\n</ul>\n<p>群晖修改sn、mac详见下文</p>\n<p>[post id&#x3D;1246]</p>\n<p>其实可以顺便把下面”三、有硬盘不识别或者顺序错乱”这个做了。</p>\n<h3 id=\"3、修复6-2-3导致引导损坏无法升级的问题\"><a href=\"#3、修复6-2-3导致引导损坏无法升级的问题\" class=\"headerlink\" title=\"3、修复6.2.3导致引导损坏无法升级的问题\"></a>3、修复6.2.3导致引导损坏无法升级的问题</h3><p>1、ssh登录群晖<br>2、# sudo -i 进入root模式（输密码的时候不显示，直接输入就好，输完回车）<br>3、把FixSynoboot.sh使用群晖的File Station传到任意文件夹，然后右键-属性，复制地址，替换下面命令中文件的地址。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /volume1/folder/FixSynoboot.sh /usr/local/etc/rc.d</span><br></pre></td></tr></table></figure>\n\n<p>回到ssh，输入替换路径后的上面地址。<br>4、再输入下面的命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 0755 /usr/local/etc/rc.d/FixSynoboot.sh</span><br></pre></td></tr></table></figure>\n\n<p>5、重启群晖</p>\n<h2 id=\"三、有硬盘不识别或者顺序错乱\"><a href=\"#三、有硬盘不识别或者顺序错乱\" class=\"headerlink\" title=\"三、有硬盘不识别或者顺序错乱\"></a>三、有硬盘不识别或者顺序错乱</h2><p>和修改sn、mac方式一样，进入<code>grub.cfg</code></p>\n<p>找到 <code>set sata_args=&#39;SataPortMap=4&#39;</code> 改成set <code>sata_args=&#39;DiskIdxMap=0F00&#39;</code></p>\n<p>重启，就可以。</p>\n<h2 id=\"四、查看核显是否可用\"><a href=\"#四、查看核显是否可用\" class=\"headerlink\" title=\"四、查看核显是否可用\"></a>四、查看核显是否可用</h2><p>1、群晖开始SSH端口，连接到群晖，输入以下命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -la /dev/dri</span><br></pre></td></tr></table></figure>\n\n<p>执行命令啥后啥都没有，说明没有核显驱动可用。如果出现下图这样的说明成功了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mKyzKSrNN9WokVDbOdJiNQ01fxRju5HcxYv3onBlWEXca0WZwKW4YqP0iROV0j1KMU0Ez0Bhqx3N13clqf_22oAREYm8WqPPA-EBuCZoQc4pYe_V0Qnaz8UzDPLz3StuZe4vl5RSlbJ6iRi-S4Nuc6zebH4DBK5RfuwzP_YRMx0CFTERZz6Qz7lwSToHcGK4_?width=661&height=417&cropmode=none\"></p>\n<p>进入emby，设置-转码，启用硬件加速，选择高级。如下图所示，编码器和解码器有内容说明可以了。</p>\n<p><img src=\"https://sn3302files.storage.live.com/y4mU1vmgSBUc3RnHbdrq3D7dzA_nXLdUngLJ9Uz8DT-7oK6ESlvaJwFx5NrecBJ_snut5beUd6UNdtppo7lBLlrNQZFMHUGg3zdAFTXzd0dEgK7mUK3rUwbRsa876ZhTMfLn6Dlj3hXqa_VqVVsYJqkrQa5jTs-X52whyyvIt5D5dbwUySYfZqL9PKCpn253C6M?width=863&height=734&cropmode=none\"></p>\n<p>相关文件下载</p>\n"},{"title":"开启代理后如何使用Github Desktop","date":"2020-09-23T11:36:32.000Z","_content":"\n1.  在有代理设置的电脑上 clone GitHub 仓库时提示：  \n    `fatal: unable to access 'https://github.com/fhqfghgdx/Test-github.git/': Failed to connect to github.com port 443: Timed out`\n2.  经分析与收集资料，由于工作机上网需要设置代理，但是GitHub Windows 客户端没有找到网络设置的功能，故网搜如何 GitHub 设置代理，解决如下：  \n    找到 .gitconfig 配置文件，在文件结尾添加：  \n    `[http] proxy = http:_//www.proxy.com:port_`\n3.  如我的设置：  \n    `[http] proxy = http:_//127.0.0.1:1081_`\n4.  设置之后即可正常使用 GitHub clone 或者 commit 代码。  \n      \n    注：  \n     .gitconfig 配置文件位置说明：默认在个人User个人主目录下，是个隐藏文件，如我的 C:\\\\Users\\\\xxxxx\\\\.gitconfig，也可以直接使用 Everything 或者 Listary 在电脑内全局搜索该文件。\n\n![](https://sn3302files.storage.live.com/y4mx97Kyt9tIpUZ5zkW3VQ0suVgdS5VnoyTZxoQLS8llQOnukuTvF79vjiMqZXSIwuRi8z250vBEs2EC1w30JoC8epHu_ScuONQT8Z4UmAyllmdvJLmKqnrpr3fEN7iN-uwpTZjWefU-AXYVLJQ6c1LZJevgdGMzECfXgk4dOg6QwIeoxMWlAEZMGnxx8kjFy4c?width=423&height=289&cropmode=none)","source":"_posts/Tool/开启代理后如何使用github-desktop.md","raw":"---\ntitle: 开启代理后如何使用Github Desktop\ntags: \n  - Github Desktop\ncategories:\n  - - 开发笔记\ndate: 2020-09-23 19:36:32\n---\n\n1.  在有代理设置的电脑上 clone GitHub 仓库时提示：  \n    `fatal: unable to access 'https://github.com/fhqfghgdx/Test-github.git/': Failed to connect to github.com port 443: Timed out`\n2.  经分析与收集资料，由于工作机上网需要设置代理，但是GitHub Windows 客户端没有找到网络设置的功能，故网搜如何 GitHub 设置代理，解决如下：  \n    找到 .gitconfig 配置文件，在文件结尾添加：  \n    `[http] proxy = http:_//www.proxy.com:port_`\n3.  如我的设置：  \n    `[http] proxy = http:_//127.0.0.1:1081_`\n4.  设置之后即可正常使用 GitHub clone 或者 commit 代码。  \n      \n    注：  \n     .gitconfig 配置文件位置说明：默认在个人User个人主目录下，是个隐藏文件，如我的 C:\\\\Users\\\\xxxxx\\\\.gitconfig，也可以直接使用 Everything 或者 Listary 在电脑内全局搜索该文件。\n\n![](https://sn3302files.storage.live.com/y4mx97Kyt9tIpUZ5zkW3VQ0suVgdS5VnoyTZxoQLS8llQOnukuTvF79vjiMqZXSIwuRi8z250vBEs2EC1w30JoC8epHu_ScuONQT8Z4UmAyllmdvJLmKqnrpr3fEN7iN-uwpTZjWefU-AXYVLJQ6c1LZJevgdGMzECfXgk4dOg6QwIeoxMWlAEZMGnxx8kjFy4c?width=423&height=289&cropmode=none)","slug":"Tool/开启代理后如何使用github-desktop","published":1,"updated":"2025-02-21T10:54:53.996Z","comments":1,"layout":"post","photos":[],"_id":"cm7enwl2b005bews7e1dk21nv","content":"<ol>\n<li><p>在有代理设置的电脑上 clone GitHub 仓库时提示：<br><code>fatal: unable to access &#39;https://github.com/fhqfghgdx/Test-github.git/&#39;: Failed to connect to github.com port 443: Timed out</code></p>\n</li>\n<li><p>经分析与收集资料，由于工作机上网需要设置代理，但是GitHub Windows 客户端没有找到网络设置的功能，故网搜如何 GitHub 设置代理，解决如下：<br>找到 .gitconfig 配置文件，在文件结尾添加：<br><code>[http] proxy = http:_//www.proxy.com:port_</code></p>\n</li>\n<li><p>如我的设置：<br><code>[http] proxy = http:_//127.0.0.1:1081_</code></p>\n</li>\n<li><p>设置之后即可正常使用 GitHub clone 或者 commit 代码。  </p>\n<p>注：<br> .gitconfig 配置文件位置说明：默认在个人User个人主目录下，是个隐藏文件，如我的 C:\\Users\\xxxxx\\.gitconfig，也可以直接使用 Everything 或者 Listary 在电脑内全局搜索该文件。</p>\n</li>\n</ol>\n<p><img src=\"https://sn3302files.storage.live.com/y4mx97Kyt9tIpUZ5zkW3VQ0suVgdS5VnoyTZxoQLS8llQOnukuTvF79vjiMqZXSIwuRi8z250vBEs2EC1w30JoC8epHu_ScuONQT8Z4UmAyllmdvJLmKqnrpr3fEN7iN-uwpTZjWefU-AXYVLJQ6c1LZJevgdGMzECfXgk4dOg6QwIeoxMWlAEZMGnxx8kjFy4c?width=423&height=289&cropmode=none\"></p>\n","excerpt":"","more":"<ol>\n<li><p>在有代理设置的电脑上 clone GitHub 仓库时提示：<br><code>fatal: unable to access &#39;https://github.com/fhqfghgdx/Test-github.git/&#39;: Failed to connect to github.com port 443: Timed out</code></p>\n</li>\n<li><p>经分析与收集资料，由于工作机上网需要设置代理，但是GitHub Windows 客户端没有找到网络设置的功能，故网搜如何 GitHub 设置代理，解决如下：<br>找到 .gitconfig 配置文件，在文件结尾添加：<br><code>[http] proxy = http:_//www.proxy.com:port_</code></p>\n</li>\n<li><p>如我的设置：<br><code>[http] proxy = http:_//127.0.0.1:1081_</code></p>\n</li>\n<li><p>设置之后即可正常使用 GitHub clone 或者 commit 代码。  </p>\n<p>注：<br> .gitconfig 配置文件位置说明：默认在个人User个人主目录下，是个隐藏文件，如我的 C:\\Users\\xxxxx\\.gitconfig，也可以直接使用 Everything 或者 Listary 在电脑内全局搜索该文件。</p>\n</li>\n</ol>\n<p><img src=\"https://sn3302files.storage.live.com/y4mx97Kyt9tIpUZ5zkW3VQ0suVgdS5VnoyTZxoQLS8llQOnukuTvF79vjiMqZXSIwuRi8z250vBEs2EC1w30JoC8epHu_ScuONQT8Z4UmAyllmdvJLmKqnrpr3fEN7iN-uwpTZjWefU-AXYVLJQ6c1LZJevgdGMzECfXgk4dOg6QwIeoxMWlAEZMGnxx8kjFy4c?width=423&height=289&cropmode=none\"></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cm7enwl1i0005ews7h7my44ry","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1m000gews7hfzu5eq1"},{"post_id":"cm7enwl1b0000ews74krq4zv1","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1m000iews7cbj8a8e4"},{"post_id":"cm7enwl1i0006ews7c3bm2xzh","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1n000mews7cdyhelj7"},{"post_id":"cm7enwl1k000aews7gh9b8jx0","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1o000qews70bl9am6c"},{"post_id":"cm7enwl1e0001ews70dn846rq","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1o000uews7c3imfvl4"},{"post_id":"cm7enwl1k000bews777fd0zcn","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1p000wews7auirhygi"},{"post_id":"cm7enwl1l000fews7apry812d","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1q000zews7cfqhh522"},{"post_id":"cm7enwl1g0003ews79wfi5v2e","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1q0012ews705cs4uoq"},{"post_id":"cm7enwl1n000lews787p069rd","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1r0016ews76qyr5ob5"},{"post_id":"cm7enwl1n000oews78m43cgfa","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1r0018ews7bc9v6hip"},{"post_id":"cm7enwl1o000tews71sendbfw","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1s001aews7dpgc1u84"},{"post_id":"cm7enwl1m000hews78avkhjqs","category_id":"cm7enwl1o000pews71htffowj","_id":"cm7enwl1s001eews79uxpe32k"},{"post_id":"cm7enwl1p000vews70dvldg4l","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1t001hews743sd8y7n"},{"post_id":"cm7enwl1p000yews74ezz0omi","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1u001kews74buzg6gs"},{"post_id":"cm7enwl1q0011ews7f7whhir1","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1u001mews7dgtybb5q"},{"post_id":"cm7enwl1r0015ews7e4y3b609","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1v001pews7hdjb6msa"},{"post_id":"cm7enwl1r0017ews71b0mb0wc","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1v001sews76vih3ydu"},{"post_id":"cm7enwl1s0019ews71iwogt6g","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1w001wews7cth91m2g"},{"post_id":"cm7enwl1s001dews71p1yfalm","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1w001zews70iof6rfi"},{"post_id":"cm7enwl1t001gews7fl87emun","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1x0022ews72fam819m"},{"post_id":"cm7enwl1t001jews77hi9allx","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1x0025ews72q6u595c"},{"post_id":"cm7enwl1u001lews7awv608t1","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1y0029ews7eje82oqr"},{"post_id":"cm7enwl1u001oews7hycj2ge5","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1y002cews774zsc98j"},{"post_id":"cm7enwl1v001vews772et6sct","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1z002gews7blro4gdw"},{"post_id":"cm7enwl1w001xews758ns2lq2","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl1z002jews74xj16hxy"},{"post_id":"cm7enwl1w0021ews7g0vvc49v","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl20002mews71uwla6rx"},{"post_id":"cm7enwl1v001rews72od79avw","category_id":"cm7enwl1w001yews7ev9z0m5u","_id":"cm7enwl20002qews75kl7fhao"},{"post_id":"cm7enwl1x0024ews7fcrw1suk","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl21002tews711u80h9o"},{"post_id":"cm7enwl1x0028ews7cw2a7xc3","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl22002xews7eekj70hn"},{"post_id":"cm7enwl1y002bews72rpt8eua","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl22002zews7gbz2c256"},{"post_id":"cm7enwl1y002fews75dt0eqo3","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl220032ews7hqufcws9"},{"post_id":"cm7enwl1z002iews74sym1c5p","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl220034ews72t6beb83"},{"post_id":"cm7enwl1z002lews70zwd9icv","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl230036ews75ksqe5os"},{"post_id":"cm7enwl20002sews70yeiay12","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl230037ews7bmpjanga"},{"post_id":"cm7enwl21002vews77xmng9ua","category_id":"cm7enwl1w001yews7ev9z0m5u","_id":"cm7enwl230039ews7d8vn4sk8"},{"post_id":"cm7enwl20002pews72blyd8b0","category_id":"cm7enwl22002wews771aafqbj","_id":"cm7enwl23003aews77bdl43vr"},{"post_id":"cm7enwl2a0055ews7bc303217","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl2c005cews72jtqgeky"},{"post_id":"cm7enwl2a0056ews7a73mdo4j","category_id":"cm7enwl22002wews771aafqbj","_id":"cm7enwl2c005eews7bznp0v8o"},{"post_id":"cm7enwl2b0058ews7c951g9im","category_id":"cm7enwl1w001yews7ev9z0m5u","_id":"cm7enwl2c005gews7hokm52ra"},{"post_id":"cm7enwl2b005aews70rtrgx9a","category_id":"cm7enwl22002wews771aafqbj","_id":"cm7enwl2c005iews7ew4a60f8"},{"post_id":"cm7enwl2b005bews7e1dk21nv","category_id":"cm7enwl1h0004ews77f8x4byj","_id":"cm7enwl2c005lews7dsef20l3"}],"PostTag":[{"post_id":"cm7enwl1b0000ews74krq4zv1","tag_id":"cm7enwl1f0002ews7ctuvd97x","_id":"cm7enwl1k0009ews737045ji3"},{"post_id":"cm7enwl1k000aews7gh9b8jx0","tag_id":"cm7enwl1i0007ews7hv435iye","_id":"cm7enwl1l000eews7huyx48pq"},{"post_id":"cm7enwl1l000fews7apry812d","tag_id":"cm7enwl1l000dews715e8e5iv","_id":"cm7enwl1n000kews75myg3drl"},{"post_id":"cm7enwl1e0001ews70dn846rq","tag_id":"cm7enwl1i0007ews7hv435iye","_id":"cm7enwl1n000news7hhtu0ain"},{"post_id":"cm7enwl1e0001ews70dn846rq","tag_id":"cm7enwl1l000dews715e8e5iv","_id":"cm7enwl1o000rews7hnth6h1c"},{"post_id":"cm7enwl1g0003ews79wfi5v2e","tag_id":"cm7enwl1n000jews7b4jtfdk9","_id":"cm7enwl1q0010ews79agsg4bd"},{"post_id":"cm7enwl1g0003ews79wfi5v2e","tag_id":"cm7enwl1l000dews715e8e5iv","_id":"cm7enwl1q0013ews7aqje2svq"},{"post_id":"cm7enwl1i0005ews7h7my44ry","tag_id":"cm7enwl1n000jews7b4jtfdk9","_id":"cm7enwl1s001cews7d0tf43mv"},{"post_id":"cm7enwl1i0005ews7h7my44ry","tag_id":"cm7enwl1q0014ews74c1003hj","_id":"cm7enwl1t001fews7etwkakln"},{"post_id":"cm7enwl1i0006ews7c3bm2xzh","tag_id":"cm7enwl1n000jews7b4jtfdk9","_id":"cm7enwl1v001qews7bdzz2r2c"},{"post_id":"cm7enwl1i0006ews7c3bm2xzh","tag_id":"cm7enwl1t001iews75zj9av7k","_id":"cm7enwl1v001tews74gk2glpr"},{"post_id":"cm7enwl1k000bews777fd0zcn","tag_id":"cm7enwl1n000jews7b4jtfdk9","_id":"cm7enwl1x0023ews7b8y6gh0w"},{"post_id":"cm7enwl1k000bews777fd0zcn","tag_id":"cm7enwl1l000dews715e8e5iv","_id":"cm7enwl1x0026ews73rqcd1n4"},{"post_id":"cm7enwl1m000hews78avkhjqs","tag_id":"cm7enwl1w0020ews7dw5v0tim","_id":"cm7enwl1y002aews79szcfkg1"},{"post_id":"cm7enwl1x0028ews7cw2a7xc3","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl1y002dews75s6b3jlb"},{"post_id":"cm7enwl1n000lews787p069rd","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl1z002hews72fqu6k5u"},{"post_id":"cm7enwl1y002bews72rpt8eua","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl1z002kews778yhesy1"},{"post_id":"cm7enwl1z002iews74sym1c5p","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl20002oews75mxwcxf2"},{"post_id":"cm7enwl1z002lews70zwd9icv","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl20002rews7gkgq37ke"},{"post_id":"cm7enwl1n000oews78m43cgfa","tag_id":"cm7enwl1y002eews79fhwamsk","_id":"cm7enwl22002yews7d0khb0ca"},{"post_id":"cm7enwl1n000oews78m43cgfa","tag_id":"cm7enwl20002news72w6z2r7v","_id":"cm7enwl220030ews782f9gm3m"},{"post_id":"cm7enwl1o000tews71sendbfw","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl220033ews7hg8jd8ey"},{"post_id":"cm7enwl1p000vews70dvldg4l","tag_id":"cm7enwl220031ews73mjv3bcz","_id":"cm7enwl23003cews79hsn3keh"},{"post_id":"cm7enwl1p000vews70dvldg4l","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl23003dews72yg42t80"},{"post_id":"cm7enwl1p000vews70dvldg4l","tag_id":"cm7enwl230038ews78hlu4rp3","_id":"cm7enwl23003fews7abe08o0c"},{"post_id":"cm7enwl1p000yews74ezz0omi","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl23003gews7b4ku8ij6"},{"post_id":"cm7enwl1q0011ews7f7whhir1","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl23003iews70ac03wtu"},{"post_id":"cm7enwl1r0015ews7e4y3b609","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl24003kews74a4q4l37"},{"post_id":"cm7enwl1r0017ews71b0mb0wc","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl24003mews79f54h518"},{"post_id":"cm7enwl1s0019ews71iwogt6g","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl24003oews7667ucho6"},{"post_id":"cm7enwl1s001dews71p1yfalm","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl24003rews7b2q254am"},{"post_id":"cm7enwl1s001dews71p1yfalm","tag_id":"cm7enwl24003pews713872lzn","_id":"cm7enwl24003sews74xbefy29"},{"post_id":"cm7enwl1t001gews7fl87emun","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl25003vews78wp4ems8"},{"post_id":"cm7enwl1t001gews7fl87emun","tag_id":"cm7enwl24003tews71v0fgl5b","_id":"cm7enwl25003wews7fqixdhfj"},{"post_id":"cm7enwl1t001jews77hi9allx","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl25003zews7dol39ky0"},{"post_id":"cm7enwl1t001jews77hi9allx","tag_id":"cm7enwl24003pews713872lzn","_id":"cm7enwl250040ews7h25s98k7"},{"post_id":"cm7enwl1u001lews7awv608t1","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl260042ews7gqikbjbn"},{"post_id":"cm7enwl1u001oews7hycj2ge5","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl260045ews709up653d"},{"post_id":"cm7enwl1u001oews7hycj2ge5","tag_id":"cm7enwl260043ews79hh7ffp0","_id":"cm7enwl260046ews7h1mcca2q"},{"post_id":"cm7enwl1v001rews72od79avw","tag_id":"cm7enwl260044ews75bz01xk0","_id":"cm7enwl260048ews72mk6dqbt"},{"post_id":"cm7enwl1v001vews772et6sct","tag_id":"cm7enwl260044ews75bz01xk0","_id":"cm7enwl26004aews7bqa3g2du"},{"post_id":"cm7enwl1w001xews758ns2lq2","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl27004cews72wll5dp8"},{"post_id":"cm7enwl1w0021ews7g0vvc49v","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl27004eews7eubeacvz"},{"post_id":"cm7enwl1x0024ews7fcrw1suk","tag_id":"cm7enwl27004dews74bg5hxxq","_id":"cm7enwl27004jews77dgc8rlz"},{"post_id":"cm7enwl1x0024ews7fcrw1suk","tag_id":"cm7enwl27004fews78ah18mt8","_id":"cm7enwl28004kews7b6ft4dx2"},{"post_id":"cm7enwl1x0024ews7fcrw1suk","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl28004mews7ehyu10fk"},{"post_id":"cm7enwl1x0024ews7fcrw1suk","tag_id":"cm7enwl27004hews7328b0mrg","_id":"cm7enwl28004news7ayi46nwd"},{"post_id":"cm7enwl1y002fews75dt0eqo3","tag_id":"cm7enwl27004iews7czezaa7q","_id":"cm7enwl28004qews7e9hi3k9g"},{"post_id":"cm7enwl1y002fews75dt0eqo3","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl28004rews7gm5hf8f8"},{"post_id":"cm7enwl1y002fews75dt0eqo3","tag_id":"cm7enwl230038ews78hlu4rp3","_id":"cm7enwl28004tews77pvdapfa"},{"post_id":"cm7enwl1y002fews75dt0eqo3","tag_id":"cm7enwl260043ews79hh7ffp0","_id":"cm7enwl28004uews7anqm6lq9"},{"post_id":"cm7enwl20002pews72blyd8b0","tag_id":"cm7enwl28004pews701r4eoe4","_id":"cm7enwl29004xews7hl1s2kfd"},{"post_id":"cm7enwl20002pews72blyd8b0","tag_id":"cm7enwl28004sews7aiv46rxs","_id":"cm7enwl29004yews7c1k433za"},{"post_id":"cm7enwl20002pews72blyd8b0","tag_id":"cm7enwl28004vews7706u07qw","_id":"cm7enwl290050ews7evul6per"},{"post_id":"cm7enwl20002sews70yeiay12","tag_id":"cm7enwl28004wews7ck1vgz4e","_id":"cm7enwl290051ews70huv2k90"},{"post_id":"cm7enwl21002vews77xmng9ua","tag_id":"cm7enwl29004zews710qk2ud4","_id":"cm7enwl290053ews7fbfcbwt8"},{"post_id":"cm7enwl21002vews77xmng9ua","tag_id":"cm7enwl290052ews77e72hoff","_id":"cm7enwl290054ews7bdizhp6h"},{"post_id":"cm7enwl2a0055ews7bc303217","tag_id":"cm7enwl1x0027ews7a9lyb3o0","_id":"cm7enwl2b0057ews7gqs7bnyu"},{"post_id":"cm7enwl2b005bews7e1dk21nv","tag_id":"cm7enwl290052ews77e72hoff","_id":"cm7enwl2c005fews76nkc2k9f"},{"post_id":"cm7enwl2a0056ews7a73mdo4j","tag_id":"cm7enwl2b0059ews70cu9bbdt","_id":"cm7enwl2c005hews7cwvmfrfa"},{"post_id":"cm7enwl2b0058ews7c951g9im","tag_id":"cm7enwl2c005dews73c0d6ulj","_id":"cm7enwl2c005kews7dnnp3stz"},{"post_id":"cm7enwl2b005aews70rtrgx9a","tag_id":"cm7enwl2c005jews77jnu0oxo","_id":"cm7enwl2d005news79ce61aqb"},{"post_id":"cm7enwl2b005aews70rtrgx9a","tag_id":"cm7enwl2d005mews76qw731qh","_id":"cm7enwl2d005oews7fl981z1a"}],"Tag":[{"name":"隐私策略","_id":"cm7enwl1f0002ews7ctuvd97x"},{"name":"ASP.NET Core","_id":"cm7enwl1i0007ews7hv435iye"},{"name":"MongoDB","_id":"cm7enwl1l000dews715e8e5iv"},{"name":"CentOS","_id":"cm7enwl1n000jews7b4jtfdk9"},{"name":"React","_id":"cm7enwl1q0014ews74c1003hj"},{"name":"Nginx","_id":"cm7enwl1t001iews75zj9av7k"},{"name":"Revit","_id":"cm7enwl1w0020ews7dw5v0tim"},{"name":"UWP","_id":"cm7enwl1x0027ews7a9lyb3o0"},{"name":"Json","_id":"cm7enwl1y002eews79fhwamsk"},{"name":"Newtonsoft","_id":"cm7enwl20002news72w6z2r7v"},{"name":"PowerShell","_id":"cm7enwl220031ews73mjv3bcz"},{"name":"Win10","_id":"cm7enwl230038ews78hlu4rp3"},{"name":"WebView","_id":"cm7enwl24003pews713872lzn"},{"name":"WTS","_id":"cm7enwl24003tews71v0fgl5b"},{"name":"Windows 10","_id":"cm7enwl260043ews79hh7ffp0"},{"name":"Visual Studio","_id":"cm7enwl260044ews75bz01xk0"},{"name":"GridView","_id":"cm7enwl27004dews74bg5hxxq"},{"name":"ListView","_id":"cm7enwl27004fews78ah18mt8"},{"name":"虚拟化","_id":"cm7enwl27004hews7328b0mrg"},{"name":"FlipView","_id":"cm7enwl27004iews7czezaa7q"},{"name":"Smtp","_id":"cm7enwl28004pews701r4eoe4"},{"name":"阿里云","_id":"cm7enwl28004sews7aiv46rxs"},{"name":"wordpress","_id":"cm7enwl28004vews7706u07qw"},{"name":"安卓","_id":"cm7enwl28004wews7ck1vgz4e"},{"name":"Git","_id":"cm7enwl29004zews710qk2ud4"},{"name":"Github Desktop","_id":"cm7enwl290052ews77e72hoff"},{"name":"Nas","_id":"cm7enwl2b0059ews70cu9bbdt"},{"name":"Photoshop","_id":"cm7enwl2c005dews73c0d6ulj"},{"name":"NAS","_id":"cm7enwl2c005jews77jnu0oxo"},{"name":"EXSI","_id":"cm7enwl2d005mews76qw731qh"}]}}